---
title: İşlem Yönetimi Yükseltme
ms.date: 03/30/2017
ms.assetid: 1e96331e-31b6-4272-bbbd-29ed1e110460
ms.openlocfilehash: 2a5592cc9ebf0ddfc49f38da9404c81d11a29cf8
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61793563"
---
# <a name="transaction-management-escalation"></a><span data-ttu-id="c3e30-102">İşlem Yönetimi Yükseltme</span><span class="sxs-lookup"><span data-stu-id="c3e30-102">Transaction Management Escalation</span></span>
<span data-ttu-id="c3e30-103">Windows bir Hizmetleri ve birlikte bir işlem yöneticisi oluşturan modülleri kümesini barındırır.</span><span class="sxs-lookup"><span data-stu-id="c3e30-103">Windows hosts a set of services and modules that together constitute a transaction manager.</span></span> <span data-ttu-id="c3e30-104">İşlem Yönetim yükseltme bir işlem hareket yöneticisinin bileşenlerden biri diğerine geçiş işlemini açıklar.</span><span class="sxs-lookup"><span data-stu-id="c3e30-104">Transaction management escalation describes the process of migrating a transaction from one of the transaction manager's components to another.</span></span>  
  
 <span data-ttu-id="c3e30-105"><xref:System.Transactions> en çok tek bir kalıcı kaynak veya birden çok geçici kaynakları içeren bir işlem koordinatları bir işlem yöneticisi bileşeni içerir.</span><span class="sxs-lookup"><span data-stu-id="c3e30-105"><xref:System.Transactions> includes a transaction manager component that coordinates a transaction involving at most, a single durable resource or multiple volatile resources.</span></span> <span data-ttu-id="c3e30-106">İşlem Yöneticisi yalnızca içi uygulama etki alanı çağrıları kullandığından, en iyi performansı verir.</span><span class="sxs-lookup"><span data-stu-id="c3e30-106">Because the transaction manager uses only intra-application domain calls, it yields the best performance.</span></span> <span data-ttu-id="c3e30-107">Geliştiriciler işlem yöneticisi ile doğrudan etkileşimli olarak.</span><span class="sxs-lookup"><span data-stu-id="c3e30-107">Developers need not interact with the transaction manager directly.</span></span> <span data-ttu-id="c3e30-108">Bunun yerine, arabirimleri, ortak davranışını ve yardımcı sınıfları tanımlayan bir ortak altyapısı tarafından sağlanan <xref:System.Transactions> ad alanı.</span><span class="sxs-lookup"><span data-stu-id="c3e30-108">Instead, a common infrastructure that defines interfaces, common behavior, and helper classes is provided by the <xref:System.Transactions> namespace.</span></span>  
  
 <span data-ttu-id="c3e30-109">Aynı bilgisayarda işlemin (işlem ve makine sınırlarında dahil) başka bir uygulama etki alanındaki bir nesneye sağlamak istediğinizde <xref:System.Transactions> altyapı, Microsoft tarafından yönetilmek üzere işlem otomatik olarak iletir Dağıtılmış İşlem Düzenleyicisi (MSDTC).</span><span class="sxs-lookup"><span data-stu-id="c3e30-109">When you want to provide the transaction to an object in another application domain (including across process and machine boundaries) on the same computer, the <xref:System.Transactions> infrastructure automatically escalates the transaction to be managed by the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="c3e30-110">Başka bir kalıcı Kaynak Yöneticisi listeleme yükseltme de oluşur.</span><span class="sxs-lookup"><span data-stu-id="c3e30-110">The escalation also occurs if you enlist another durable resource manager.</span></span> <span data-ttu-id="c3e30-111">İlerletilmiş işlemi, yükseltilmiş durumunda kendi tamamlanana kadar yönetilen kalır.</span><span class="sxs-lookup"><span data-stu-id="c3e30-111">When escalated, the transaction remains managed in its elevated state until its completion.</span></span>  
  
 <span data-ttu-id="c3e30-112">Arasında <xref:System.Transactions> işlem ve MSDTC işlem Promotable tek aşaması liste (PSPE) aracılığıyla sunulan işlem bir aracı türü yok.</span><span class="sxs-lookup"><span data-stu-id="c3e30-112">Between the <xref:System.Transactions> transaction and MSDTC transaction, there is an intermediary type of transaction that is made available through the Promotable Single Phase Enlistment (PSPE).</span></span> <span data-ttu-id="c3e30-113">PSPE olan başka bir önemli yönteminde <xref:System.Transactions> performansını iyileştirme için.</span><span class="sxs-lookup"><span data-stu-id="c3e30-113">PSPE is another important mechanism in <xref:System.Transactions> for performance optimization.</span></span> <span data-ttu-id="c3e30-114">Farklı uygulama etki alanı, işlem veya'na katılmak için bilgisayarda bulunan bir uzak kalıcı kaynak sağlayan bir <xref:System.Transactions> bir MSDTC işlem ilerletilmiş için bu neden olmadan işlem.</span><span class="sxs-lookup"><span data-stu-id="c3e30-114">It allows a remote durable resource, located in a different application domain, process or computer, to participate in a <xref:System.Transactions> transaction without causing it to be escalated to an MSDTC transaction.</span></span> <span data-ttu-id="c3e30-115">PSPE hakkında daha fazla bilgi için bkz: [katılımcı bir işlemde kaynakları kaydetme](../../../../docs/framework/data/transactions/enlisting-resources-as-participants-in-a-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="c3e30-115">For more information about PSPE, see [Enlisting Resources as Participants in a Transaction](../../../../docs/framework/data/transactions/enlisting-resources-as-participants-in-a-transaction.md).</span></span>  
  
## <a name="how-escalation-is-initiated"></a><span data-ttu-id="c3e30-116">Yükseltme nasıl başlatılır</span><span class="sxs-lookup"><span data-stu-id="c3e30-116">How Escalation is Initiated</span></span>  
 <span data-ttu-id="c3e30-117">MSDTC ayrı bir işlemde ve işlem gönderilen iletiler MSDTC sonuçları için bir işlem Etkinleºmesini bulunduğundan işlem yükseltme performans azaltır.</span><span class="sxs-lookup"><span data-stu-id="c3e30-117">Transaction escalation reduces performance because the MSDTC resides in a separate process, and escalating a transaction to the MSDTC results in messages being sent across process.</span></span> <span data-ttu-id="c3e30-118">Performansı artırmak için gecikme veya MSDTC aktarmayı kaçının; Bu nedenle, nasıl ve ne zaman yükseltme başlatılır bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="c3e30-118">To improve performance, you should delay or avoid escalation to MSDTC; thus, you need to know how and when the escalation is initiated.</span></span>  
  
 <span data-ttu-id="c3e30-119">Sürece <xref:System.Transactions> altyapı işler geçici kaynakları ve tek aşamalı bildirimleri, sahipliğini işlem saklanır desteklediği en çok bir kalıcı kaynak <xref:System.Transactions> altyapı.</span><span class="sxs-lookup"><span data-stu-id="c3e30-119">As long as the <xref:System.Transactions> infrastructure handles volatile resources and at most one durable resource that supports single-phase notifications, the transaction remains in the ownership of the <xref:System.Transactions> infrastructure.</span></span> <span data-ttu-id="c3e30-120">İşlem Yöneticisi yalnızca aynı uygulama etki alanındaki ve (hareketin sonucu yazılırken) hangi günlüğe kaydetme için Canlı gerekli olmadığını kaynakları için kendisini avails.</span><span class="sxs-lookup"><span data-stu-id="c3e30-120">The transaction manager avails itself only to those resources that live in the same application domain and for which logging (writing the transaction outcome to disk) is not required.</span></span> <span data-ttu-id="c3e30-121">Sonuçlanır bir yükseltme <xref:System.Transactions> MSDTC için işlem sahipliğini aktarma altyapı olur olduğunda:</span><span class="sxs-lookup"><span data-stu-id="c3e30-121">An escalation that results in the <xref:System.Transactions> infrastructure transferring the ownership of the transaction to MSDTC happens when:</span></span>  
  
- <span data-ttu-id="c3e30-122">Tek aşamalı bildirimleri desteklemiyor en az bir kalıcı kaynak işleme kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="c3e30-122">At least one durable resource that does not support single-phase notifications is enlisted in the transaction.</span></span>  
  
- <span data-ttu-id="c3e30-123">Tek aşamalı bildirimlerini desteklemek en az iki kalıcı kaynak kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="c3e30-123">At least two durable resources that support single-phase notifications are enlisted in the transaction.</span></span> <span data-ttu-id="c3e30-124">Örneğin, tek bir bağlantı kaydetme [!INCLUDE[sqprsqlong](../../../../includes/sqprsqlong-md.md)] yükseltilecek bir işlem neden olmayacak.</span><span class="sxs-lookup"><span data-stu-id="c3e30-124">For example, enlisting a single connection with [!INCLUDE[sqprsqlong](../../../../includes/sqprsqlong-md.md)] does not cause a transaction to be promoted.</span></span> <span data-ttu-id="c3e30-125">Ancak, her açtığınız ikinci bağlantıya bir [!INCLUDE[sqprsqlong](../../../../includes/sqprsqlong-md.md)] listeleme veritabanına neden veritabanı <xref:System.Transactions> altyapı algılar, işlem ikinci kalıcı kaynak olan ve bir MSDTC işlem için iletir.</span><span class="sxs-lookup"><span data-stu-id="c3e30-125">However, whenever you open a second connection to a [!INCLUDE[sqprsqlong](../../../../includes/sqprsqlong-md.md)] database causing the database to enlist, the <xref:System.Transactions> infrastructure detects that it is the second durable resource in the transaction, and escalates it to an MSDTC transaction.</span></span>  
  
- <span data-ttu-id="c3e30-126">"İşlem farklı uygulama etki alanı ya da farklı bir işlem sıralamakta" bir istek çağrılır.</span><span class="sxs-lookup"><span data-stu-id="c3e30-126">A request to "marshal" the transaction to a different application domain or different process is invoked.</span></span> <span data-ttu-id="c3e30-127">Örneğin, bir uygulama etki alanı sınırları üzerinden işlem nesnesi serileştirme.</span><span class="sxs-lookup"><span data-stu-id="c3e30-127">For example, the serialization of the transaction object across an application domain boundary.</span></span> <span data-ttu-id="c3e30-128">İşlem nesnesi sıralanmış-tarafından-her türlü girişim, uygulama etki alanı sınırı (hatta aynı işlemde) üzerinden geçmek için işlem nesnesi serileştirmede sonuçları başka bir deyişle değerdir.</span><span class="sxs-lookup"><span data-stu-id="c3e30-128">The transaction object is marshaled-by-value, meaning that any attempt to pass it across an application domain boundary (even in the same process) results in serialization of the transaction object.</span></span> <span data-ttu-id="c3e30-129">Alan bir uzak yöntem bir arama yaparak işlem nesneleri geçirebilirsiniz bir <xref:System.Transactions.Transaction> bir parametre veya uzak bir işlem hizmet bileşeni erişmek deneyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c3e30-129">You can pass the transaction objects by making a call on a remote method that takes a <xref:System.Transactions.Transaction> as a parameter or you can try to access a remote transactional-serviced component.</span></span> <span data-ttu-id="c3e30-130">Bu işlem nesnesini serileştirir ve bir uygulama etki bir işlem olduğunda serileştirildiği olarak bir yükseltme sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="c3e30-130">This serializes the transaction object and results in an escalation, as when a transaction is serialized across an application domain.</span></span> <span data-ttu-id="c3e30-131">Bu dağıtılmış ve yerel hareket yöneticisi yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="c3e30-131">It is being distributed and the local transaction manager is no longer adequate.</span></span>  
  
 <span data-ttu-id="c3e30-132">Aşağıdaki tablo yükseltme sırasında oluşturulan tüm olası özel durumları listeler.</span><span class="sxs-lookup"><span data-stu-id="c3e30-132">The following table lists all the possible exceptions that can be thrown during escalation.</span></span>  
  
|<span data-ttu-id="c3e30-133">Özel durum türü</span><span class="sxs-lookup"><span data-stu-id="c3e30-133">Exception type</span></span>|<span data-ttu-id="c3e30-134">Koşul</span><span class="sxs-lookup"><span data-stu-id="c3e30-134">Condition</span></span>|  
|--------------------|---------------|  
|<xref:System.InvalidOperationException>|<span data-ttu-id="c3e30-135">Yalıtım düzeyi eşit olan bir işlem İlerlet girişimi <xref:System.Transactions.IsolationLevel.Snapshot>.</span><span class="sxs-lookup"><span data-stu-id="c3e30-135">An attempt to escalate a transaction with isolation level equal to <xref:System.Transactions.IsolationLevel.Snapshot>.</span></span>|  
|<xref:System.Transactions.TransactionAbortedException>|<span data-ttu-id="c3e30-136">İşlem Yöneticisi kapalı.</span><span class="sxs-lookup"><span data-stu-id="c3e30-136">The transaction manager is down.</span></span>|  
|<xref:System.Transactions.TransactionException>|<span data-ttu-id="c3e30-137">Yükseltme başarısız olur ve uygulama durduruldu.</span><span class="sxs-lookup"><span data-stu-id="c3e30-137">The escalation fails and the application is aborted.</span></span>|
