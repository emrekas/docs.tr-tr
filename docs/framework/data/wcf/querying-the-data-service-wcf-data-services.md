---
title: Veri hizmetini (WCF Veri Hizmetleri) sorgulama
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, querying
- WCF Data Services, accessing data
ms.assetid: 823e9444-27aa-4f1f-be8e-0486d67f54c0
ms.openlocfilehash: 3283ec1661138a636914d6b1ca5e7adb5d5d52d3
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/08/2019
ms.locfileid: "59175987"
---
# <a name="querying-the-data-service-wcf-data-services"></a><span data-ttu-id="32c49-102">Veri hizmetini (WCF Veri Hizmetleri) sorgulama</span><span class="sxs-lookup"><span data-stu-id="32c49-102">Querying the Data Service (WCF Data Services)</span></span>
<span data-ttu-id="32c49-103">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] İstemci kitaplığı sağlar, tanıdık karşı kullanarak bir veri hizmeti sorguları yürütmek [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] programlama desenleri, dil ile tümleşik sorgu (LINQ) kullanımı dahil olmak üzere.</span><span class="sxs-lookup"><span data-stu-id="32c49-103">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library enables you to execute queries against a data service by using familiar [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] programming patterns, including using language integrated query (LINQ).</span></span> <span data-ttu-id="32c49-104">İstemci Kitaplığı istemcide bir örneği olarak tanımlanan bir sorgu çevirir <xref:System.Data.Services.Client.DataServiceQuery%601> sınıfına bir HTTP GET isteği iletisi.</span><span class="sxs-lookup"><span data-stu-id="32c49-104">The client library translates a query, which is defined on the client as an instance of the <xref:System.Data.Services.Client.DataServiceQuery%601> class, into an HTTP GET request message.</span></span> <span data-ttu-id="32c49-105">Kitaplığı yanıt iletisini alır ve istemci veri hizmeti sınıfları örneğine çevirir.</span><span class="sxs-lookup"><span data-stu-id="32c49-105">The library receives the response message and translates it into instances of client data service classes.</span></span> <span data-ttu-id="32c49-106">Bu sınıflar tarafından izlenen <xref:System.Data.Services.Client.DataServiceContext> hangi <xref:System.Data.Services.Client.DataServiceQuery%601> ait.</span><span class="sxs-lookup"><span data-stu-id="32c49-106">These classes are tracked by the <xref:System.Data.Services.Client.DataServiceContext> to which the <xref:System.Data.Services.Client.DataServiceQuery%601> belongs.</span></span>  
  
## <a name="data-service-queries"></a><span data-ttu-id="32c49-107">Veri Hizmeti sorguları</span><span class="sxs-lookup"><span data-stu-id="32c49-107">Data Service Queries</span></span>  
 <span data-ttu-id="32c49-108"><xref:System.Data.Services.Client.DataServiceQuery%601> Genel bir sınıf, sıfır veya daha fazla varlık türü örneklerinin bir koleksiyonunu döndüren bir sorgu temsil eder.</span><span class="sxs-lookup"><span data-stu-id="32c49-108">The <xref:System.Data.Services.Client.DataServiceQuery%601> generic class represents a query that returns a collection of zero or more entity type instances.</span></span> <span data-ttu-id="32c49-109">Veri Hizmeti sorgusuna her zaman var olan bir veri hizmeti bağlamına ait.</span><span class="sxs-lookup"><span data-stu-id="32c49-109">A data service query always belongs to an existing data service context.</span></span> <span data-ttu-id="32c49-110">Bu bağlam oluşturma ve sorgu yürütmek için gerekli olan hizmet URI'si ve meta veri bilgilerini korur.</span><span class="sxs-lookup"><span data-stu-id="32c49-110">This context maintains the service URI and metadata information that is required to compose and execute the query.</span></span>  
  
 <span data-ttu-id="32c49-111">Kullanırken **hizmet Başvurusu Ekle** bir veri hizmetine eklemek için iletişim bir [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-tabanlı bir istemci uygulaması, bir varlık kapsayıcı sınıfı devralınan oluşturulur <xref:System.Data.Services.Client.DataServiceContext> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="32c49-111">When you use the **Add Service Reference** dialog to add a data service to a [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-based client application, an entity container class is created that inherits from the <xref:System.Data.Services.Client.DataServiceContext> class.</span></span> <span data-ttu-id="32c49-112">Bu sınıf döndüren türü belirlenmiş özellikler içeren <xref:System.Data.Services.Client.DataServiceQuery%601> örnekleri.</span><span class="sxs-lookup"><span data-stu-id="32c49-112">This class includes properties that return typed <xref:System.Data.Services.Client.DataServiceQuery%601> instances.</span></span> <span data-ttu-id="32c49-113">Verileri kullanıma sunan hizmet her varlık kümesi için bir özellik yoktur.</span><span class="sxs-lookup"><span data-stu-id="32c49-113">There is one property for each entity set that the data service exposes.</span></span> <span data-ttu-id="32c49-114">Bu özellikler bir türü belirtilmiş bir örneğini oluşturmak kolaylaştırır <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="32c49-114">These properties make it easier to create an instance of a typed <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>  
  
 <span data-ttu-id="32c49-115">Bir sorgu, aşağıdaki senaryolarda çalıştırılır:</span><span class="sxs-lookup"><span data-stu-id="32c49-115">A query is executed in the following scenarios:</span></span>  
  
-   <span data-ttu-id="32c49-116">Sonuçları örtülü olarak numaralandırılır olduğunda gibi:</span><span class="sxs-lookup"><span data-stu-id="32c49-116">When results are enumerated implicitly, such as:</span></span>  
  
    -   <span data-ttu-id="32c49-117">Bir özellikte olduğunda <xref:System.Data.Services.Client.DataServiceContext> temsil eden ve varlık kümesi numaralandırılan, gibi sırasında bir `foreach` (C#) veya `For Each` döngüsü (Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="32c49-117">When a property on the <xref:System.Data.Services.Client.DataServiceContext> that represents and entity set is enumerated, such as during a `foreach` (C#) or `For Each` (Visual Basic) loop.</span></span>  
  
    -   <span data-ttu-id="32c49-118">Ne zaman sorgu atandığı bir `List` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="32c49-118">When the query is assigned to a `List` collection.</span></span>  
  
-   <span data-ttu-id="32c49-119">Zaman <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> veya <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> yöntemi açıkça çağrılmaz.</span><span class="sxs-lookup"><span data-stu-id="32c49-119">When the <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> or <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> method is explicitly called.</span></span>  
  
-   <span data-ttu-id="32c49-120">Ne zaman bir LINQ Sorgu yürütme işleci gibi <xref:System.Linq.Enumerable.First%2A> veya <xref:System.Linq.Enumerable.Single%2A> çağrılır.</span><span class="sxs-lookup"><span data-stu-id="32c49-120">When a LINQ query execution operator, such as <xref:System.Linq.Enumerable.First%2A> or <xref:System.Linq.Enumerable.Single%2A> is called.</span></span>  
  
 <span data-ttu-id="32c49-121">Aşağıdaki sorgu yürütüldüğünde, tüm döndürür `Customers` Northwind verileri hizmeti varlıklarda:</span><span class="sxs-lookup"><span data-stu-id="32c49-121">The following query, when it is executed, returns all `Customers` entities in the Northwind data service:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#getallcustomersspecific)]  
 [!code-vb[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#getallcustomersspecific)]  
  
 <span data-ttu-id="32c49-122">Daha fazla bilgi için [nasıl yapılır: Veri Hizmeti sorguları yürütme](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-122">For more information, see [How to: Execute Data Service Queries](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="32c49-123">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] İstemci kullandığınızda gibi geç bağlanan nesneler için sorguları destekleyen *dinamik* yazın C#.</span><span class="sxs-lookup"><span data-stu-id="32c49-123">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client supports queries for late-bound objects, such as when you use the *dynamic* type in C#.</span></span> <span data-ttu-id="32c49-124">Ancak, performansla ilgili nedenlerden dolayı her zaman kesin türü belirtilmiş veri hizmeti sorguları oluşturmak.</span><span class="sxs-lookup"><span data-stu-id="32c49-124">However, for performance reasons you should always compose strongly-typed queries against the data service.</span></span> <span data-ttu-id="32c49-125"><xref:System.Tuple> Türü ve dinamik nesneler, istemci tarafından desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="32c49-125">The <xref:System.Tuple> type and dynamic objects are not supported by the client.</span></span>  
  
## <a name="linq-queries"></a><span data-ttu-id="32c49-126">LINQ Sorguları</span><span class="sxs-lookup"><span data-stu-id="32c49-126">LINQ Queries</span></span>  
 <span data-ttu-id="32c49-127">Çünkü <xref:System.Data.Services.Client.DataServiceQuery%601> sınıfının Implements <xref:System.Linq.IQueryable%601> LINQ tarafından tanımlanan arabirimi [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] karşı bir veri hizmeti değerlendirilen bir sorgu ifadesini gösteren bir URI LINQ sorguları varlık kümesi verileri dönüştürmek için İstemci Kitaplığı Kaynak.</span><span class="sxs-lookup"><span data-stu-id="32c49-127">Because the <xref:System.Data.Services.Client.DataServiceQuery%601> class implements the <xref:System.Linq.IQueryable%601> interface defined by LINQ, the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library is able to transform LINQ queries against entity set data into a URI that represents a query expression evaluated against a data service resource.</span></span> <span data-ttu-id="32c49-128">Aşağıdaki örnek, önceki denk bir LINQ sorgusu <xref:System.Data.Services.Client.DataServiceQuery%601> döndüren `Orders` maliyet freight tarafından birden fazla 30 ABD Doları ve siparişler sonuçları freight maliyetini sahip:</span><span class="sxs-lookup"><span data-stu-id="32c49-128">The following example is a LINQ query that is equivalent to the previous <xref:System.Data.Services.Client.DataServiceQuery%601> that returns `Orders` that have a freight cost of more than $30 and orders the results by the freight cost:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addqueryoptionslinqspecific)]  
 [!code-vb[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addqueryoptionslinqspecific)]  
  
 <span data-ttu-id="32c49-129">Aşağıdaki sorgu Northwind tabanlı karşı yürütülen URI bu LINQ sorgusu çevrilir [hızlı](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) veri hizmeti:</span><span class="sxs-lookup"><span data-stu-id="32c49-129">This LINQ query is translated into the following query URI that is executed against the Northwind-based [quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) data service:</span></span>  
  
```  
http://localhost:12345/Northwind.svc/Orders?Orderby=ShippedDate&?filter=Freight gt 30  
```  
  
> [!NOTE]
>  <span data-ttu-id="32c49-130">Sorgu LINQ söz diziminde ifade kümesi temsili durum aktarımı (REST) etkin daha geniştir-Veri Hizmetleri tarafından kullanılan URI'si söz dizimi bağlı.</span><span class="sxs-lookup"><span data-stu-id="32c49-130">The set of queries expressible in the LINQ syntax is broader than those enabled in the representational state transfer (REST)-based URI syntax that is used by data services.</span></span> <span data-ttu-id="32c49-131">A <xref:System.NotSupportedException> hedef data Service'teki bir URI sorgu eşlenemediğinde ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="32c49-131">A <xref:System.NotSupportedException> is raised when the query cannot be mapped to a URI in the target data service.</span></span>  
  
 <span data-ttu-id="32c49-132">Daha fazla bilgi için [LINQ konuları](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-132">For more information, see [LINQ Considerations](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span></span>  
  
## <a name="adding-query-options"></a><span data-ttu-id="32c49-133">Sorgu seçenekleri ekleme</span><span class="sxs-lookup"><span data-stu-id="32c49-133">Adding Query Options</span></span>  
 <span data-ttu-id="32c49-134">Veri Hizmeti sorguları desteği tüm sorgu seçeneklerini [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]s sağlar.</span><span class="sxs-lookup"><span data-stu-id="32c49-134">Data service queries support all the query options that [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]s provides.</span></span> <span data-ttu-id="32c49-135">Çağırmanızı <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> sorgu seçeneklerini eklenecek yöntemi bir <xref:System.Data.Services.Client.DataServiceQuery%601> örneği.</span><span class="sxs-lookup"><span data-stu-id="32c49-135">You call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method to append query options to a <xref:System.Data.Services.Client.DataServiceQuery%601> instance.</span></span> <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> <span data-ttu-id="32c49-136">Yeni bir <xref:System.Data.Services.Client.DataServiceQuery%601> özgün sorguya eşdeğer olan örneği ancak yeni bir sorgu ile bir seçenek kümesi.</span><span class="sxs-lookup"><span data-stu-id="32c49-136">returns a new <xref:System.Data.Services.Client.DataServiceQuery%601> instance that is equivalent to the original query but with the new query option set.</span></span> <span data-ttu-id="32c49-137">Aşağıdaki sorgu çalıştırıldığında, döndürür `Orders` göre filtrelenmiş `Freight` değeri ve göre sıralanmış `OrderID`, azalan:</span><span class="sxs-lookup"><span data-stu-id="32c49-137">The following query, when executed, returns `Orders` that are filtered by the `Freight` value and ordered by the `OrderID`, descending:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addqueryoptionsspecific)]  
 [!code-vb[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addqueryoptionsspecific)]  
  
 <span data-ttu-id="32c49-138">Kullanabileceğiniz `$orderby` döndürülen sıralar ve filtreler aşağıdaki örnekte olduğu gibi tek bir özelliğe dayalı bir sorguya filtre uygulamak ve sorgu seçeneği için hem `Orders` nesneleri değerini temel alarak `Freight` özelliği:</span><span class="sxs-lookup"><span data-stu-id="32c49-138">You can use the `$orderby` query option to both order and filter a query based on a single property, as in the following example that filters and orders the returned `Orders` objects based on the value of the `Freight` property:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#orderwithfilter)]
 [!code-vb[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#orderwithfilter)]  
  
 <span data-ttu-id="32c49-139">Çağırabilirsiniz <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> art arda karmaşık sorgu ifadeleri oluşturmak için yöntemi.</span><span class="sxs-lookup"><span data-stu-id="32c49-139">You can call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method consecutively to construct complex query expressions.</span></span> <span data-ttu-id="32c49-140">Daha fazla bilgi için [nasıl yapılır: Bir veri hizmeti sorgusuna sorgu seçenekleri ekleme](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-140">For more information, see [How to: Add Query Options to a Data Service Query](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="32c49-141">Sorgu seçenekleri size bir LINQ Sorgu söz dizimi bileşenleri ifade etmek için başka bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="32c49-141">Query options give you another way to express the syntactic components of a LINQ query.</span></span> <span data-ttu-id="32c49-142">Daha fazla bilgi için [LINQ konuları](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-142">For more information, see [LINQ Considerations](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="32c49-143">`$select` Sorgu seçeneği eklenemez bir URI sorgu kullanarak <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="32c49-143">The `$select` query option cannot be added to a query URI by using the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method.</span></span> <span data-ttu-id="32c49-144">LINQ kullanmanızı öneririz <xref:System.Linq.Enumerable.Select%2A> oluşturmak ve istemciye yöntemi `$select` seçeneği istek URI'SİNDE sorgu.</span><span class="sxs-lookup"><span data-stu-id="32c49-144">We recommend that you use the LINQ <xref:System.Linq.Enumerable.Select%2A> method to have the client generate the `$select` query option in the request URI.</span></span>  
  
<a name="executingQueries"></a>   
## <a name="client-versus-server-execution"></a><span data-ttu-id="32c49-145">İstemci sunucunun yürütme karşılaştırması</span><span class="sxs-lookup"><span data-stu-id="32c49-145">Client versus Server Execution</span></span>  
 <span data-ttu-id="32c49-146">İstemci, bir sorgu içindeki iki parça yürütür.</span><span class="sxs-lookup"><span data-stu-id="32c49-146">The client executes a query in two parts.</span></span> <span data-ttu-id="32c49-147">Mümkün olduğunda, bir sorgu ifadelerinde istemcide önce değerlendirilir ve ardından URI tabanlı bir sorgu oluşturulur ve hizmetteki verilere karşı değerlendirme için veri hizmetine gönderilen.</span><span class="sxs-lookup"><span data-stu-id="32c49-147">Whenever possible, expressions in a query are first evaluated on the client, and then a URI-based query is generated and sent to the data service for evaluation against data in the service.</span></span> <span data-ttu-id="32c49-148">Aşağıdaki LINQ sorgusu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="32c49-148">Consider the following LINQ query:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#linqqueryclientevalspecific)]  
 [!code-vb[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#linqqueryclientevalspecific)]  
  
 <span data-ttu-id="32c49-149">Bu örnekte, ifade `(basePrice – (basePrice * discount))` istemcide değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="32c49-149">In this example, the expression `(basePrice – (basePrice * discount))` is evaluated on the client.</span></span> <span data-ttu-id="32c49-150">Bu nedenle, URI asıl sorguyu `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)` , gönderilir verileri, hizmet zaten hesaplanan ondalık değeri içeren `90` filtre yan tümcesi içinde.</span><span class="sxs-lookup"><span data-stu-id="32c49-150">Because of this, the actual query URI `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)` that is sent to the data service contains the already calculated decimal value of `90` in the filter clause.</span></span> <span data-ttu-id="32c49-151">Filtre ifadesinin alt ifade de dahil olmak üzere diğer bölümleri, veri hizmeti tarafından değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="32c49-151">The other parts of the filtering expression, including the substring expression, are evaluated by the data service.</span></span> <span data-ttu-id="32c49-152">Veri hizmeti uygulaması üzerinde veri hizmetine gönderilen ifadeler kullanan ancak istemcide değerlendirilen ifadeleri izleyin ortak dil çalışma zamanı (CLR) semantiğini [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokolü.</span><span class="sxs-lookup"><span data-stu-id="32c49-152">Expressions that are evaluated on the client follow common language runtime (CLR) semantics, while expressions sent to the data service rely on the data service implementation of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Protocol.</span></span> <span data-ttu-id="32c49-153">Senaryoları burada bu ayrı değerlendirme hem istemci hem de hizmet değerlendirmeleri zamana dayalı farklı saat dilimlerinde gerçekleştirirken gibi beklenmeyen sonuçlara neden olabilir farkında olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="32c49-153">You should also be aware of scenarios where this separate evaluation may cause unexpected results, such as when both the client and service perform time-based evaluations in different time zones.</span></span>  
  
## <a name="query-responses"></a><span data-ttu-id="32c49-154">Sorgu yanıtları</span><span class="sxs-lookup"><span data-stu-id="32c49-154">Query Responses</span></span>  
 <span data-ttu-id="32c49-155">Yürütüldüğünde, <xref:System.Data.Services.Client.DataServiceQuery%601> döndürür bir <xref:System.Collections.Generic.IEnumerable%601> istenen varlık türü.</span><span class="sxs-lookup"><span data-stu-id="32c49-155">When executed, the <xref:System.Data.Services.Client.DataServiceQuery%601> returns an <xref:System.Collections.Generic.IEnumerable%601> of the requested entity type.</span></span> <span data-ttu-id="32c49-156">Bu sorgu sonucu atanabilecek bir <xref:System.Data.Services.Client.QueryOperationResponse%601> aşağıdaki örnekteki gibi bir nesne:</span><span class="sxs-lookup"><span data-stu-id="32c49-156">This query result can be cast to a <xref:System.Data.Services.Client.QueryOperationResponse%601> object, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#getresponsespecific)]
 [!code-vb[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#getresponsespecific)]  
  
 <span data-ttu-id="32c49-157">Data Service'teki varlıkları temsil eden varlık türü örnekleri istemci üzerinde nesne gerçekleştirme olarak adlandırılan bir işlem tarafından oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="32c49-157">The entity type instances that represent entities in the data service are created on the client by a process called object materialization.</span></span> <span data-ttu-id="32c49-158">Daha fazla bilgi için [nesne gerçekleştirme](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-158">For more information, see [Object Materialization](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span></span> <span data-ttu-id="32c49-159"><xref:System.Data.Services.Client.QueryOperationResponse%601> Uygulayan nesne <xref:System.Collections.Generic.IEnumerable%601> sorgunun sonuçlarını erişim sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="32c49-159">The <xref:System.Data.Services.Client.QueryOperationResponse%601> object implements <xref:System.Collections.Generic.IEnumerable%601> to provide access to the results of the query.</span></span>  
  
 <span data-ttu-id="32c49-160"><xref:System.Data.Services.Client.QueryOperationResponse%601> Da bir sorgu sonucu ile ilgili ek bilgiler erişmenize olanak sağlayan aşağıdaki üyeleri içerir:</span><span class="sxs-lookup"><span data-stu-id="32c49-160">The <xref:System.Data.Services.Client.QueryOperationResponse%601> also has the following members that enable you to access additional information about a query result:</span></span>  
  
-   <xref:System.Data.Services.Client.OperationResponse.Error%2A> <span data-ttu-id="32c49-161">-Tüm oluştu varsa işlemi tarafından oluşturulan bir hata alır.</span><span class="sxs-lookup"><span data-stu-id="32c49-161">- gets an error thrown by the operation, if any has occurred.</span></span>  
  
-   <xref:System.Data.Services.Client.OperationResponse.Headers%2A> <span data-ttu-id="32c49-162">-Sorgu Yanıtla ilişkili HTTP yanıt üstbilgilerinin koleksiyonunu içerir.</span><span class="sxs-lookup"><span data-stu-id="32c49-162">- contains the collection of HTTP response headers associated with the query response.</span></span>  
  
-   <xref:System.Data.Services.Client.QueryOperationResponse.Query%2A> <span data-ttu-id="32c49-163">-özgün alır <xref:System.Data.Services.Client.DataServiceQuery%601> oluşturulan <xref:System.Data.Services.Client.QueryOperationResponse%601>.</span><span class="sxs-lookup"><span data-stu-id="32c49-163">- gets the original <xref:System.Data.Services.Client.DataServiceQuery%601> that generated the <xref:System.Data.Services.Client.QueryOperationResponse%601>.</span></span>  
  
-   <xref:System.Data.Services.Client.OperationResponse.StatusCode%2A> <span data-ttu-id="32c49-164">-sorgu yanıtı HTTP yanıt kodunu alır.</span><span class="sxs-lookup"><span data-stu-id="32c49-164">- gets the HTTP response code for the query response.</span></span>  
  
-   <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> <span data-ttu-id="32c49-165">-alır varlıkları varlıktaki toplam sayısına ayarlanan zaman <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> yöntemi çağrıldı <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="32c49-165">- gets the total number of entities in the entity set when the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method was called on the <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>  
  
-   <xref:System.Data.Services.Client.QueryOperationResponse.GetContinuation%2A> <span data-ttu-id="32c49-166">-döndürür bir <xref:System.Data.Services.Client.DataServiceQueryContinuation> sonraki sonuç sayfasını URI'sini içeren nesne.</span><span class="sxs-lookup"><span data-stu-id="32c49-166">- returns a <xref:System.Data.Services.Client.DataServiceQueryContinuation> object that contains the URI of the next page of results.</span></span>  
  
 <span data-ttu-id="32c49-167">Varsayılan olarak, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] yalnızca URI sorgu tarafından açıkça seçilen verileri döndürür.</span><span class="sxs-lookup"><span data-stu-id="32c49-167">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] only returns data that is explicitly selected by the query URI.</span></span> <span data-ttu-id="32c49-168">Bu, gerektiğinde ek veriler veri hizmetinden açıkça yüklemek için seçeneği sunar.</span><span class="sxs-lookup"><span data-stu-id="32c49-168">This gives you the option to explicitly load additional data from the data service when it is needed.</span></span> <span data-ttu-id="32c49-169">Bir istek, veri hizmetinden veriyi açıkça yüklemek her zaman veri hizmetine gönderilir.</span><span class="sxs-lookup"><span data-stu-id="32c49-169">A request is sent to the data service each time you explicitly load data from the data service.</span></span> <span data-ttu-id="32c49-170">İlgili varlıklar, disk belleğine alınan yanıt verileri ve ikili veri akışlarını açıkça yüklenen verileri içerir.</span><span class="sxs-lookup"><span data-stu-id="32c49-170">Data that can be explicitly loaded includes related entities, paged response data, and binary data streams.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="32c49-171">Bir veri hizmeti disk belleğine alınan yanıtı döndürebilir olduğundan, uygulamanızı bir disk belleğine alınan veri hizmeti yanıtı işlemek için programlama deseni kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="32c49-171">Because a data service may return a paged response, we recommend that your application use the programming pattern to handle a paged data service response.</span></span> <span data-ttu-id="32c49-172">Daha fazla bilgi için [ertelenmiş içerik yükleme](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-172">For more information, see [Loading Deferred Content](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="32c49-173">Bir sorgu tarafından döndürülen veri miktarını da yalnızca belirli özellikleri bir varlığın içinde yanıt döndürüldüğünü belirterek azaltılabilir.</span><span class="sxs-lookup"><span data-stu-id="32c49-173">The amount of data returned by a query can also be reduced by specifying that only certain properties of an entity are returned in the response.</span></span> <span data-ttu-id="32c49-174">Daha fazla bilgi için [sorgu projeksiyonları](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-174">For more information, see [Query Projections](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md).</span></span>  
  
## <a name="getting-a-count-of-the-total-number-of-entities-in-the-set"></a><span data-ttu-id="32c49-175">Kümesindeki varlıkların toplam sayısı sayısı alınıyor</span><span class="sxs-lookup"><span data-stu-id="32c49-175">Getting a Count of the Total Number of Entities in the Set</span></span>  
 <span data-ttu-id="32c49-176">Bazı senaryolarda, bir varlık kümesindeki varlıkların toplam sayısı ve değil yalnızca sorgu tarafından döndürülen sayı faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="32c49-176">In some scenarios, it is helpful to know the total number of entities in an entity set and not merely the number returned by the query.</span></span> <span data-ttu-id="32c49-177">Çağrı <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> metodunda <xref:System.Data.Services.Client.DataServiceQuery%601> bu varlık kümesindeki toplam sayı sorgu sonucu ile gelen istemek için.</span><span class="sxs-lookup"><span data-stu-id="32c49-177">Call the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method on the <xref:System.Data.Services.Client.DataServiceQuery%601> to request that this total count of entities in the set be included with the query result.</span></span> <span data-ttu-id="32c49-178">Bu durumda, <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> özelliği döndürülen <xref:System.Data.Services.Client.QueryOperationResponse%601> kümesindeki varlıkların toplam sayısını döndürür.</span><span class="sxs-lookup"><span data-stu-id="32c49-178">In this case, the <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> property of the returned <xref:System.Data.Services.Client.QueryOperationResponse%601> returns the total number of entities in the set.</span></span>  
  
 <span data-ttu-id="32c49-179">Yalnızca toplam sayısını, varlık kümesinde alabilirsiniz ya da farklı bir <xref:System.Int32> veya farklı bir <xref:System.Int64> çağırarak değeri <xref:System.Linq.Enumerable.Count%2A> veya <xref:System.Linq.Enumerable.LongCount%2A> yöntemleri sırasıyla.</span><span class="sxs-lookup"><span data-stu-id="32c49-179">You can also get only the total count of entities in the set either as an <xref:System.Int32> or as a <xref:System.Int64> value by calling the <xref:System.Linq.Enumerable.Count%2A> or <xref:System.Linq.Enumerable.LongCount%2A> methods respectively.</span></span> <span data-ttu-id="32c49-180">Bu yöntemler çağrıldığında bir <xref:System.Data.Services.Client.QueryOperationResponse%601> döndürülen değil; yalnızca sayı değeri döndürülür.</span><span class="sxs-lookup"><span data-stu-id="32c49-180">When these methods are called, a <xref:System.Data.Services.Client.QueryOperationResponse%601> is not returned; only the count value is returned.</span></span> <span data-ttu-id="32c49-181">Daha fazla bilgi için [nasıl yapılır: Bir sorgu tarafından döndürülen varlık sayısını belirleme](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="32c49-181">For more information, see [How to: Determine the Number of Entities Returned by a Query](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="32c49-182">Bu Bölümde</span><span class="sxs-lookup"><span data-stu-id="32c49-182">In This Section</span></span>  
 [<span data-ttu-id="32c49-183">Sorgu Projeksiyonları</span><span class="sxs-lookup"><span data-stu-id="32c49-183">Query Projections</span></span>](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md)  
  
 [<span data-ttu-id="32c49-184">Nesne Gerçekleştirme</span><span class="sxs-lookup"><span data-stu-id="32c49-184">Object Materialization</span></span>](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md)  
  
 [<span data-ttu-id="32c49-185">LINQ Konuları</span><span class="sxs-lookup"><span data-stu-id="32c49-185">LINQ Considerations</span></span>](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md)  
  
 [<span data-ttu-id="32c49-186">Nasıl yapılır: Veri Hizmeti Sorguları Yürütme</span><span class="sxs-lookup"><span data-stu-id="32c49-186">How to: Execute Data Service Queries</span></span>](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md)  
  
 [<span data-ttu-id="32c49-187">Nasıl yapılır: Veri Hizmeti Sorgusuna Sorgu Seçenekleri Ekleme</span><span class="sxs-lookup"><span data-stu-id="32c49-187">How to: Add Query Options to a Data Service Query</span></span>](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md)  
  
 [<span data-ttu-id="32c49-188">Nasıl yapılır: Sorgu Tarafından Döndürülen Varlık Sayısını Belirleme</span><span class="sxs-lookup"><span data-stu-id="32c49-188">How to: Determine the Number of Entities Returned by a Query</span></span>](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md)  
  
 [<span data-ttu-id="32c49-189">Nasıl yapılır: Veri Hizmeti İsteği için İstemci Kimlik Bilgileri Belirtme</span><span class="sxs-lookup"><span data-stu-id="32c49-189">How to: Specify Client Credentials for a Data Service Request</span></span>](../../../../docs/framework/data/wcf/specify-client-creds-for-a-data-service-request-wcf.md)  
  
 [<span data-ttu-id="32c49-190">Nasıl yapılır: İstemci İsteğinde Üst Bilgileri Ayarlama</span><span class="sxs-lookup"><span data-stu-id="32c49-190">How to: Set Headers in the Client Request</span></span>](../../../../docs/framework/data/wcf/how-to-set-headers-in-the-client-request-wcf-data-services.md)  
  
 [<span data-ttu-id="32c49-191">Nasıl yapılır: Sorgu Sonuçlarını Yansıtma</span><span class="sxs-lookup"><span data-stu-id="32c49-191">How to: Project Query Results</span></span>](../../../../docs/framework/data/wcf/how-to-project-query-results-wcf-data-services.md)  
  
## <a name="see-also"></a><span data-ttu-id="32c49-192">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="32c49-192">See also</span></span>

- [<span data-ttu-id="32c49-193">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="32c49-193">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
