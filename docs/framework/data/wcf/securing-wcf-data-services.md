---
title: WCF veri hizmetlerinin güvenliğini sağlama
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- securing application [WCF Data Services]
- WCF Data Services, security
ms.assetid: 99fc2baa-a040-4549-bc4d-f683d60298af
ms.openlocfilehash: 6efcb6947917ba3d16f562d24e8deefbe1d6e955
ms.sourcegitcommit: 16aefeb2d265e69c0d80967580365fabf0c5d39a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/16/2019
ms.locfileid: "58125973"
---
# <a name="securing-wcf-data-services"></a><span data-ttu-id="4cf98-102">WCF veri hizmetlerinin güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="4cf98-102">Securing WCF Data Services</span></span>
<span data-ttu-id="4cf98-103">Bu konuda, geliştirme, dağıtma ve WCF Veri Hizmetleri ve uygulamaları, açık veri Protokolü (OData) destekleyen, erişim Hizmetleri'ni çalıştırmak için belirli güvenlik konuları açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-103">This topic describes security considerations that are specific to developing, deploying, and running WCF Data Services and applications that access services that support the Open Data Protocol (OData).</span></span> <span data-ttu-id="4cf98-104">Güvenli .NET Framework uygulamaları oluşturmaya yönelik önerileri de izlemelidir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-104">You should also follow recommendations for creating secure .NET Framework applications.</span></span>  
  
<span data-ttu-id="4cf98-105">Bir WCF veri hizmetleri tabanlı OData hizmeti güvenli hale getirmeyi planlarken, kimlik doğrulaması, bulma ve bir sorumlunun kimliğini doğrulama işlemi hem de yetkilendirme kimliği doğrulanmış bir sorumlunun olup olmadığını belirleme işlemi adresi olmalıdır İstenen kaynaklara erişmesine izin verilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-105">When planning how to secure a WCF Data Services-based OData service, you must address both authentication, the process of discovering and verifying the identity of a principal, and authorization, the process of determining whether an authenticated principal is allowed to access the requested resources.</span></span> <span data-ttu-id="4cf98-106">İletiyi SSL kullanarak şifrelenip şifrelenmeyeceğinizi de göz önünde bulundurmalısınız.</span><span class="sxs-lookup"><span data-stu-id="4cf98-106">You should also consider whether to encrypt the message by using SSL.</span></span>  
  
## <a name="authenticating-client-requests"></a><span data-ttu-id="4cf98-107">İstemci İsteklerinde Kimlik Doğrulama</span><span class="sxs-lookup"><span data-stu-id="4cf98-107">Authenticating Client Requests</span></span>  
<span data-ttu-id="4cf98-108">WCF Veri Hizmetleri herhangi bir türden kendi kimlik doğrulaması uygulamaz, ancak bunun yerine sağladığı kimlik doğrulamadan veri hizmeti ana bilgisayarı üzerinde kullanır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-108">WCF Data Services does not implement any kind of authentication of its own, but rather relies on the authentication provisions of the data service host.</span></span> <span data-ttu-id="4cf98-109">Bu, hizmet aldığı herhangi bir istek ağ ana bilgisayar tarafından önceden doğrulanmış olduğunu varsayar ve ana bilgisayarın ilkesine uygun şekilde WCF Veri Hizmetleri tarafından sağlanan arabirimleri aracılığıyla istek için tanımlanan anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-109">This means that the service assumes that any request that it receives has already been authenticated by the network host and that the host has correctly identified the principle for the request appropriately via the interfaces provided by WCF Data Services.</span></span> <span data-ttu-id="4cf98-110">Bu kimlik doğrulama seçenekleri ve yaklaşımları içinde multipart ayrıntılandırılmıştır [OData ve kimlik doğrulama serisinde](https://devblogs.microsoft.com/odata/?s=%22OData+and+authentication%22).</span><span class="sxs-lookup"><span data-stu-id="4cf98-110">These authentication options and approaches are detailed in the multipart [OData and Authentication series](https://devblogs.microsoft.com/odata/?s=%22OData+and+authentication%22).</span></span>  
  
### <a name="authentication-options-for-a-wcf-data-service"></a><span data-ttu-id="4cf98-111">WCF Veri Hizmeti için Kimlik Doğrulama Seçenekleri</span><span class="sxs-lookup"><span data-stu-id="4cf98-111">Authentication Options for a WCF Data Service</span></span>  
 <span data-ttu-id="4cf98-112">Aşağıdaki tabloda, WCF Veri Hizmeti için isteklerin kimliğini doğrulamanıza yardımcı olacak kimlik doğrulama mekanizmalarından bazıları listelenmektedir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-112">The following table lists some of the authentication mechanisms that are available to help you authenticate requests to a WCF Data Service.</span></span>  
  
|<span data-ttu-id="4cf98-113">Kimlik doğrulama seçenekleri</span><span class="sxs-lookup"><span data-stu-id="4cf98-113">Authentication Options</span></span>|<span data-ttu-id="4cf98-114">Açıklama</span><span class="sxs-lookup"><span data-stu-id="4cf98-114">Description</span></span>|  
|----------------------------|-----------------|  
|<span data-ttu-id="4cf98-115">Anonim kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="4cf98-115">Anonymous authentication</span></span>|<span data-ttu-id="4cf98-116">HTTP anonim kimlik doğrulama etkinleştirildiğinde, herhangi bir ilke veri hizmetine bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-116">When HTTP anonymous authentication is enabled, any principle is able to connect to the data service.</span></span> <span data-ttu-id="4cf98-117">Anonim erişim için kimlik bilgileri gerekmez.</span><span class="sxs-lookup"><span data-stu-id="4cf98-117">Credentials are not required for anonymous access.</span></span> <span data-ttu-id="4cf98-118">Bu seçeneği, yalnızca herkesin veri hizmetine erişmesini istediğinizde kullanın.</span><span class="sxs-lookup"><span data-stu-id="4cf98-118">Use this option only when you want to allow anyone to access the data service.</span></span>|  
|<span data-ttu-id="4cf98-119">Temel ve özet kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="4cf98-119">Basic and digest authentication</span></span>|<span data-ttu-id="4cf98-120">Kimlik doğrulama için bir kullanıcı adı ve paroladan oluşan kimlik bilgileri gereklidir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-120">Credentials consisting of a user name and password are required for authentication.</span></span> <span data-ttu-id="4cf98-121">Windows olmayan istemcilerin kimlik doğrulamasını destekler.</span><span class="sxs-lookup"><span data-stu-id="4cf98-121">Supports authentication of non-Windows clients.</span></span> <span data-ttu-id="4cf98-122">**Güvenlik Notu:**  Temel kimlik doğrulama kimlik bilgileri (kullanıcı adı ve parola) açık bir şekilde gönderilir ve kesilebilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-122">**Security Note:**  Basic authentication credentials (user name and password) are sent in the clear and can be intercepted.</span></span> <span data-ttu-id="4cf98-123">Özet kimlik doğrulama, sağlanan kimlik bilgilerini temel alan bir karma değer gönderir; bu nedenle temel kimlik doğrulamaya göre daha güvenlidir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-123">Digest authentication sends a hash based-on the supplied credentials, which makes it more secure than basic authentication.</span></span> <span data-ttu-id="4cf98-124">Her ikisi de ortadaki adam saldırılarına maruz kalabilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-124">Both are susceptible to man-in-the-middle attacks.</span></span> <span data-ttu-id="4cf98-125">Bu kimlik doğrulama yöntemlerini kullanırken, Güvenli Yuva Katmanı (SSL) kullanarak istemci ile veri hizmeti arasındaki iletişimi şifrelemeyi göz önünde bulundurmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-125">When using these authentication methods, you should consider encrypting communication between client and the data service by using the Secure Sockets Layer (SSL).</span></span> <br /><br /> <span data-ttu-id="4cf98-126">Microsoft Internet Information Services (IIS) hem de temel bir uygulamasını sağlar ve bir ASP.NET uygulamasında HTTP için Özet kimlik doğrulaması ister.</span><span class="sxs-lookup"><span data-stu-id="4cf98-126">Microsoft Internet Information Services (IIS) provides an implementation of both basic and digest authentication for HTTP requests in an ASP.NET application.</span></span> <span data-ttu-id="4cf98-127">Bu Windows Kimlik Doğrulama Sağlayıcısı uygulaması, Windows kullanıcısının kimlik doğrulaması üzerinde sorunsuz bir şekilde anlaşmaya varmak için veri hizmetine isteğin HTTP üstbilgisindeki kimlik bilgilerini sağlayan bir .NET Framework istemci uygulaması sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-127">This Windows Authentication Provider implementation enables a .NET Framework client application to supply credentials in the HTTP header of the request to the data service to seamlessly negotiate authentication of a Windows user.</span></span> <span data-ttu-id="4cf98-128">Daha fazla bilgi için [Özet kimlik doğrulaması Teknik Başvurusu](https://go.microsoft.com/fwlink/?LinkId=200408).</span><span class="sxs-lookup"><span data-stu-id="4cf98-128">For more information, see [Digest Authentication Technical Reference](https://go.microsoft.com/fwlink/?LinkId=200408).</span></span><br /><br /> <span data-ttu-id="4cf98-129">Bazı özel kimlik doğrulama hizmeti ve değil Windows kimlik bilgilerini temel alan, veri hizmeti temel kimlik doğrulama kullanmasını istediğinizde, kimlik doğrulaması için özel bir ADP.NET HTTP modülü uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-129">When you want to have your data service use basic authentication based on some custom authentication service and not Windows credentials, you must implement a custom ADP.NET HTTP Module for authentication.</span></span><br /><br /> <span data-ttu-id="4cf98-130">Bir özel temel kimlik doğrulama düzeni ile WCF veri hizmetlerini kullanma örneği için bkz. blog gönderisi [</span><span class="sxs-lookup"><span data-stu-id="4cf98-130">For an example of how to use a custom basic authentication scheme with WCF Data Services, see the blog post [</span></span>
<span data-ttu-id="4cf98-131">OData ve kimlik doğrulaması – Bölüm 6: özel temel kimlik doğrulaması] (https://devblogs.microsoft.com/odata/odata-and-authentication-part-6-custom-basic-authentication/)].</span><span class="sxs-lookup"><span data-stu-id="4cf98-131">OData and Authentication – Part 6 – Custom Basic Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-6-custom-basic-authentication/)].</span></span>|  
|<span data-ttu-id="4cf98-132">Windows kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="4cf98-132">Windows authentication</span></span>|<span data-ttu-id="4cf98-133">Windows tabanlı kimlik bilgileri, NTLM veya Kerberos kullanılarak değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-133">Windows-based credentials are exchanged by using NTLM or Kerberos.</span></span> <span data-ttu-id="4cf98-134">Bu mekanizma, basit veya özet kimlik doğrulamaya göre daha güvenlidir, ancak istemcinin Windows tabanlı bir uygulama olmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-134">This mechanism is more secure than basic or digest authentication, but it requires that the client be a Windows-based application.</span></span> <span data-ttu-id="4cf98-135">IIS Windows kimlik doğrulaması için bir ASP.NET uygulamasında HTTP istekleri uygulaması de sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-135">IIS also provides an implementation of Windows authentication for HTTP requests in an ASP.NET application.</span></span> <span data-ttu-id="4cf98-136">Daha fazla bilgi için [ASP.NET formları kimlik doğrulamasına genel bakış](https://docs.microsoft.com/previous-versions/aspnet/7t6b43z4(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="4cf98-136">For more information, see [ASP.NET Forms Authentication Overview](https://docs.microsoft.com/previous-versions/aspnet/7t6b43z4(v=vs.100)).</span></span><br /><br /> <span data-ttu-id="4cf98-137">Windows kimlik doğrulaması ile WCF veri hizmetlerini kullanma örneği için blog gönderisine bakın [OData ve kimlik doğrulaması – bölüm 2-Windows kimlik doğrulaması](https://devblogs.microsoft.com/odata/odata-and-authentication-part-2-windows-authentication/).</span><span class="sxs-lookup"><span data-stu-id="4cf98-137">For an example of how to use Windows authentication with WCF Data Services, see the blog post [OData and Authentication – Part 2 – Windows Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-2-windows-authentication/).</span></span>|  
|<span data-ttu-id="4cf98-138">ASP.NET formları kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="4cf98-138">ASP.NET forms authentication</span></span>|<span data-ttu-id="4cf98-139">Forms kimlik doğrulaması, kullanıcıların kimliğini kendi kodunuzu kullanarak ve ardından bir tanımla bilgisinde veya sayfa URL'sinde bir kimlik doğrulama belirteci tutarak doğrulamanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-139">Forms authentication lets you authenticate users by using your own code and then maintain an authentication token in a cookie or in the page URL.</span></span> <span data-ttu-id="4cf98-140">Oluşturduğunuz bir oturum açma formunu kullanarak kullanıcılarınızın kullanıcı adını ve parolasını doğrularsanız.</span><span class="sxs-lookup"><span data-stu-id="4cf98-140">You authenticate the user name and password of your users using a login form that you create.</span></span> <span data-ttu-id="4cf98-141">Kimliği doğrulanmamış istekler, kullanıcının kimlik bilgileri sağladığı ve formu gönderdiği bir oturum açma sayfasına yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-141">Unauthenticated requests are redirected to a login page, where the user provides credentials and submits the form.</span></span> <span data-ttu-id="4cf98-142">Uygulama isteğin kimliğini doğrularsa, sistem sonraki istekler için kimliği yeniden oluşturabilecek bir anahtar içeren bir anahtar verir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-142">If the application authenticates the request, the system issues a ticket that contains a key for reestablishing the identity for subsequent requests.</span></span> <span data-ttu-id="4cf98-143">Daha fazla bilgi için [form kimlik doğrulama sağlayıcısı](https://docs.microsoft.com/previous-versions/aspnet/9wff0kyh(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="4cf98-143">For more information, see [Forms Authentication Provider](https://docs.microsoft.com/previous-versions/aspnet/9wff0kyh(v=vs.100)).</span></span> <span data-ttu-id="4cf98-144">**Güvenlik Notu:**  Form kimlik doğrulaması bir ASP.NET Web uygulamasında kullandığınızda varsayılan olarak, forms kimlik doğrulaması bileti içeren tanımlama bilgisinin güvenli değildir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-144">**Security Note:**  By default, the cookie that contains the forms authentication ticket is not secured when you use forms authentication in a ASP.NET Web application.</span></span> <span data-ttu-id="4cf98-145">Hem kimlik doğrulama anahtarını hem de ilk oturum açma kimlik bilgilerini korumak için SSL kullanılmasını gerekli tutmayı dikkate almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-145">You should consider requiring SSL to protect both the authentication ticket and the initial login credentials.</span></span> <br /><br /> <span data-ttu-id="4cf98-146">Form kimlik doğrulaması ile WCF veri hizmetlerini kullanma örneği için bkz. blog gönderisi [</span><span class="sxs-lookup"><span data-stu-id="4cf98-146">For an example of how to use forms authentication with WCF Data Services, see the blog post [</span></span>
<span data-ttu-id="4cf98-147">OData ve kimlik doğrulaması – Bölüm 7 – form kimlik doğrulaması] (https://devblogs.microsoft.com/odata/odata-and-authentication-part-7-forms-authentication/).</span><span class="sxs-lookup"><span data-stu-id="4cf98-147">OData and Authentication – Part 7 – Forms Authentication](https://devblogs.microsoft.com/odata/odata-and-authentication-part-7-forms-authentication/).</span></span>|  
|<span data-ttu-id="4cf98-148">Beyana dayalı kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="4cf98-148">Claims-based authentication</span></span>|<span data-ttu-id="4cf98-149">Talep tabanlı kimlik doğrulaması, veri hizmeti kullanıcının kimliğini doğrulamak için bir güvenilen "üçüncü taraf" kimlik sağlayıcı hizmetinden yararlanır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-149">In claims-based authentication, the data service relies on a trusted "third-party" identity provider service to authenticate the user.</span></span> <span data-ttu-id="4cf98-150">Kimlik sağlayıcısı, veri hizmeti kaynaklarına erişmek isteyen kullanıcının kimliğini olumlu bir şekilde doğrular ve istenen kaynaklara erişim izni sağlayan bir belirteç verir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-150">The identity provider positively authenticates the user that is requesting access to data service resources and issues a token that grants access to the requested resources.</span></span> <span data-ttu-id="4cf98-151">Bu belirteç, daha sonra veri hizmetine sunulur. Veri hizmeti, erişim belirtecini veren kimlik hizmetiyle kurulan güven ilişkisine göre kullanıcıya erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-151">This token is then presented to the data service, which then grants access to the user based on the trust relationship with the identity service that issued the access token.</span></span><br /><br /> <span data-ttu-id="4cf98-152">Beyana dayalı kimlik doğrulama sağlayıcısı kullanmanın avantajı, güven etki alanları arasında çeşitli türden istemcilerin kimliğini doğrulamak için kullanılabilmeleridir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-152">The benefit of using a claims-based authentication provider is that they can be used to authenticate various types of clients across trust domains.</span></span> <span data-ttu-id="4cf98-153">Veri hizmeti, böyle bir üçüncü taraf sağlayıcı kullanarak kullanıcıları koruma ve kimliklerini doğrulama gereksinimlerinden kurtulabilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-153">By employing such a third-party provider, a data service can offload the requirements of maintaining and authenticating users.</span></span> <span data-ttu-id="4cf98-154">OAuth 2.0, hizmet olarak şirket dışı kimlik doğrulama için Microsoft Azure AppFabric Erişim Denetimi tarafından desteklenen beyana dayalı bir kimlik doğrulama protokolüdür.</span><span class="sxs-lookup"><span data-stu-id="4cf98-154">OAuth 2.0 is a claims-based authentication protocol that is supported by Windows Azure AppFabric Access Control for federated authorization as a service.</span></span> <span data-ttu-id="4cf98-155">Bu protokol REST tabanlı hizmetleri destekler.</span><span class="sxs-lookup"><span data-stu-id="4cf98-155">This protocol supports REST-based services.</span></span> <span data-ttu-id="4cf98-156">OAuth 2.0 ile WCF veri hizmetlerini kullanma örneği için bkz. blog gönderisi [</span><span class="sxs-lookup"><span data-stu-id="4cf98-156">For an example of how to use OAuth 2.0 with WCF Data Services, see the blog post [</span></span>
<span data-ttu-id="4cf98-157">OData ve kimlik doğrulaması – bölüm 8 – OAuth kaydırma] (https://devblogs.microsoft.com/odata/odata-and-authentication-part-8-oauth-wrap/).</span><span class="sxs-lookup"><span data-stu-id="4cf98-157">OData and Authentication – Part 8 – OAuth WRAP](https://devblogs.microsoft.com/odata/odata-and-authentication-part-8-oauth-wrap/).</span></span>|  
  
<a name="clientAuthentication"></a>   
### <a name="authentication-in-the-client-library"></a><span data-ttu-id="4cf98-158">İstemci Kitaplığında kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="4cf98-158">Authentication in the Client Library</span></span>  
 <span data-ttu-id="4cf98-159">Bir OData hizmetine istek yaparken, varsayılan olarak, WCF Veri Hizmetleri istemci kitaplığı kimlik bilgileri sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-159">By default, the WCF Data Services client library does not supply credentials when making a request to an OData service.</span></span> <span data-ttu-id="4cf98-160">Bir kullanıcının kimliğini doğrulamak için veri hizmeti tarafından oturum açma kimlik bilgileri gereklidir, bu kimlik bilgileri sağlanabilir bir <xref:System.Net.NetworkCredential> erişilen <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> özelliği <xref:System.Data.Services.Client.DataServiceContext>, aşağıdaki örnekte olduğu gibi:</span><span class="sxs-lookup"><span data-stu-id="4cf98-160">When login credentials are required by the data service to authenticate a user, these credentials can be supplied in a <xref:System.Net.NetworkCredential> accessed from the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>, as in the following example:</span></span>  
  
```csharp  
// Set the client authentication credentials.  
context.Credentials =  
    new NetworkCredential(userName, password, domain);  
```  
  
```vb  
' Set the client authentication credentials.  
context.Credentials = _  
    New NetworkCredential(userName, password, domain)  
```  
  
 <span data-ttu-id="4cf98-161">Daha fazla bilgi için [nasıl yapılır: İstemci kimlik bilgileri belirtmek için veri hizmeti isteği](../../../../docs/framework/data/wcf/specify-client-creds-for-a-data-service-request-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="4cf98-161">For more information, see [How to: Specify Client Credentials for a Data Service Request](../../../../docs/framework/data/wcf/specify-client-creds-for-a-data-service-request-wcf.md).</span></span>  
  
 <span data-ttu-id="4cf98-162">Veri hizmeti oturum açma kimlik bilgilerini gerektirdiğinde belirtilemez kullanarak bir <xref:System.Net.NetworkCredential> nesne, beyana dayalı belirteç veya kimlik bilgisi gibi el ile üst bilgileri HTTP isteğinde genellikle ayarlamalısınız `Authorization` ve `Cookie` üstbilgileri.</span><span class="sxs-lookup"><span data-stu-id="4cf98-162">When the data service requires login credentials that cannot be specified by using a <xref:System.Net.NetworkCredential> object, such as a claims-based token or cookie, you must manually set headers in the HTTP request, usually the `Authorization` and `Cookie` headers.</span></span> <span data-ttu-id="4cf98-163">Bu tür bir kimlik doğrulama senaryosu hakkında daha fazla bilgi için blog gönderisine bakın [ OData ve kimlik doğrulaması – 3. Kısım-istemci tarafı kancaları](https://devblogs.microsoft.com/odata/odata-and-authentication-part-3-clientside-hooks/).</span><span class="sxs-lookup"><span data-stu-id="4cf98-163">For more information about this kind of authentication scenario, see the blog post [ OData and Authentication – Part 3 – ClientSide Hooks](https://devblogs.microsoft.com/odata/odata-and-authentication-part-3-clientside-hooks/).</span></span> <span data-ttu-id="4cf98-164">İstek iletisinde HTTP üstbilgilerini ayarlama örneği için bkz: [nasıl yapılır: İstemci isteğinde üst bilgileri ayarlama](../../../../docs/framework/data/wcf/how-to-set-headers-in-the-client-request-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="4cf98-164">For an example of how to set HTTP headers in a request message, see [How to: Set Headers in the Client Request](../../../../docs/framework/data/wcf/how-to-set-headers-in-the-client-request-wcf-data-services.md).</span></span>  
  
## <a name="impersonation"></a><span data-ttu-id="4cf98-165">Kimliğe bürünme</span><span class="sxs-lookup"><span data-stu-id="4cf98-165">Impersonation</span></span>  
 <span data-ttu-id="4cf98-166">Genellikle veri hizmeti, veri hizmetini barındıran çalışan işleminin kimlik bilgilerini kullanarak sunucudaki veya veritabanındaki dosyalar gibi gerekli kaynaklara erişir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-166">Generally, the data service accesses required resources, such as files on the server or a database, by using the credentials of the worker process that is hosting the data service.</span></span> <span data-ttu-id="4cf98-167">Kimliğe bürünme kullanılırken [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] uygulamaları isteği yapan kullanıcının Windows kimliğiyle (kullanıcı hesabı) yürütebilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-167">When using impersonation, [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] applications can execute with the Windows identity (user account) of the user making the request.</span></span> <span data-ttu-id="4cf98-168">Kimliğe bürünme, genel olarak kullanıcının kimliğini doğrulamak için IIS'den yararlanan uygulamalarda kullanılır ve gerekli kaynaklara erişmek için bu ilkenin kimlik bilgileri kullanılır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-168">Impersonation is commonly used in applications that rely on IIS to authenticate the user, and the credentials of this principle are used to access the required resources.</span></span> <span data-ttu-id="4cf98-169">Daha fazla bilgi için [ASP.NET kimliğe bürünme](https://docs.microsoft.com/previous-versions/aspnet/xh507fc5(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="4cf98-169">For more information, see [ASP.NET Impersonation](https://docs.microsoft.com/previous-versions/aspnet/xh507fc5(v=vs.100)).</span></span>  
  
## <a name="configuring-data-service-authorization"></a><span data-ttu-id="4cf98-170">Veri Hizmeti Yetkilendirmesini Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="4cf98-170">Configuring Data Service Authorization</span></span>  
 <span data-ttu-id="4cf98-171">Yetkilendirme, uygulama kaynaklarının daha önce başarılı olan bir kimlik doğrulama temel alınarak belirlenen bir ilkeye veya işleme erişimini sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-171">Authorization is the granting of access to application resources to a principle or process that is identified based on a previously successful authentication.</span></span> <span data-ttu-id="4cf98-172">Genel bir uygulama olarak, yeterli hakları yalnızca istemci uygulamaları tarafından gerekli kılınan işlemleri gerçekleştirmek için veri hizmetinin kullanıcılarına vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-172">As a general practice, you should only grant sufficient rights to users of the data service to perform the operations required by client applications.</span></span>  
  
### <a name="restrict-access-to-data-service-resources"></a><span data-ttu-id="4cf98-173">Veri Hizmeti Kaynaklarına Erişimi Kısıtlama</span><span class="sxs-lookup"><span data-stu-id="4cf98-173">Restrict Access to Data Service Resources</span></span>  
 <span data-ttu-id="4cf98-174">Varsayılan olarak, WCF Veri Hizmetleri ortak okuma ve yazma erişimi veri hizmeti kaynaklarına karşı vermenizi sağlar (varlık kümesi ve hizmet işlemleri) için veri hizmetine erişebilen herhangi bir kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="4cf98-174">By default, WCF Data Services enables you to grant common read and write access against data service resources (entity set and service operations) to any user that is able to access the data service.</span></span> <span data-ttu-id="4cf98-175">Okuma ve yazma erişimini tanımlayan kurallar, veri hizmeti tarafından kullanılan ve hizmet işlemlerine sunulan her varlık kümesi için ayrı ayrı tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-175">Rules that define read and write access can be defined separately for each entity set exposed by the data service, as well as to any service operations.</span></span> <span data-ttu-id="4cf98-176">Hem okuma hem de yazma erişimini yalnızca istemci uygulaması tarafından gerekli kılınan kaynaklarla sınırlamanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-176">We recommend limiting both read and write access to only the resources required by the client application.</span></span> <span data-ttu-id="4cf98-177">Daha fazla bilgi için [en az kaynak erişim gereksinimlerini](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md#accessRequirements).</span><span class="sxs-lookup"><span data-stu-id="4cf98-177">For more information, see [Minimum Resource Access Requirements](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md#accessRequirements).</span></span>  
  
### <a name="implement-role-based-interceptors"></a><span data-ttu-id="4cf98-178">Rol Tabanlı Kesiciler Uygulama</span><span class="sxs-lookup"><span data-stu-id="4cf98-178">Implement Role-Based Interceptors</span></span>  
 <span data-ttu-id="4cf98-179">Kesiciler, istekleri veri hizmeti tarafından kullanılmadan önce veri hizmeti kaynaklarına karşı kesmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-179">Interceptors enable you to intercept requests against data service resources before they are acted on by the data service.</span></span> <span data-ttu-id="4cf98-180">Daha fazla bilgi için [dinleyicileri](../../../../docs/framework/data/wcf/interceptors-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="4cf98-180">For more information, see [Interceptors](../../../../docs/framework/data/wcf/interceptors-wcf-data-services.md).</span></span> <span data-ttu-id="4cf98-181">Kesiciler, isteği yapan kimliği doğrulanmış kullanıcıya göre yetkilendirme kararları vermenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-181">Interceptors enable you to make authorization decisions based the authenticated user that is making the request.</span></span> <span data-ttu-id="4cf98-182">Bir kimliği doğrulanmış kullanıcı kimliğine göre veri hizmeti kaynaklarına erişimi kısıtlamak nasıl bir örnek için bkz [nasıl yapılır: Veri hizmeti iletilerini ıntercept](../../../../docs/framework/data/wcf/how-to-intercept-data-service-messages-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="4cf98-182">For an example of how to restrict access to data service resources based on an authenticated user identity, see [How to: Intercept Data Service Messages](../../../../docs/framework/data/wcf/how-to-intercept-data-service-messages-wcf-data-services.md).</span></span>  
  
### <a name="restrict-access-to-the-persisted-data-store-and-local-resources"></a><span data-ttu-id="4cf98-183">Kalıcı Veri Deposu ve Yerel Kaynaklara Erişimi Kısıtlama</span><span class="sxs-lookup"><span data-stu-id="4cf98-183">Restrict Access to the Persisted Data Store and Local Resources</span></span>  
 <span data-ttu-id="4cf98-184">Kalıcı depoya erişmek için kullanılan hesaplara, yalnızca veritabanı veya dosya sisteminde veri hizmetinin gereksinimlerini desteklemek için yeterli haklar verilmelidir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-184">The accounts that are used to access the persisted store should be granted only enough rights in a database or the file system to support the requirements of the data service.</span></span> <span data-ttu-id="4cf98-185">Bu, anonim kimlik doğrulama kullanıldığında barındırma uygulamasını çalıştırmak için kullanılan hesaptır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-185">When anonymous authentication is used, this is the account used to run the hosting application.</span></span> <span data-ttu-id="4cf98-186">Daha fazla bilgi için [nasıl yapılır: IIS üzerinde çalışan bir WCF veri hizmeti geliştirme](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md).</span><span class="sxs-lookup"><span data-stu-id="4cf98-186">For more information, see [How to: Develop a WCF Data Service Running on IIS](../../../../docs/framework/data/wcf/how-to-develop-a-wcf-data-service-running-on-iis.md).</span></span> <span data-ttu-id="4cf98-187">Kimliğe bürünme kullanıldığında, kimliği doğrulanmış kullanıcıların genellikle Windows grubunun parçası olarak bu kaynaklara erişmesi sağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-187">When impersonation is used, authenticated users must be granted access to these resources, usually as part of a Windows group.</span></span>  
  
## <a name="other-security-considerations"></a><span data-ttu-id="4cf98-188">Güvenlik Hakkında Diğer Önemli Noktalar</span><span class="sxs-lookup"><span data-stu-id="4cf98-188">Other Security Considerations</span></span>  
  
### <a name="secure-the-data-in-the-payload"></a><span data-ttu-id="4cf98-189">Yükte Verileri Güvenli Hale Getirme</span><span class="sxs-lookup"><span data-stu-id="4cf98-189">Secure the Data in the Payload</span></span>  
<span data-ttu-id="4cf98-190">OData HTTP protokolünü temel alır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-190">OData is based on the HTTP protocol.</span></span> <span data-ttu-id="4cf98-191">HTTP iletisinde, üstbilgi veri hizmeti tarafından uygulanan kimlik doğrulamaya bağlı olarak değerli kullanıcı kimlik bilgileri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-191">In an HTTP message, the header may contain valuable user credentials, depending on the authentication implemented by the data service.</span></span> <span data-ttu-id="4cf98-192">İleti gövdesi, korunması gereken değerli müşteri verileri de içerebilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-192">The message body may also contain valuable customer data that must be protected.</span></span> <span data-ttu-id="4cf98-193">Her iki durumda da, bu bilgileri çevrimiçi olarak korumak için SSL'yi kullanmanızı öneririz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-193">In both of these cases, we recommend that you use SSL to protect this information over the wire.</span></span>  
  
### <a name="ignored-message-headers-and-cookies"></a><span data-ttu-id="4cf98-194">Yoksayılan İleti Üstbilgileri ve Tanımlama Bilgileri</span><span class="sxs-lookup"><span data-stu-id="4cf98-194">Ignored Message Headers and Cookies</span></span>  
 <span data-ttu-id="4cf98-195">İçerik türleri ve kaynak konumları bildirenlerin dışındaki HTTP isteği üstbilgileri yoksayılır ve veri hizmeti tarafından hiçbir zaman ayarlanmaz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-195">HTTP request headers, other than those that declare content types and resource locations, are ignored and are never set by the data service.</span></span>  
  
 <span data-ttu-id="4cf98-196">Tanımlama bilgilerini bir kimlik doğrulama şemasıyla bir parçası olarak gibi ASP.NET Forms kimlik doğrulaması ile kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-196">Cookies can be used as part of an authentication scheme, such as with ASP.NET Forms Authentication.</span></span> <span data-ttu-id="4cf98-197">Ancak, gelen bir istek üzerinde ayarlanan tüm HTTP tanımlama bilgileri, WCF DataServices tarafından göz ardı edilir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-197">However, any HTTP cookies set on an incoming request are ignored by WCF DataServices.</span></span> <span data-ttu-id="4cf98-198">Bir veri hizmeti ana bilgisayarı tanımlama bilgisini işleyebilir, ancak WCF Veri Hizmetleri çalışma zamanı, hiçbir zaman analiz etmez veya tanımlama bilgilerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="4cf98-198">The host of a data service may process the cookie, but the WCF Data Services runtime never analyzes or returns cookies.</span></span> <span data-ttu-id="4cf98-199">WCF Veri Hizmetleri istemci kitaplığı Yanıtta gönderilen tanımlama bilgilerini de işlemez.</span><span class="sxs-lookup"><span data-stu-id="4cf98-199">The WCF Data Services client library also does not process cookies sent in the response.</span></span>  
  
### <a name="custom-hosting-requirements"></a><span data-ttu-id="4cf98-200">Özel Barındırma Gereksinimleri</span><span class="sxs-lookup"><span data-stu-id="4cf98-200">Custom Hosting Requirements</span></span>  
 <span data-ttu-id="4cf98-201">Varsayılan olarak, WCF Veri Hizmetleri, IIS'de barındırılan ASP.NET uygulaması olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="4cf98-201">By default, WCF Data Services is created as an ASP.NET application hosted in IIS.</span></span> <span data-ttu-id="4cf98-202">Bu, veri hizmetinin bu platformun güvenli davranışlarını kullanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-202">This enables the data service to leverage the secure behaviors of this platform.</span></span> <span data-ttu-id="4cf98-203">Özel bir ana bilgisayar tarafından barındırılan bir WCF Veri Hizmetleri tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-203">You can define WCF Data Services that are hosted by a custom host.</span></span> <span data-ttu-id="4cf98-204">Daha fazla bilgi için [veri hizmetini barındıran](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="4cf98-204">For more information, see [Hosting the Data Service](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md).</span></span> <span data-ttu-id="4cf98-205">Veri hizmetini barındıran bileşenler ve platform, veri hizmetine yapılan saldırıları önlemek için aşağıdaki güvenlik davranışlarını sağlamalıdır:</span><span class="sxs-lookup"><span data-stu-id="4cf98-205">The components and platform hosting a data service must ensure the following security behaviors to prevent attacks on the data service:</span></span>  
  
-   <span data-ttu-id="4cf98-206">Olası tüm işlemler için veri hizmeti isteğinde kabul edilen URI'nin uzunluğunu sınırlama.</span><span class="sxs-lookup"><span data-stu-id="4cf98-206">Limit the length of the URI accepted in a data service request for all possible operations.</span></span>  
  
-   <span data-ttu-id="4cf98-207">Hem gelen hem de giden HTTP iletilerinin boyutunu sınırlama.</span><span class="sxs-lookup"><span data-stu-id="4cf98-207">Limit the size of both incoming and outgoing HTTP messages.</span></span>  
  
-   <span data-ttu-id="4cf98-208">Herhangi bir zamanda bekleyen isteklerin toplam sayısını sınırlama.</span><span class="sxs-lookup"><span data-stu-id="4cf98-208">Limit the total number of outstanding requests at any given time.</span></span>  
  
-   <span data-ttu-id="4cf98-209">HTTP üstbilgilerinin ve değerlerinin boyutunu sınırlama ve üstbilgi verilerine WCF Veri Hizmetleri erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-209">Limit the size of HTTP headers and their values, and provide WCF Data Services access to header data.</span></span>  
  
-   <span data-ttu-id="4cf98-210">TCP SYN ve ileti yeniden yürütme saldırıları gibi bilinen saldırıları algılama ve önleme.</span><span class="sxs-lookup"><span data-stu-id="4cf98-210">Detect and counter known attacks, such as TCP SYN and message replay attacks.</span></span>  
  
### <a name="values-are-not-further-encoded"></a><span data-ttu-id="4cf98-211">Değerler Daha Fazla Kodlanmaz</span><span class="sxs-lookup"><span data-stu-id="4cf98-211">Values Are Not Further Encoded</span></span>  
 <span data-ttu-id="4cf98-212">Veri hizmetine gönderilen özellik değerleri WCF Veri Hizmetleri çalışma zamanı tarafından daha fazla kodlanmaz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-212">Property values sent to the data service are not further encoded by the WCF Data Services runtime.</span></span> <span data-ttu-id="4cf98-213">Örneğin, bir varlığın dize özelliği biçimlendirilmiş HTML içeriği içerdiğinde, etiketler veri hizmeti tarafından kodlanmış HTML değildir.</span><span class="sxs-lookup"><span data-stu-id="4cf98-213">For example, when a string property of an entity contains formatted HTML content, the tags are not HTML encoded by the data service.</span></span> <span data-ttu-id="4cf98-214">Veri hizmeti yanıttaki özellik değerlerini de kodlamaz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-214">The data service also does not further encode property values in the response.</span></span> <span data-ttu-id="4cf98-215">İstemci Kitaplığı da ek kodlama gerçekleştirmez.</span><span class="sxs-lookup"><span data-stu-id="4cf98-215">The client library also does not perform any additional encoding.</span></span>  
  
### <a name="considerations-for-client-applications"></a><span data-ttu-id="4cf98-216">İstemci Uygulamaları için Önemli Noktalar</span><span class="sxs-lookup"><span data-stu-id="4cf98-216">Considerations for Client Applications</span></span>  
 <span data-ttu-id="4cf98-217">Aşağıdaki güvenlik hususlarını WCF Veri Hizmetleri istemci OData hizmetlere erişmek için kullandıkları uygulamalar için geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="4cf98-217">The following security considerations apply to applications that use the WCF Data Services client to access OData services:</span></span>  
  
-   <span data-ttu-id="4cf98-218">İstemci kitaplığı, veri hizmetine erişmek için kullanılan protokollerin uygun düzeyde güvenlik sağladığını varsayar.</span><span class="sxs-lookup"><span data-stu-id="4cf98-218">The client library assumes that the protocols used to access the data service provide an appropriate level of security.</span></span>  
  
-   <span data-ttu-id="4cf98-219">İstemci kitaplığı, platform tarafından sağlanan temel taşıma yığınlarının zaman aşımları ve ayrıştırma seçenekleri için tüm varsayılan değerleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-219">The client library uses all the default values for timeouts and parsing options of the underlying platform-provided transport stacks.</span></span>  
  
-   <span data-ttu-id="4cf98-220">İstemci kitaplığı, uygulama yapılandırma dosyalarından ayar okumaz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-220">The client library does not read any settings from application configuration files.</span></span>  
  
-   <span data-ttu-id="4cf98-221">İstemci kitaplığı, etki alanları arasında erişim mekanizması uygulamaz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-221">The client library does not implement any cross domain access mechanisms.</span></span> <span data-ttu-id="4cf98-222">Bunun yerine, temel HTTP yığını tarafından sağlanan mekanizmalardan yararlanır.</span><span class="sxs-lookup"><span data-stu-id="4cf98-222">Instead, it relies on the mechanisms provided by the underlying HTTP stack.</span></span>  
  
-   <span data-ttu-id="4cf98-223">İstemci kitaplığının kullanıcı arabirimi öğesi yoktur ve hiçbir zaman aldığı veya gönderdiği verileri görüntülemeye veya oluşturmaya çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-223">The client library has no user interface elements, and it never tries to display or render the data that it receives or sends.</span></span>  
  
-   <span data-ttu-id="4cf98-224">İstemci uygulamalarının her zaman kullanıcı girişini ve güvenilmeyen hizmetlerden kabul edilen verileri doğrulamasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-224">We recommend that client applications always validate user input as well as data accepted from untrusted services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4cf98-225">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="4cf98-225">See also</span></span>
- [<span data-ttu-id="4cf98-226">WCF Veri Hizmetlerini Tanımlama</span><span class="sxs-lookup"><span data-stu-id="4cf98-226">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
- [<span data-ttu-id="4cf98-227">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="4cf98-227">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
