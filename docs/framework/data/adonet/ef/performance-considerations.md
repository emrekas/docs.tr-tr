---
title: Performansla ilgili önemli noktalar (varlık çerçevesi)
ms.date: 03/30/2017
ms.assetid: 61913f3b-4f42-4d9b-810f-2a13c2388a4a
ms.openlocfilehash: ec7f3571f60dc7f10816cad90911e50d271a9ce1
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59324051"
---
# <a name="performance-considerations-entity-framework"></a><span data-ttu-id="e0961-102">Performansla ilgili önemli noktalar (varlık çerçevesi)</span><span class="sxs-lookup"><span data-stu-id="e0961-102">Performance Considerations (Entity Framework)</span></span>
<span data-ttu-id="e0961-103">Bu konu, ADO.NET varlık çerçevesi performans özelliklerini açıklar ve Entity Framework uygulamalarının performansını artırmak için bazı değerlendirmeleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="e0961-103">This topic describes performance characteristics of the ADO.NET Entity Framework and provides some considerations to help improve the performance of Entity Framework applications.</span></span>  
  
## <a name="stages-of-query-execution"></a><span data-ttu-id="e0961-104">Sorgu yürütme aşamaları</span><span class="sxs-lookup"><span data-stu-id="e0961-104">Stages of Query Execution</span></span>  
 <span data-ttu-id="e0961-105">Sorgular, Entity Framework performansının daha iyi anlamak için bir sorgu kavramsal model karşı yürütür ve verileri nesne gibi döndürür yaptığında gerçekleşen işlem anlamak yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="e0961-105">In order to better understand the performance of queries in the Entity Framework, it is helpful to understand the operations that occur when a query executes against a conceptual model and returns data as objects.</span></span> <span data-ttu-id="e0961-106">Aşağıdaki tabloda, bu bir dizi işlem açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="e0961-106">The following table describes this series of operations.</span></span>  
  
|<span data-ttu-id="e0961-107">Çalışma</span><span class="sxs-lookup"><span data-stu-id="e0961-107">Operation</span></span>|<span data-ttu-id="e0961-108">Göreli maliyeti</span><span class="sxs-lookup"><span data-stu-id="e0961-108">Relative Cost</span></span>|<span data-ttu-id="e0961-109">Sıklık</span><span class="sxs-lookup"><span data-stu-id="e0961-109">Frequency</span></span>|<span data-ttu-id="e0961-110">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="e0961-110">Comments</span></span>|  
|---------------|-------------------|---------------|--------------|  
|<span data-ttu-id="e0961-111">Meta verileri yükleniyor</span><span class="sxs-lookup"><span data-stu-id="e0961-111">Loading metadata</span></span>|<span data-ttu-id="e0961-112">Orta</span><span class="sxs-lookup"><span data-stu-id="e0961-112">Moderate</span></span>|<span data-ttu-id="e0961-113">Bir kez her uygulama etki alanında.</span><span class="sxs-lookup"><span data-stu-id="e0961-113">Once in each application domain.</span></span>|<span data-ttu-id="e0961-114">Entity Framework tarafından kullanılan model ve eşleme meta veri olarak yüklendiği bir <xref:System.Data.Metadata.Edm.MetadataWorkspace>.</span><span class="sxs-lookup"><span data-stu-id="e0961-114">Model and mapping metadata used by the Entity Framework is loaded into a <xref:System.Data.Metadata.Edm.MetadataWorkspace>.</span></span> <span data-ttu-id="e0961-115">Bu meta verileri genel olarak önbelleğe alınır ve diğer örnekleri için kullanılabilir <xref:System.Data.Objects.ObjectContext> aynı uygulama etki alanında.</span><span class="sxs-lookup"><span data-stu-id="e0961-115">This metadata is cached globally and is available to other instances of <xref:System.Data.Objects.ObjectContext> in the same application domain.</span></span>|  
|<span data-ttu-id="e0961-116">Veritabanı bağlantısı açılıyor</span><span class="sxs-lookup"><span data-stu-id="e0961-116">Opening the database connection</span></span>|<span data-ttu-id="e0961-117">Orta<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="e0961-117">Moderate<sup>1</sup></span></span>|<span data-ttu-id="e0961-118">Gerektiğinde.</span><span class="sxs-lookup"><span data-stu-id="e0961-118">As needed.</span></span>|<span data-ttu-id="e0961-119">Veritabanına bir bağlantı değerli bir kaynak kullandığından [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] açılır ve yalnızca gerektiğinde veritabanı bağlantıyı kapatır.</span><span class="sxs-lookup"><span data-stu-id="e0961-119">Because an open connection to the database consumes a valuable resource, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] opens and closes the database connection only as needed.</span></span> <span data-ttu-id="e0961-120">Bağlantı açıkça de açabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e0961-120">You can also explicitly open the connection.</span></span> <span data-ttu-id="e0961-121">Daha fazla bilgi için [bağlantılarını yönetme ve işlemleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-121">For more information, see [Managing Connections and Transactions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span></span>|  
|<span data-ttu-id="e0961-122">Görünüm oluşturma</span><span class="sxs-lookup"><span data-stu-id="e0961-122">Generating views</span></span>|<span data-ttu-id="e0961-123">Yüksek</span><span class="sxs-lookup"><span data-stu-id="e0961-123">High</span></span>|<span data-ttu-id="e0961-124">Bir kez her uygulama etki alanında.</span><span class="sxs-lookup"><span data-stu-id="e0961-124">Once in each application domain.</span></span> <span data-ttu-id="e0961-125">(Ön üretilemez.)</span><span class="sxs-lookup"><span data-stu-id="e0961-125">(Can be pre-generated.)</span></span>|<span data-ttu-id="e0961-126">Varlık çerçevesi kavramsal modeline karşı bir sorgu yürütme veya değişiklikleri veri kaynağına kaydetmek için önce yerel sorgu görünümleri veritabanına erişmek için bir dizi oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e0961-126">Before the Entity Framework can execute a query against a conceptual model or save changes to the data source, it must generate a set of local query views to access the database.</span></span> <span data-ttu-id="e0961-127">Bu görünümler oluşturmanın yüksek maliyetinden nedeniyle önceden görünümlerinizi ve tasarım zamanında projeye ekleyin.</span><span class="sxs-lookup"><span data-stu-id="e0961-127">Because of the high cost of generating these views, you can pre-generate the views and add them to the project at design-time.</span></span> <span data-ttu-id="e0961-128">Daha fazla bilgi için [nasıl yapılır: Sorgu performansını artırmak için önceden görünümlerin](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896240(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-128">For more information, see [How to: Pre-Generate Views to Improve Query Performance](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896240(v=vs.100)).</span></span>|  
|<span data-ttu-id="e0961-129">Sorgu hazırlanıyor</span><span class="sxs-lookup"><span data-stu-id="e0961-129">Preparing the query</span></span>|<span data-ttu-id="e0961-130">Orta<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="e0961-130">Moderate<sup>2</sup></span></span>|<span data-ttu-id="e0961-131">Bir kez her benzersiz sorgu için.</span><span class="sxs-lookup"><span data-stu-id="e0961-131">Once for each unique query.</span></span>|<span data-ttu-id="e0961-132">Sorgu komutu oluşturun, model ve eşleme meta verileri temel alan bir komut ağacı oluşturmak ve döndürülen verinin şeklini tanımlamak için maliyetlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="e0961-132">Includes the costs to compose the query command, generate a command tree based on model and mapping metadata, and define the shape of the returned data.</span></span> <span data-ttu-id="e0961-133">Artık hem varlık SQL sorgu komutlarını hem de LINQ sorguları önbelleğe alındığından, aynı sorgu sonraki yürütmeleri daha kısa sürer.</span><span class="sxs-lookup"><span data-stu-id="e0961-133">Because now both Entity SQL query commands and LINQ queries are cached, later executions of the same query take less time.</span></span> <span data-ttu-id="e0961-134">Bu sonraki yürütme sayısı maliyeti azaltmak için derlenmiş LINQ sorguları kullanmaya devam edebilirsiniz ve derlenmiş sorgular otomatik olarak önbelleğe LINQ sorguları daha verimli olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-134">You can still use compiled LINQ queries to reduce this cost in later executions and compiled queries can be more efficient than LINQ queries that are automatically cached.</span></span> <span data-ttu-id="e0961-135">Daha fazla bilgi için [derlenmiş sorgular (LINQ to Entities)](../../../../../docs/framework/data/adonet/ef/language-reference/compiled-queries-linq-to-entities.md).</span><span class="sxs-lookup"><span data-stu-id="e0961-135">For more information, see [Compiled Queries  (LINQ to Entities)](../../../../../docs/framework/data/adonet/ef/language-reference/compiled-queries-linq-to-entities.md).</span></span> <span data-ttu-id="e0961-136">LINQ Sorgu yürütme hakkında genel bilgi için bkz: [LINQ to Entities](../../../../../docs/framework/data/adonet/ef/language-reference/linq-to-entities.md).</span><span class="sxs-lookup"><span data-stu-id="e0961-136">For general information about LINQ query execution, see [LINQ to Entities](../../../../../docs/framework/data/adonet/ef/language-reference/linq-to-entities.md).</span></span> <span data-ttu-id="e0961-137">**Not:**  LINQ to Entities sorgularında, uygulama `Enumerable.Contains` işleci bellek içi koleksiyonlara otomatik olarak önbelleğe alınmaz.</span><span class="sxs-lookup"><span data-stu-id="e0961-137">**Note:**  LINQ to Entities queries that apply the `Enumerable.Contains` operator to in-memory collections are not automatically cached.</span></span> <span data-ttu-id="e0961-138">Bellek içi koleksiyonları derlenmiş LINQ sorgularında ayrıca kümesini parametreleştirme izin verilmez.</span><span class="sxs-lookup"><span data-stu-id="e0961-138">Also parameterizing in-memory collections in compiled LINQ queries is not allowed.</span></span>|  
|<span data-ttu-id="e0961-139">Sorgu yürütülüyor</span><span class="sxs-lookup"><span data-stu-id="e0961-139">Executing the query</span></span>|<span data-ttu-id="e0961-140">Düşük<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="e0961-140">Low<sup>2</sup></span></span>|<span data-ttu-id="e0961-141">Bir kez her sorgu için.</span><span class="sxs-lookup"><span data-stu-id="e0961-141">Once for each query.</span></span>|<span data-ttu-id="e0961-142">ADO.NET veri sağlayıcıyı kullanarak veri kaynağına karşı komut yürütmenin maliyeti.</span><span class="sxs-lookup"><span data-stu-id="e0961-142">The cost of executing the command against the data source by using the ADO.NET data provider.</span></span> <span data-ttu-id="e0961-143">Çoğu veri kaynakları sorgu planlarına önbelleğe almak için aynı sorgu sonraki yürütmeleri bile daha az zaman alabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-143">Because most data sources cache query plans, later executions of the same query may take even less time.</span></span>|  
|<span data-ttu-id="e0961-144">Yükleme ve türleri doğrulanıyor</span><span class="sxs-lookup"><span data-stu-id="e0961-144">Loading and validating types</span></span>|<span data-ttu-id="e0961-145">Düşük<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="e0961-145">Low<sup>3</sup></span></span>|<span data-ttu-id="e0961-146">Her biri için bir kez <xref:System.Data.Objects.ObjectContext> örneği.</span><span class="sxs-lookup"><span data-stu-id="e0961-146">Once for each <xref:System.Data.Objects.ObjectContext> instance.</span></span>|<span data-ttu-id="e0961-147">Türleri yüklenir ve kavramsal model tanımlayan türlerine karşı doğrulandı.</span><span class="sxs-lookup"><span data-stu-id="e0961-147">Types are loaded and validated against the types that the conceptual model defines.</span></span>|  
|<span data-ttu-id="e0961-148">İzleme</span><span class="sxs-lookup"><span data-stu-id="e0961-148">Tracking</span></span>|<span data-ttu-id="e0961-149">Düşük<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="e0961-149">Low<sup>3</sup></span></span>|<span data-ttu-id="e0961-150">Bir sorgu döndüren bir kez her nesne için.</span><span class="sxs-lookup"><span data-stu-id="e0961-150">Once for each object that a query returns.</span></span> <sup><span data-ttu-id="e0961-151">4</span><span class="sxs-lookup"><span data-stu-id="e0961-151">4</span></span></sup>|<span data-ttu-id="e0961-152">Bir sorgu kullanıyorsa <xref:System.Data.Objects.MergeOption.NoTracking> birleştirme seçeneği, bu aşama performansını etkilemez.</span><span class="sxs-lookup"><span data-stu-id="e0961-152">If a query uses the <xref:System.Data.Objects.MergeOption.NoTracking> merge option, this stage does not affect performance.</span></span><br /><br /> <span data-ttu-id="e0961-153">Sorgu kullanıyorsa <xref:System.Data.Objects.MergeOption.AppendOnly>, <xref:System.Data.Objects.MergeOption.PreserveChanges>, veya <xref:System.Data.Objects.MergeOption.OverwriteChanges> birleştirme seçeneği, sorgu sonuçları izlenir <xref:System.Data.Objects.ObjectStateManager>.</span><span class="sxs-lookup"><span data-stu-id="e0961-153">If the query uses the <xref:System.Data.Objects.MergeOption.AppendOnly>, <xref:System.Data.Objects.MergeOption.PreserveChanges>, or <xref:System.Data.Objects.MergeOption.OverwriteChanges> merge option, query results are tracked in the <xref:System.Data.Objects.ObjectStateManager>.</span></span> <span data-ttu-id="e0961-154">Bir <xref:System.Data.EntityKey> sorguyu döndürür ve izlenen her nesne için oluşturulan oluşturmak için kullanılan bir <xref:System.Data.Objects.ObjectStateEntry> içinde <xref:System.Data.Objects.ObjectStateManager>.</span><span class="sxs-lookup"><span data-stu-id="e0961-154">An <xref:System.Data.EntityKey> is generated for each tracked object that the query returns and is used to create an <xref:System.Data.Objects.ObjectStateEntry> in the <xref:System.Data.Objects.ObjectStateManager>.</span></span> <span data-ttu-id="e0961-155">Varolan <xref:System.Data.Objects.ObjectStateEntry> bulunabilir <xref:System.Data.EntityKey>, var olan nesne döndürülür.</span><span class="sxs-lookup"><span data-stu-id="e0961-155">If an existing <xref:System.Data.Objects.ObjectStateEntry> can be found for the <xref:System.Data.EntityKey>, the existing object is returned.</span></span> <span data-ttu-id="e0961-156">Varsa <xref:System.Data.Objects.MergeOption.PreserveChanges>, veya <xref:System.Data.Objects.MergeOption.OverwriteChanges> seçeneği kullanıldığında, nesneyi döndürülmeden önce güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-156">If the <xref:System.Data.Objects.MergeOption.PreserveChanges>, or <xref:System.Data.Objects.MergeOption.OverwriteChanges> option is used, the object is updated before it is returned.</span></span><br /><br /> <span data-ttu-id="e0961-157">Daha fazla bilgi için [kimlik çözümlemesi, durum yönetimi ve değişiklik izleme](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896269(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-157">For more information, see [Identity Resolution, State Management, and Change Tracking](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896269(v=vs.100)).</span></span>|  
|<span data-ttu-id="e0961-158">Nesneleri düzeniyle</span><span class="sxs-lookup"><span data-stu-id="e0961-158">Materializing the objects</span></span>|<span data-ttu-id="e0961-159">Orta<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="e0961-159">Moderate<sup>3</sup></span></span>|<span data-ttu-id="e0961-160">Bir sorgu döndüren bir kez her nesne için.</span><span class="sxs-lookup"><span data-stu-id="e0961-160">Once for each object that a query returns.</span></span> <sup><span data-ttu-id="e0961-161">4</span><span class="sxs-lookup"><span data-stu-id="e0961-161">4</span></span></sup>|<span data-ttu-id="e0961-162">Döndürülen okuma işleminin <xref:System.Data.Common.DbDataReader> nesne nesneleri oluşturma ve her örneğinde değerlere göre özellik değerlerini ayarlama <xref:System.Data.Common.DbDataRecord> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="e0961-162">The process of reading the returned <xref:System.Data.Common.DbDataReader> object and creating objects and setting property values that are based on the values in each instance of the <xref:System.Data.Common.DbDataRecord> class.</span></span> <span data-ttu-id="e0961-163">Nesne zaten varsa <xref:System.Data.Objects.ObjectContext> ve sorgu kullanan <xref:System.Data.Objects.MergeOption.AppendOnly> veya <xref:System.Data.Objects.MergeOption.PreserveChanges> birleştirme seçeneklerini, bu aşama performansını etkilemez.</span><span class="sxs-lookup"><span data-stu-id="e0961-163">If the object already exists in the <xref:System.Data.Objects.ObjectContext> and the query uses the <xref:System.Data.Objects.MergeOption.AppendOnly> or <xref:System.Data.Objects.MergeOption.PreserveChanges> merge options, this stage does not affect performance.</span></span> <span data-ttu-id="e0961-164">Daha fazla bilgi için [kimlik çözümlemesi, durum yönetimi ve değişiklik izleme](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896269(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-164">For more information, see [Identity Resolution, State Management, and Change Tracking](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896269(v=vs.100)).</span></span>|  
  
 <span data-ttu-id="e0961-165"><sup>1</sup> bağlantı havuzu bir veri kaynağı sağlayıcı uygular, bir bağlantı açmak maliyeti havuz arasında dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="e0961-165"><sup>1</sup> When a data source provider implements connection pooling, the cost of opening a connection is distributed across the pool.</span></span> <span data-ttu-id="e0961-166">SQL Server için .NET sağlayıcısı, bağlantı havuzu destekler.</span><span class="sxs-lookup"><span data-stu-id="e0961-166">The .NET Provider for SQL Server supports connection pooling.</span></span>  
  
 <span data-ttu-id="e0961-167"><sup>2</sup> maliyeti daha yüksek sorgu karmaşıklığı artırır.</span><span class="sxs-lookup"><span data-stu-id="e0961-167"><sup>2</sup> Cost increases with increased query complexity.</span></span>  
  
 <span data-ttu-id="e0961-168"><sup>3</sup> orantılı sorgu tarafından döndürülen nesne sayısı için toplam maliyet artar.</span><span class="sxs-lookup"><span data-stu-id="e0961-168"><sup>3</sup> Total cost increases proportional to the number of objects returned by the query.</span></span>  
  
 <span data-ttu-id="e0961-169"><sup>4</sup> EntityClient dönüş sorguladığından EntityClient sorgular için bu ek yükü gerekli değil bir <xref:System.Data.EntityClient.EntityDataReader> nesneler yerine.</span><span class="sxs-lookup"><span data-stu-id="e0961-169"><sup>4</sup> This overhead is not required for EntityClient queries because EntityClient queries return an <xref:System.Data.EntityClient.EntityDataReader> instead of objects.</span></span> <span data-ttu-id="e0961-170">Daha fazla bilgi için [Entity Framework için EntityClient sağlayıcısı](../../../../../docs/framework/data/adonet/ef/entityclient-provider-for-the-entity-framework.md).</span><span class="sxs-lookup"><span data-stu-id="e0961-170">For more information, see [EntityClient Provider for the Entity Framework](../../../../../docs/framework/data/adonet/ef/entityclient-provider-for-the-entity-framework.md).</span></span>  
  
## <a name="additional-considerations"></a><span data-ttu-id="e0961-171">Dikkat edilecek diğer noktalar</span><span class="sxs-lookup"><span data-stu-id="e0961-171">Additional Considerations</span></span>  
 <span data-ttu-id="e0961-172">Entity Framework uygulamalarının performansını etkileyebilecek diğer konular şunlardır:</span><span class="sxs-lookup"><span data-stu-id="e0961-172">The following are other considerations that may affect the performance of Entity Framework applications.</span></span>  
  
### <a name="query-execution"></a><span data-ttu-id="e0961-173">Sorgu Yürütme</span><span class="sxs-lookup"><span data-stu-id="e0961-173">Query Execution</span></span>  
 <span data-ttu-id="e0961-174">Yoğun kaynak sorgular bu nedenle, kod ve hangi bilgisayarda hangi noktada sorgu yürütülür göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="e0961-174">Because queries can be resource intensive, consider at what point in your code and on what computer a query is executed.</span></span>  
  
#### <a name="deferred-versus-immediate-execution"></a><span data-ttu-id="e0961-175">Ertelenmiş hemen yürütme</span><span class="sxs-lookup"><span data-stu-id="e0961-175">Deferred versus immediate execution</span></span>  
 <span data-ttu-id="e0961-176">Oluştururken bir <xref:System.Data.Objects.ObjectQuery%601> veya LINQ sorgusunu sorgu hemen yürütülemeyebilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-176">When you create an <xref:System.Data.Objects.ObjectQuery%601> or LINQ query, the query may not be executed immediately.</span></span> <span data-ttu-id="e0961-177">Sorgu yürütme sonuçları gibi gerekli olup kadar ertelenmiş sırasında bir `foreach` (C#) veya `For Each` numaralandırması (Visual Basic) veya ne zaman doldurmak için atanır bir <xref:System.Collections.Generic.List%601> koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="e0961-177">Query execution is deferred until the results are needed, such as during a `foreach` (C#) or `For Each` (Visual Basic) enumeration or when it is assigned to fill a <xref:System.Collections.Generic.List%601> collection.</span></span> <span data-ttu-id="e0961-178">Sorgu yürütme başlangıcı çağırdığınızda hemen <xref:System.Data.Objects.ObjectQuery%601.Execute%2A> metodunda bir <xref:System.Data.Objects.ObjectQuery%601> veya LINQ yöntemi çağırdığınızda döndürür gibi tek sorgu <xref:System.Linq.Enumerable.First%2A> veya <xref:System.Linq.Enumerable.Any%2A>.</span><span class="sxs-lookup"><span data-stu-id="e0961-178">Query execution begins immediately when you call the <xref:System.Data.Objects.ObjectQuery%601.Execute%2A> method on an <xref:System.Data.Objects.ObjectQuery%601> or when you call a LINQ method that returns a singleton query, such as <xref:System.Linq.Enumerable.First%2A> or <xref:System.Linq.Enumerable.Any%2A>.</span></span> <span data-ttu-id="e0961-179">Daha fazla bilgi için [nesne sorgularını](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896241(v=vs.100)) ve [sorgu yürütme (LINQ to Entities)](../../../../../docs/framework/data/adonet/ef/language-reference/query-execution.md).</span><span class="sxs-lookup"><span data-stu-id="e0961-179">For more information, see [Object Queries](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896241(v=vs.100)) and [Query Execution (LINQ to Entities)](../../../../../docs/framework/data/adonet/ef/language-reference/query-execution.md).</span></span>  
  
#### <a name="client-side-execution-of-linq-queries"></a><span data-ttu-id="e0961-180">İstemci tarafı yürütülmesini LINQ sorguları</span><span class="sxs-lookup"><span data-stu-id="e0961-180">Client-side execution of LINQ queries</span></span>  
 <span data-ttu-id="e0961-181">Veri kaynağını barındıran bilgisayarda bir LINQ sorgusunun yürütülmesi karşın, istemci bilgisayarda bir LINQ Sorgu bazı bölümlerini değerlendirilebilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-181">Although the execution of a LINQ query occurs on the computer that hosts the data source, some parts of a LINQ query may be evaluated on the client computer.</span></span> <span data-ttu-id="e0961-182">Daha fazla bilgi için bkz: Store yürütme bölümü [sorgu yürütme (LINQ to Entities)](../../../../../docs/framework/data/adonet/ef/language-reference/query-execution.md).</span><span class="sxs-lookup"><span data-stu-id="e0961-182">For more information, see the Store Execution section of [Query Execution (LINQ to Entities)](../../../../../docs/framework/data/adonet/ef/language-reference/query-execution.md).</span></span>  
  
### <a name="query-and-mapping-complexity"></a><span data-ttu-id="e0961-183">Sorgu ve karmaşıklık eşleme</span><span class="sxs-lookup"><span data-stu-id="e0961-183">Query and Mapping Complexity</span></span>  
 <span data-ttu-id="e0961-184">Her sorgu ve varlık modeli eşlemede karmaşıklığı sorgu performansı üzerinde önemli bir etkisi olacaktır.</span><span class="sxs-lookup"><span data-stu-id="e0961-184">The complexity of individual queries and of the mapping in the entity model will have a significant effect on query performance.</span></span>  
  
#### <a name="mapping-complexity"></a><span data-ttu-id="e0961-185">Eşleme karmaşıklığı</span><span class="sxs-lookup"><span data-stu-id="e0961-185">Mapping complexity</span></span>  
 <span data-ttu-id="e0961-186">Daha karmaşık komutlar bire bir eşleme sahip modellerinin basit bire bir eşleme kavramsal modeldeki varlıklar depolama modelindeki tablolar arasında daha karmaşık modelleri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="e0961-186">Models that are more complex than a simple one-to-one mapping between entities in the conceptual model and tables in the storage model generate more complex commands than models that have a one-to-one mapping.</span></span>  
  
#### <a name="query-complexity"></a><span data-ttu-id="e0961-187">Sorgu karmaşıklığı</span><span class="sxs-lookup"><span data-stu-id="e0961-187">Query complexity</span></span>  
 <span data-ttu-id="e0961-188">Çok sayıda veri kaynağına karşı yürütülen veya, büyük miktarda veri döndüren komutlar birleşimlerde gerektiren sorguları, aşağıdaki yollarla performansını etkileyebilir:</span><span class="sxs-lookup"><span data-stu-id="e0961-188">Queries that require a large number of joins in the commands that are executed against the data source or that return a large amount of data may affect performance in the following ways:</span></span>  
  
-   <span data-ttu-id="e0961-189">Basit görünen kavramsal modeline karşı sorgular, veri kaynağına karşı daha karmaşık sorgular yürütülmesine neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-189">Queries against a conceptual model that seem simple may result in the execution of more complex queries against the data source.</span></span> <span data-ttu-id="e0961-190">Varlık çerçevesi kavramsal modeline karşı bir sorgu veri kaynağına karşı eşdeğer bir sorguda çevirir. çünkü bu durum oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-190">This can occur because the Entity Framework translates a query against a conceptual model into an equivalent query against the data source.</span></span> <span data-ttu-id="e0961-191">Tek bir varlık kümesi'nde, veri kaynağında birden fazla tablo kavramsal model eşlendiği veya varlıklar arasında ilişki birleştirme tabloya eşlendiğinde, veri kaynağı sorgusu karşı yürütülen sorgu komutu bir veya daha fazla birleştirme işlemleri gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-191">When a single entity set in the conceptual model maps to more than one table in the data source, or when a relationship between entities is mapped to a join table, the query command executed against the data source query may require one or more joins.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="e0961-192">Kullanım <xref:System.Data.Objects.ObjectQuery.ToTraceString%2A> yöntemi <xref:System.Data.Objects.ObjectQuery%601> veya <xref:System.Data.EntityClient.EntityCommand> belirli bir sorgu için veri kaynağına karşı yürütülen komutlar görüntülemek için sınıflar.</span><span class="sxs-lookup"><span data-stu-id="e0961-192">Use the <xref:System.Data.Objects.ObjectQuery.ToTraceString%2A> method of the <xref:System.Data.Objects.ObjectQuery%601> or <xref:System.Data.EntityClient.EntityCommand> classes to view the commands that are executed against the data source for a given query.</span></span> <span data-ttu-id="e0961-193">Daha fazla bilgi için [nasıl yapılır: Store komutlarını görüntülemesine](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896348(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-193">For more information, see [How to: View the Store Commands](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896348(v=vs.100)).</span></span>  
  
-   <span data-ttu-id="e0961-194">İç içe geçmiş Entity SQL sorguları sunucuda birleştirmeler oluşturabilir ve çok sayıda satır döndürebilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-194">Nested Entity SQL queries may create joins on the server and can return a large number of rows.</span></span>  
  
     <span data-ttu-id="e0961-195">Bir projeksiyon yan tümcesi iç içe bir sorgu örneği verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="e0961-195">The following is an example of a nested query in a projection clause:</span></span>  
  
    ```  
    SELECT c, (SELECT c, (SELECT c FROM AdventureWorksModel.Vendor AS c  ) As Inner2   
        FROM AdventureWorksModel.JobCandidate AS c  ) As Inner1   
        FROM AdventureWorksModel.EmployeeDepartmentHistory AS c  
    ```  
  
     <span data-ttu-id="e0961-196">Ayrıca, iç içe geçmiş sorgular arasında nesneleri çoğaltma ile tek bir sorgu oluşturmak sorgu işlem hattındaki sorgularını neden.</span><span class="sxs-lookup"><span data-stu-id="e0961-196">In addition, such queries cause the query pipeline to generate a single query with duplication of objects across nested queries.</span></span> <span data-ttu-id="e0961-197">Bu nedenle, tek bir sütun birden çok defa yinelenebilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-197">Because of this, a single column may be duplicated multiple times.</span></span> <span data-ttu-id="e0961-198">SQL Server dahil olmak üzere bazı veritabanlarında, bu sunucu performansı azaltabilir, çok büyük büyümesine TempDB tablo neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-198">On some databases, including SQL Server, this can cause the TempDB table to grow very large, which can decrease server performance.</span></span> <span data-ttu-id="e0961-199">İç içe geçmiş sorgular yürütme dikkatli olunması.</span><span class="sxs-lookup"><span data-stu-id="e0961-199">Care should be taken when you execute nested queries.</span></span>  
  
-   <span data-ttu-id="e0961-200">İstemci sonuç kümesinin boyutuna orantılı bir şekilde kaynak kullanan işlemleri gerçekleştiriliyorsa, büyük miktarda veri neden olabilir döndüren sorgular performansı düşebilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-200">Any queries that return a large amount of data can cause decreased performance if the client is performing operations that consume resources in a way that is proportional to the size of the result set.</span></span> <span data-ttu-id="e0961-201">Böyle durumlarda, sorgu tarafından döndürülen veri miktarını sınırlamak düşünmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="e0961-201">In such cases, you should consider limiting the amount of data returned by the query.</span></span> <span data-ttu-id="e0961-202">Daha fazla bilgi için [nasıl yapılır: Sonuçlar sayfası sorguyla](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738702(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-202">For more information, see [How to: Page Through Query Results](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738702(v=vs.100)).</span></span>  
  
 <span data-ttu-id="e0961-203">Entity Framework tarafından otomatik olarak oluşturulan herhangi bir komut açıkça veritabanı geliştirici tarafından yazılan benzer komutları daha karmaşık olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-203">Any commands automatically generated by the Entity Framework may be more complex than similar commands written explicitly by a database developer.</span></span> <span data-ttu-id="e0961-204">Veri kaynağına karşı yürütülen komutlar kesin denetime ihtiyacınız varsa, bir tablo değerli işlev veya saklı yordam için bir eşleme tanımlama göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="e0961-204">If you need explicit control over the commands executed against your data source, consider defining a mapping to a table-valued function or stored procedure.</span></span>  
  
#### <a name="relationships"></a><span data-ttu-id="e0961-205">İlişkiler</span><span class="sxs-lookup"><span data-stu-id="e0961-205">Relationships</span></span>  
 <span data-ttu-id="e0961-206">Optimum sorgu performansı için varlık modeli ilişkilendirmeler hem mantıksal ilişkileri veri kaynağındaki varlıklar arasındaki ilişkilerin tanımlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e0961-206">For optimal query performance, you must define relationships between entities both as associations in the entity model and as logical relationships in the data source.</span></span>  
  
### <a name="query-paths"></a><span data-ttu-id="e0961-207">Sorgu yolları</span><span class="sxs-lookup"><span data-stu-id="e0961-207">Query Paths</span></span>  
 <span data-ttu-id="e0961-208">Varsayılan olarak yürüttüğünüzde bir <xref:System.Data.Objects.ObjectQuery%601>, ilgili nesneler (ilişkilerin temsil eden nesneleri olmasına rağmen) alınmadı.</span><span class="sxs-lookup"><span data-stu-id="e0961-208">By default, when you execute an <xref:System.Data.Objects.ObjectQuery%601>, related objects are not returned (although objects that represent the relationships themselves are).</span></span> <span data-ttu-id="e0961-209">Üç yoldan biriyle ilgili nesneleri yükleyebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="e0961-209">You can load related objects in one of three ways:</span></span>  
  
1. <span data-ttu-id="e0961-210">Önce sorgu yolunu <xref:System.Data.Objects.ObjectQuery%601> yürütülür.</span><span class="sxs-lookup"><span data-stu-id="e0961-210">Set the query path before the <xref:System.Data.Objects.ObjectQuery%601> is executed.</span></span>  
  
2. <span data-ttu-id="e0961-211">Çağrı `Load` nesneyi gösteren Gezinti özelliğindeki yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e0961-211">Call the `Load` method on the navigation property that the object exposes.</span></span>  
  
3. <span data-ttu-id="e0961-212">Ayarlama <xref:System.Data.Objects.ObjectContextOptions.LazyLoadingEnabled%2A> seçeneğini <xref:System.Data.Objects.ObjectContext> için `true`.</span><span class="sxs-lookup"><span data-stu-id="e0961-212">Set the <xref:System.Data.Objects.ObjectContextOptions.LazyLoadingEnabled%2A> option on the <xref:System.Data.Objects.ObjectContext> to `true`.</span></span> <span data-ttu-id="e0961-213">Nesne Katmanı kodu ile oluşturduğunuzda bu otomatik olarak yapılır [varlık veri modeli Tasarımcısı](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc716685(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-213">Note that this is done automatically when you generate object-layer code with the [Entity Data Model Designer](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc716685(v=vs.100)).</span></span> <span data-ttu-id="e0961-214">Daha fazla bilgi için [oluşturulan kod genel bakış](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc982041(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-214">For more information see [Generated Code Overview](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/cc982041(v=vs.100)).</span></span>  
  
 <span data-ttu-id="e0961-215">Hangi seçeneğin kullanılacağını düşünürken, veritabanında isteklerinin sayısı ve tek bir sorguda döndürülen veri miktarını arasında bir denge olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="e0961-215">When you consider which option to use, be aware that there is a tradeoff between the number of requests against the database and the amount of data returned in a single query.</span></span> <span data-ttu-id="e0961-216">Daha fazla bilgi için [ilgili nesneler Yükleniyor](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896272(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-216">For more information, see [Loading Related Objects](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896272(v=vs.100)).</span></span>  
  
#### <a name="using-query-paths"></a><span data-ttu-id="e0961-217">Sorgu yollar kullanarak</span><span class="sxs-lookup"><span data-stu-id="e0961-217">Using query paths</span></span>  
 <span data-ttu-id="e0961-218">Bir sorgunun döndürdüğü nesnelerin grafik sorgu tanımlar.</span><span class="sxs-lookup"><span data-stu-id="e0961-218">Query paths define the graph of objects that a query returns.</span></span> <span data-ttu-id="e0961-219">Sorgu yolu tanımladığınızda, veritabanında yalnızca tek bir istek yolunu tanımlar tüm nesneleri döndürme için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="e0961-219">When you define a query path, only a single request against the database is required to return all objects that the path defines.</span></span> <span data-ttu-id="e0961-220">Sorgu yolları kullanarak karmaşık komutlar görünüşte Basit Nesne sorgularından veri kaynağına karşı yürütülen neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-220">Using query paths can result in complex commands being executed against the data source from seemingly simple object queries.</span></span> <span data-ttu-id="e0961-221">Bu durum, tek bir sorguda ilgili nesneler döndürmek için gereken bir veya daha fazla birleştirmeler kaynaklanır.</span><span class="sxs-lookup"><span data-stu-id="e0961-221">This occurs because one or more joins are required to return related objects in a single query.</span></span> <span data-ttu-id="e0961-222">Bu karmaşıklığı, varlık devralma veya çok-çok ilişkileri içeren bir yol gibi bir karmaşık varlık modeline karşı sorgular büyüktür.</span><span class="sxs-lookup"><span data-stu-id="e0961-222">This complexity is greater in queries against a complex entity model, such as an entity with inheritance or a path that includes many-to-many relationships.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e0961-223">Kullanım <xref:System.Data.Objects.ObjectQuery.ToTraceString%2A> yöntemi tarafından oluşturulan komut görmek için bir <xref:System.Data.Objects.ObjectQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="e0961-223">Use the <xref:System.Data.Objects.ObjectQuery.ToTraceString%2A> method to see the command that will be generated by an <xref:System.Data.Objects.ObjectQuery%601>.</span></span> <span data-ttu-id="e0961-224">Daha fazla bilgi için [nasıl yapılır: Store komutlarını görüntülemesine](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896348(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-224">For more information, see [How to: View the Store Commands](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896348(v=vs.100)).</span></span>  
  
 <span data-ttu-id="e0961-225">Bir sorgu yolu çok fazla ilgili nesne içerir ya da çok fazla satır veri nesneleri içeren veri kaynağı sorgu tamamlayamıyor olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-225">When a query path includes too many related objects or the objects contain too much row data, the data source might be unable to complete the query.</span></span> <span data-ttu-id="e0961-226">Sorgu veri kaynağı özelliklerini aşan Ara geçici depolama gerektiriyorsa Bu durum gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="e0961-226">This occurs if the query requires intermediate temporary storage that exceeds the capabilities of the data source.</span></span> <span data-ttu-id="e0961-227">Bu durumda, ilgili nesneleri açıkça yükleyerek veri kaynağı sorgusu karmaşıklığını azaltabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-227">When this occurs, you can reduce the complexity of the data source query by explicitly loading related objects.</span></span>  
  
#### <a name="explicitly-loading-related-objects"></a><span data-ttu-id="e0961-228">İlgili nesneler açıkça yükleniyor</span><span class="sxs-lookup"><span data-stu-id="e0961-228">Explicitly loading related objects</span></span>  
 <span data-ttu-id="e0961-229">İlgili nesneler çağrılarak açıkça yükleyebilir `Load` döndüren bir gezinti özelliği metodunda bir <xref:System.Data.Objects.DataClasses.EntityCollection%601> veya <xref:System.Data.Objects.DataClasses.EntityReference%601>.</span><span class="sxs-lookup"><span data-stu-id="e0961-229">You can explicitly load related objects by calling the `Load` method on a navigation property that returns an <xref:System.Data.Objects.DataClasses.EntityCollection%601> or <xref:System.Data.Objects.DataClasses.EntityReference%601>.</span></span> <span data-ttu-id="e0961-230">Açıkça nesneleri yüklenirken bir gidiş dönüş veritabanına her zaman gerektirir `Load` çağrılır.</span><span class="sxs-lookup"><span data-stu-id="e0961-230">Explicitly loading objects requires a round-trip to the database every time `Load` is called.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e0961-231">Eğer `Load` kullandığınızda gibi döndürülen nesnelerin koleksiyonu aracılığıyla döngü sırasında `foreach` deyimi (`For Each` Visual Basic'te), birden çok etkin sonuç kümesi tek bir veri kaynağına özgü sağlayıcısı desteklemesi gerekir bağlantı.</span><span class="sxs-lookup"><span data-stu-id="e0961-231">if you call `Load` while looping through a collection of returned objects, such as when you use the `foreach` statement (`For Each` in Visual Basic), the data source-specific provider must support multiple active results sets on a single connection.</span></span> <span data-ttu-id="e0961-232">Bir SQL Server veritabanı için bir değerini belirtmeniz gerekir `MultipleActiveResultSets = true` sağlayıcısı bağlantı dizesinde.</span><span class="sxs-lookup"><span data-stu-id="e0961-232">For a SQL Server database, you must specify a value of `MultipleActiveResultSets = true` in the provider connection string.</span></span>  
  
 <span data-ttu-id="e0961-233">Ayrıca <xref:System.Data.Objects.ObjectContext.LoadProperty%2A> olduğunda yöntemi hiçbir <xref:System.Data.Objects.DataClasses.EntityCollection%601> veya <xref:System.Data.Objects.DataClasses.EntityReference%601> varlıklardaki özellikleri.</span><span class="sxs-lookup"><span data-stu-id="e0961-233">You can also use the <xref:System.Data.Objects.ObjectContext.LoadProperty%2A> method when there is no <xref:System.Data.Objects.DataClasses.EntityCollection%601> or <xref:System.Data.Objects.DataClasses.EntityReference%601> properties on entities.</span></span> <span data-ttu-id="e0961-234">POCO varlık kullanırken, bu yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="e0961-234">This is useful when you are using POCO entities.</span></span>  
  
 <span data-ttu-id="e0961-235">İlgili nesneler JOIN sayısını azaltır ve yedekli veri miktarı azalır açıkça yükleniyor olsa da `Load` açıkça büyük sayıda nesne yüklenirken pahalı hale gelebilir veritabanı yinelenen bağlantı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="e0961-235">Although explicitly loading related objects will reduce the number of joins and reduced the amount of redundant data, `Load` requires repeated connections to the database, which can become costly when explicitly loading a large number of objects.</span></span>  
  
### <a name="saving-changes"></a><span data-ttu-id="e0961-236">Değişiklikler kaydediliyor</span><span class="sxs-lookup"><span data-stu-id="e0961-236">Saving Changes</span></span>  
 <span data-ttu-id="e0961-237">Çağırdığınızda <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> metodunda bir <xref:System.Data.Objects.ObjectContext>, ayrı create, update veya delete komutu her eklenen, güncelleştirilen veya silinen nesnenin bağlamında oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="e0961-237">When you call the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method on an <xref:System.Data.Objects.ObjectContext>, a separate create, update, or delete command is generated for every added, updated, or deleted object in the context.</span></span> <span data-ttu-id="e0961-238">Bu komutlar, tek bir işlemde veri kaynağı üzerinde yürütülür.</span><span class="sxs-lookup"><span data-stu-id="e0961-238">These commands are executed on the data source in a single transaction.</span></span> <span data-ttu-id="e0961-239">Sorgularla performansını oluşturma, güncelleştirme ve silme işlemleri gibi kavramsal model eşlemede karmaşıklığına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="e0961-239">As with queries, the performance of create, update, and delete operations depends on the complexity of the mapping in the conceptual model.</span></span>  
  
### <a name="distributed-transactions"></a><span data-ttu-id="e0961-240">Dağıtılmış İşlemler</span><span class="sxs-lookup"><span data-stu-id="e0961-240">Distributed Transactions</span></span>  
 <span data-ttu-id="e0961-241">Dağıtılmış İşlem Düzenleyicisi (DTC) tarafından yönetilen kaynaklara gerektiren işlem açık bir işlemde DTC gerektirmeyen benzer bir işlem çok daha pahalı olur.</span><span class="sxs-lookup"><span data-stu-id="e0961-241">Operations in an explicit transaction that require resources that are managed by the distributed transaction coordinator (DTC) will be much more expensive than a similar operation that does not require the DTC.</span></span> <span data-ttu-id="e0961-242">DTC yükseltmesine aşağıdaki durumlarda oluşur:</span><span class="sxs-lookup"><span data-stu-id="e0961-242">Promotion to the DTC will occur in the following situations:</span></span>  
  
-   <span data-ttu-id="e0961-243">Her zaman bir işlem bir SQL Server 2000 veritabanı veya başka bir veri kaynağı ile açık bir işlem DTC için açık işlemleri tanıtın.</span><span class="sxs-lookup"><span data-stu-id="e0961-243">An explicit transaction with an operation against a SQL Server 2000 database or other data source that always promote explicit transactions to the DTC.</span></span>  
  
-   <span data-ttu-id="e0961-244">Bağlantı tarafından yönetilmediği durumlarda SQL Server 2005 yönelik bir işlem olan açık bir işlem [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e0961-244">An explicit transaction with an operation against SQL Server 2005 when the connection is managed by the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="e0961-245">Bağlantı kapatıldı ve tek bir işlem içinde açılamaz her SQL Server 2005 bir DTC yükseltir. Bu kaynaklanır varsayılan davranışını olduğu [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e0961-245">This occurs because SQL Server 2005 promotes to a DTC whenever a connection is closed and reopened within a single transaction, which is the default behavior of the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="e0961-246">Bu DTC promosyon, SQL Server 2008 kullanılırken gerçekleşmez.</span><span class="sxs-lookup"><span data-stu-id="e0961-246">This DTC promotion does not occur when using SQL Server 2008.</span></span> <span data-ttu-id="e0961-247">SQL Server 2005 kullanırken bu yükseltmeyi önlemek için açıkça açın ve işlem içinde bağlantıyı kapatın.</span><span class="sxs-lookup"><span data-stu-id="e0961-247">To avoid this promotion when using SQL Server 2005, you must explicitly open and close the connection within the transaction.</span></span> <span data-ttu-id="e0961-248">Daha fazla bilgi için [bağlantılarını yönetme ve işlemleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-248">For more information, see [Managing Connections and Transactions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span></span>  
  
 <span data-ttu-id="e0961-249">Açık işlem içindeki bir veya daha fazla işlem çalıştırıldığında kullanılan bir <xref:System.Transactions> işlem.</span><span class="sxs-lookup"><span data-stu-id="e0961-249">An explicit transaction is used when one or more operations are executed inside a <xref:System.Transactions> transaction.</span></span> <span data-ttu-id="e0961-250">Daha fazla bilgi için [bağlantılarını yönetme ve işlemleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-250">For more information, see [Managing Connections and Transactions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span></span>  
  
## <a name="strategies-for-improving-performance"></a><span data-ttu-id="e0961-251">Performansı geliştirme stratejileri</span><span class="sxs-lookup"><span data-stu-id="e0961-251">Strategies for Improving Performance</span></span>  
 <span data-ttu-id="e0961-252">Aşağıdaki stratejileri kullanarak Entity Framework sorgularda genel performansını artırabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-252">You can improve the overall performance of queries in the Entity Framework by using the following strategies.</span></span>  
  
#### <a name="pre-generate-views"></a><span data-ttu-id="e0961-253">Görünümleri önceden oluştur</span><span class="sxs-lookup"><span data-stu-id="e0961-253">Pre-generate views</span></span>  
 <span data-ttu-id="e0961-254">Bir varlık modelini temel alan bir görünüm oluşturma önemli maliyet bir uygulama bir sorgu yürütüldüğünde ilk açıklamadır.</span><span class="sxs-lookup"><span data-stu-id="e0961-254">Generating views based on an entity model is a significant cost the first time that an application executes a query.</span></span> <span data-ttu-id="e0961-255">Önceden görünümleri projeye tasarım sırasında eklenebilecek Visual Basic veya C# kod dosyası olarak üretmek için Edmgen.exe'yi yardımcı programını kullanın.</span><span class="sxs-lookup"><span data-stu-id="e0961-255">Use the EdmGen.exe utility to pre-generate views as a Visual Basic or C# code file that can be added to the project during design.</span></span> <span data-ttu-id="e0961-256">Metin şablonu dönüştürme araç seti, önceden derlenmiş görünümleri oluşturmak için de kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e0961-256">You could also use the Text Template Transformation Toolkit to generate pre-compiled views.</span></span> <span data-ttu-id="e0961-257">Önceden üretilmiş görünümleri, belirtilen varlık modeli geçerli sürümü ile uyumlu olduklarından emin olmak için çalışma zamanında doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="e0961-257">Pre-generated views are validated at runtime to ensure that they are consistent with the current version of the specified entity model.</span></span> <span data-ttu-id="e0961-258">Daha fazla bilgi için [nasıl yapılır: Sorgu performansını artırmak için önceden görünümlerin](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896240(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-258">For more information, see [How to: Pre-Generate Views to Improve Query Performance](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896240(v=vs.100)).</span></span>
  
 <span data-ttu-id="e0961-259">Çok büyük modelleri ile çalışırken, aşağıdaki önemli noktalar geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="e0961-259">When working with very large models, the following consideration applies:</span></span>  
  
 <span data-ttu-id="e0961-260">.NET meta veri biçimi 16.777.215 (0xFFFFFF değerine) belirtilen bir ikili kullanıcı dize karakter sayısını sınırlar.</span><span class="sxs-lookup"><span data-stu-id="e0961-260">The .NET metadata format limits the number of user string characters in a given binary to 16,777,215 (0xFFFFFF).</span></span> <span data-ttu-id="e0961-261">Çok büyük bir model için görünümleri oluşturduğunu ve görünüm dosyası bu boyutu sınırına ulaştığında, "mantıksal boşluk daha fazla kullanıcı dizeleri oluşturmak için sol." alırsınız</span><span class="sxs-lookup"><span data-stu-id="e0961-261">If you are generating views for a very large model and the view file reaches this size limit, you will get the "No logical space left to create more user strings."</span></span> <span data-ttu-id="e0961-262">derleme hatası.</span><span class="sxs-lookup"><span data-stu-id="e0961-262">compile error.</span></span> <span data-ttu-id="e0961-263">Bu boyut sınırlaması, tüm yönetilen ikililer için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="e0961-263">This size limitation applies to all managed binaries.</span></span> <span data-ttu-id="e0961-264">Daha fazla bilgi için [blog](https://go.microsoft.com/fwlink/?LinkId=201476) , büyük ve karmaşık modelleri ile çalışırken, hatayı önlemek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="e0961-264">For more information see the [blog](https://go.microsoft.com/fwlink/?LinkId=201476) that demonstrates how to avoid the error when working with large and complex models.</span></span>  
  
#### <a name="consider-using-the-notracking-merge-option-for-queries"></a><span data-ttu-id="e0961-265">Sorgular için NoTracking birleştirme seçeneği kullanmayı düşünün</span><span class="sxs-lookup"><span data-stu-id="e0961-265">Consider using the NoTracking merge option for queries</span></span>  
 <span data-ttu-id="e0961-266">Döndürülen nesne bağlamı nesneleri izlemek için gereken bir maliyeti yoktur.</span><span class="sxs-lookup"><span data-stu-id="e0961-266">There is a cost required to track returned objects in the object context.</span></span> <span data-ttu-id="e0961-267">Nesnelerde yapılan değişiklikler algılanıyor ve aynı mantıksal varlık için birden çok isteği aynı nesne örneği döndürür sağlamayı gerektirir nesneleri eklenmesi bir <xref:System.Data.Objects.ObjectContext> örneği.</span><span class="sxs-lookup"><span data-stu-id="e0961-267">Detecting changes to objects and ensuring that multiple requests for the same logical entity return the same object instance requires that objects be attached to an <xref:System.Data.Objects.ObjectContext> instance.</span></span> <span data-ttu-id="e0961-268">Güncelleştirme ve silme nesnelere yapmayı planladığınız değil ve kimlik yönetimi gerektirmez, kullanmayı <xref:System.Data.Objects.MergeOption.NoTracking> sorgular yürütme seçenekleri birleştirme.</span><span class="sxs-lookup"><span data-stu-id="e0961-268">If you do not plan to make updates or deletes to objects and do not require identity management, consider using the <xref:System.Data.Objects.MergeOption.NoTracking> merge options when you execute queries.</span></span>  
  
#### <a name="return-the-correct-amount-of-data"></a><span data-ttu-id="e0961-269">Doğru veri miktarını döndürür</span><span class="sxs-lookup"><span data-stu-id="e0961-269">Return the correct amount of data</span></span>  
 <span data-ttu-id="e0961-270">Bazı senaryolarda, yolu kullanarak bir sorgu belirten <xref:System.Data.Objects.ObjectQuery%601.Include%2A> veritabanı daha az sayıda gidiş dönüş gerektirdiğinden yöntemi çok daha hızlı.</span><span class="sxs-lookup"><span data-stu-id="e0961-270">In some scenarios, specifying a query path using the <xref:System.Data.Objects.ObjectQuery%601.Include%2A> method is much faster because it requires fewer round trips to the database.</span></span> <span data-ttu-id="e0961-271">Çünkü daha az veri artıklığı bakımından daha az birleşimler daha basit sorgular neden ancak diğer senaryolarda, ilgili nesneleri yüklemek için veritabanına ek gidiş dönüş daha hızlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-271">However, in other scenarios, additional round trips to the database to load related objects may be faster because the simpler queries with fewer joins result in less redundancy of data.</span></span> <span data-ttu-id="e0961-272">Bu nedenle, ilgili nesneleri almak için çeşitli yollar performansını test etme öneririz.</span><span class="sxs-lookup"><span data-stu-id="e0961-272">Because of this, we recommend that you test the performance of various ways to retrieve related objects.</span></span> <span data-ttu-id="e0961-273">Daha fazla bilgi için [ilgili nesneler Yükleniyor](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896272(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-273">For more information, see [Loading Related Objects](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896272(v=vs.100)).</span></span>  
  
 <span data-ttu-id="e0961-274">Tek bir sorguda çok fazla veri döndüren önlemek için sorgunun sonuçlarının disk belleği daha yönetilebilir gruplara göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="e0961-274">To avoid returning too much data in a single query, consider paging the results of the query into more manageable groups.</span></span> <span data-ttu-id="e0961-275">Daha fazla bilgi için [nasıl yapılır: Sonuçlar sayfası sorguyla](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738702(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-275">For more information, see [How to: Page Through Query Results](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb738702(v=vs.100)).</span></span>  
  
#### <a name="limit-the-scope-of-the-objectcontext"></a><span data-ttu-id="e0961-276">ObjectContext kapsamını sınırlandırmak</span><span class="sxs-lookup"><span data-stu-id="e0961-276">Limit the scope of the ObjectContext</span></span>  
 <span data-ttu-id="e0961-277">Çoğu durumda, oluşturacağınız bir <xref:System.Data.Objects.ObjectContext> içinde örnek bir `using` deyimi (`Using…End Using` Visual Basic'te).</span><span class="sxs-lookup"><span data-stu-id="e0961-277">In most cases, you should create an <xref:System.Data.Objects.ObjectContext> instance within a `using` statement (`Using…End Using` in Visual Basic).</span></span> <span data-ttu-id="e0961-278">Kod deyim bloğunu çıktığında nesne bağlamı ile ilişkili kaynakları otomatik olarak kaldırıldıklarından sağlayarak bu performansı artırabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-278">This can increase performance by ensuring that the resources associated with the object context are disposed automatically when the code exits the statement block.</span></span> <span data-ttu-id="e0961-279">Ancak, ne zaman denetimleri ilişkili nesne bağlamı tarafından yönetilen nesnelere <xref:System.Data.Objects.ObjectContext> bağlama gerekli ve el ile elden sürece örnek'in saklanabilir.</span><span class="sxs-lookup"><span data-stu-id="e0961-279">However, when controls are bound to objects managed by the object context, the <xref:System.Data.Objects.ObjectContext> instance should be maintained as long as the binding is needed and disposed of manually.</span></span> <span data-ttu-id="e0961-280">Daha fazla bilgi için [bağlantılarını yönetme ve işlemleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-280">For more information, see [Managing Connections and Transactions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span></span>  
  
#### <a name="consider-opening-the-database-connection-manually"></a><span data-ttu-id="e0961-281">Veritabanı bağlantısı el ile açmayı göz önünde bulundurun</span><span class="sxs-lookup"><span data-stu-id="e0961-281">Consider opening the database connection manually</span></span>  
 <span data-ttu-id="e0961-282">Uygulamanızı bir dizi nesne sorgusu yürütür veya sık çağırır olduğunda <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> kalıcı hale getirmek için oluşturma, güncelleştirme ve silme işlemleri veri kaynağına [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] sürekli olarak açmak gerekir ve veri kaynağı bağlantısını kapatın.</span><span class="sxs-lookup"><span data-stu-id="e0961-282">When your application executes a series of object queries or frequently calls <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> to persist create, update, and delete operations to the data source, the [!INCLUDE[adonet_ef](../../../../../includes/adonet-ef-md.md)] must continuously open and close the connection to the data source.</span></span> <span data-ttu-id="e0961-283">Bu gibi durumlarda el ile bu işlemleri ve kapatma veya işlemlerin tamamlandığı zaman bağlantısı kesilirken başlangıcında bağlantı açmayı göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="e0961-283">In these situations, consider manually opening the connection at the start of these operations and either closing or disposing of the connection when the operations are complete.</span></span> <span data-ttu-id="e0961-284">Daha fazla bilgi için [bağlantılarını yönetme ve işlemleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="e0961-284">For more information, see [Managing Connections and Transactions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb896325(v=vs.100)).</span></span>  
  
## <a name="performance-data"></a><span data-ttu-id="e0961-285">Performans Verileri</span><span class="sxs-lookup"><span data-stu-id="e0961-285">Performance Data</span></span>  
 <span data-ttu-id="e0961-286">Entity Framework için bazı performans verileri aşağıdaki gönderilerinde yayımlanan [ADO.NET ekibi blogu](https://go.microsoft.com/fwlink/?LinkId=91905):</span><span class="sxs-lookup"><span data-stu-id="e0961-286">Some performance data for the Entity Framework is published in the following posts on the [ADO.NET team blog](https://go.microsoft.com/fwlink/?LinkId=91905):</span></span>  
  
-   [<span data-ttu-id="e0961-287">ADO.NET Entity Framework - 1. Bölüm performansını keşfetme</span><span class="sxs-lookup"><span data-stu-id="e0961-287">Exploring the Performance of the ADO.NET Entity Framework - Part 1</span></span>](https://go.microsoft.com/fwlink/?LinkId=123907)  
  
-   [<span data-ttu-id="e0961-288">ADO.NET Entity Framework – Bölüm 2 performansını keşfetme</span><span class="sxs-lookup"><span data-stu-id="e0961-288">Exploring the Performance of the ADO.NET Entity Framework – Part 2</span></span>](https://go.microsoft.com/fwlink/?LinkId=123909)  
  
-   [<span data-ttu-id="e0961-289">ADO.NET Entity Framework performans karşılaştırması</span><span class="sxs-lookup"><span data-stu-id="e0961-289">ADO.NET Entity Framework Performance Comparison</span></span>](https://go.microsoft.com/fwlink/?LinkID=123913)  
  
## <a name="see-also"></a><span data-ttu-id="e0961-290">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="e0961-290">See also</span></span>

- [<span data-ttu-id="e0961-291">Geliştirme ve Dağıtım Konuları</span><span class="sxs-lookup"><span data-stu-id="e0961-291">Development and Deployment Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/development-and-deployment-considerations.md)
