---
title: Özel Bağımlılık Özellikleri
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- implementing [WPF], wrappers
- registering properties [WPF]
- properties [WPF], metadata
- metadata [WPF], for properties
- custom dependency properties [WPF]
- properties [WPF], registering
- wrappers [WPF], implementing
- dependency properties [WPF], custom
ms.assetid: e6bfcfac-b10d-4f58-9f77-a864c2a2938f
ms.openlocfilehash: 4ef97af17893fa7a4e85d09e989539f7f5b32a36
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64627372"
---
# <a name="custom-dependency-properties"></a><span data-ttu-id="82b9e-102">Özel Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="82b9e-102">Custom Dependency Properties</span></span>

<span data-ttu-id="82b9e-103">Bu konuda, nedenleri açıklanmaktadır, [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] uygulama geliştiricileri ve bileşen yazarları özel bağımlılık özelliği oluşturmak isteyebilirsiniz ve performansı artırmak bazı uygulama seçenekleri yanı sıra uygulama adımlarını açıklar. Kullanılabilirlik veya çok yönlülük özelliği.</span><span class="sxs-lookup"><span data-stu-id="82b9e-103">This topic describes the reasons that [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application developers and component authors might want to create custom dependency property, and describes the implementation steps as well as some implementation options that can improve performance, usability, or versatility of the property.</span></span>

<a name="prerequisites"></a>
## <a name="prerequisites"></a><span data-ttu-id="82b9e-104">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="82b9e-104">Prerequisites</span></span>

<span data-ttu-id="82b9e-105">Bu konu, üzerinde bir tüketici mevcut bağımlılık özellikleri perspektifinden bağımlılık özellikleri anladığınızı varsayar [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sınıfları ve okuma [bağımlılık özelliklerine genel bakış](dependency-properties-overview.md) konu.</span><span class="sxs-lookup"><span data-stu-id="82b9e-105">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](dependency-properties-overview.md) topic.</span></span> <span data-ttu-id="82b9e-106">Bu konudaki örnekleri izlemek için de anlamanız gereken [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] ve nasıl yazıldığını bilmeniz [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uygulamalar.</span><span class="sxs-lookup"><span data-stu-id="82b9e-106">In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>

<a name="whatis"></a>
## <a name="what-is-a-dependency-property"></a><span data-ttu-id="82b9e-107">Bağımlılık özelliği nedir?</span><span class="sxs-lookup"><span data-stu-id="82b9e-107">What Is a Dependency Property?</span></span>

<span data-ttu-id="82b9e-108">Aksi takdirde ne olacağını etkinleştirebilirsiniz bir [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] bağımlılık özelliği olarak uygulayarak stil, veri bağlama, devralma, animasyonları ve varsayılan değerleri desteklemek için özelliği.</span><span class="sxs-lookup"><span data-stu-id="82b9e-108">You can enable what would otherwise be a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property to support styling, data binding, inheritance, animations, and default values by implementing it as a dependency property.</span></span> <span data-ttu-id="82b9e-109">Bağımlılık özellikleri ile kaydedilen özellikleridir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] çağırarak özellik sistemi <xref:System.Windows.DependencyProperty.Register%2A> yöntemi (veya <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A>), ve tarafından desteklenen bir <xref:System.Windows.DependencyProperty> tanımlayıcı alanı.</span><span class="sxs-lookup"><span data-stu-id="82b9e-109">Dependency properties are properties that are registered with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system by calling the <xref:System.Windows.DependencyProperty.Register%2A> method (or <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A>), and that are backed by a <xref:System.Windows.DependencyProperty> identifier field.</span></span> <span data-ttu-id="82b9e-110">Bağımlılık özellikleri yalnızca kullanılabilir <xref:System.Windows.DependencyObject> türleri, ancak <xref:System.Windows.DependencyObject> oldukça yüksek [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] çoğunu bulunan sınıfları için sınıf hiyerarşisi [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bağımlılık özellikleri destekler.</span><span class="sxs-lookup"><span data-stu-id="82b9e-110">Dependency properties can be used only by <xref:System.Windows.DependencyObject> types, but <xref:System.Windows.DependencyObject> is quite high in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] class hierarchy, so the majority of classes available in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can support dependency properties.</span></span> <span data-ttu-id="82b9e-111">Bağımlılık özellikleri ve bazı terimler ve bunları bu tanımlamak için kullanılan kuralları hakkında daha fazla bilgi için [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)], bkz: [bağımlılık özelliklerine genel bakış](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-111">For more information about dependency properties and some of the terminology and conventions used for describing them in this [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)], see [Dependency Properties Overview](dependency-properties-overview.md).</span></span>

<a name="example_dp"></a>
## <a name="examples-of-dependency-properties"></a><span data-ttu-id="82b9e-112">Örnekleri bağımlılık özellikleri</span><span class="sxs-lookup"><span data-stu-id="82b9e-112">Examples of Dependency Properties</span></span>

<span data-ttu-id="82b9e-113">Örnekler üzerinde uygulanan bağımlılık özellikleri [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sınıflarını <xref:System.Windows.Controls.Control.Background%2A> özelliği <xref:System.Windows.FrameworkElement.Width%2A> özelliği ve <xref:System.Windows.Controls.TextBox.Text%2A> yanı sıra diğer birçok özelliği.</span><span class="sxs-lookup"><span data-stu-id="82b9e-113">Examples of dependency properties that are implemented on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes include the <xref:System.Windows.Controls.Control.Background%2A> property, the <xref:System.Windows.FrameworkElement.Width%2A> property, and the <xref:System.Windows.Controls.TextBox.Text%2A> property, among many others.</span></span> <span data-ttu-id="82b9e-114">Bir sınıf tarafından kullanıma sunulan her bir bağımlılık özelliği karşılık gelen bir genel statik alan türü olan <xref:System.Windows.DependencyProperty> kullanıma sunulan bu aynı sınıf.</span><span class="sxs-lookup"><span data-stu-id="82b9e-114">Each dependency property exposed by a class has a corresponding public static field of type <xref:System.Windows.DependencyProperty> exposed on that same class.</span></span> <span data-ttu-id="82b9e-115">Bağımlılık özelliği tanıtıcısıdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-115">This is the identifier for the dependency property.</span></span> <span data-ttu-id="82b9e-116">Bir kural kullanarak tanımlayıcı adlı: bağımlılık özelliği dizesiyle adını `Property` eklenmiş.</span><span class="sxs-lookup"><span data-stu-id="82b9e-116">The identifier is named using a convention: the name of the dependency property with the string `Property` appended to it.</span></span> <span data-ttu-id="82b9e-117">Örneğin, karşılık gelen <xref:System.Windows.DependencyProperty> tanımlayıcı alanı <xref:System.Windows.Controls.Control.Background%2A> özelliği <xref:System.Windows.Controls.Control.BackgroundProperty>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-117">For example, the corresponding <xref:System.Windows.DependencyProperty> identifier field for the <xref:System.Windows.Controls.Control.Background%2A> property is <xref:System.Windows.Controls.Control.BackgroundProperty>.</span></span> <span data-ttu-id="82b9e-118">Kayıtlı olduğu ve tanımlayıcı ardından daha sonra arama gibi bir bağımlılık özelliği ile ilgili diğer işlemleri için kullanılan tanımlayıcı bağımlılık özelliği hakkında bilgi depolar <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-118">The identifier stores the information about the dependency property as it was registered, and the identifier is then used later for other operations involving the dependency property, such as calling <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>

<span data-ttu-id="82b9e-119">Belirtildiği gibi [bağımlılık özelliklerine genel bakış](dependency-properties-overview.md), tüm bağımlılık özellikleri [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] (dışında en iliştirilmiş özellikler) olan ayrıca [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] özellikleri nedeniyle "sarmalayıcı" uygulaması.</span><span class="sxs-lookup"><span data-stu-id="82b9e-119">As mentioned in the [Dependency Properties Overview](dependency-properties-overview.md), all dependency properties in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] (except most attached properties) are also [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties because of the "wrapper" implementation.</span></span> <span data-ttu-id="82b9e-120">Bu nedenle, koddan alabilir veya çağırarak bağımlılık özelliklerini ayarlama [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] sarmalayıcıları diğer kullanacağınız aynı şekilde tanımlayan erişimcileri [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] özellikleri.</span><span class="sxs-lookup"><span data-stu-id="82b9e-120">Therefore, from code, you can get or set dependency properties by calling [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] accessors that define the wrappers in the same manner that you would use other [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties.</span></span> <span data-ttu-id="82b9e-121">Kurulan bağımlılık özellikleri tüketici olarak genellikle kullanmanızı <xref:System.Windows.DependencyObject> yöntemleri <xref:System.Windows.DependencyObject.GetValue%2A> ve <xref:System.Windows.DependencyObject.SetValue%2A>, temel alınan özellik sistemi için bağlantı noktası olduğu.</span><span class="sxs-lookup"><span data-stu-id="82b9e-121">As a consumer of established dependency properties, you do not typically use the <xref:System.Windows.DependencyObject> methods <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A>, which are the connection point to the underlying property system.</span></span> <span data-ttu-id="82b9e-122">Bunun yerine, mevcut uygulamasını [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] özellikleri zaten çağrıldı <xref:System.Windows.DependencyObject.GetValue%2A> ve <xref:System.Windows.DependencyObject.SetValue%2A> içinde `get` ve `set` özelliğin tanımlayıcı alanı uygun şekilde kullanarak kapsayıcı uygulamaları .</span><span class="sxs-lookup"><span data-stu-id="82b9e-122">Rather, the existing implementation of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties will have already called <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> within the `get` and `set` wrapper implementations of the property, using the identifier field appropriately.</span></span> <span data-ttu-id="82b9e-123">Özel bağımlılık özelliği kendiniz gerçekleştiriyorsanız, benzer şekilde sarmalayıcısını tanımlayan.</span><span class="sxs-lookup"><span data-stu-id="82b9e-123">If you are implementing a custom dependency property yourself, then you will be defining the wrapper in a similar way.</span></span>

<a name="backing_with_dp"></a>
## <a name="when-should-you-implement-a-dependency-property"></a><span data-ttu-id="82b9e-124">Ne zaman bir bağımlılık özelliği uygulamanız gerekir?</span><span class="sxs-lookup"><span data-stu-id="82b9e-124">When Should You Implement a Dependency Property?</span></span>

<span data-ttu-id="82b9e-125">Uyguladığınızda bir özelliği bir sınıfta, sınıfın türetildiği sürece <xref:System.Windows.DependencyObject>, özelliğinizi ile yedekleme seçeneğine sahip bir <xref:System.Windows.DependencyProperty> tanımlayıcısı ve bu nedenle bir bağımlılık özelliği yapmak için.</span><span class="sxs-lookup"><span data-stu-id="82b9e-125">When you implement a property on a class, so long as your class derives from <xref:System.Windows.DependencyObject>, you have the option to back your property with a <xref:System.Windows.DependencyProperty> identifier and thus to make it a dependency property.</span></span> <span data-ttu-id="82b9e-126">Bağımlılık özelliği, özellik sahip her zaman uygun değildir ve senaryo gereksinimlerinize bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-126">Having your property be a dependency property is not always necessary or appropriate, and will depend on your scenario needs.</span></span> <span data-ttu-id="82b9e-127">Bazı durumlarda, özel bir alan, özelliği yedekleyen tipik tekniği yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-127">Sometimes, the typical technique of backing your property with a private field is adequate.</span></span> <span data-ttu-id="82b9e-128">Bir veya daha fazlasını desteklemek için özellik istediğinizde ancak özelliğinizi bağımlılık özelliği olarak uygulamalıdır [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] özellikleri:</span><span class="sxs-lookup"><span data-stu-id="82b9e-128">However, you should implement your property as a dependency property whenever you want your property to support one or more of the following [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] capabilities:</span></span>

- <span data-ttu-id="82b9e-129">Bir style'nın ayarlanabilir özelliğini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-129">You want your property to be settable in a style.</span></span> <span data-ttu-id="82b9e-130">Daha fazla bilgi için [stil ve şablon oluşturma](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-130">For more information, see [Styling and Templating](../controls/styling-and-templating.md).</span></span>

- <span data-ttu-id="82b9e-131">Veri bağlamayı destekleyen özelliğini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-131">You want your property to support data binding.</span></span> <span data-ttu-id="82b9e-132">Veri bağlama bağımlılık özellikleri hakkında daha fazla bilgi için bkz: [özellikleri, iki denetim bağlama](../data/how-to-bind-the-properties-of-two-controls.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-132">For more information about data binding dependency properties, see [Bind the Properties of Two Controls](../data/how-to-bind-the-properties-of-two-controls.md).</span></span>

- <span data-ttu-id="82b9e-133">Dinamik kaynak başvuru ile ayarlanabilir özelliğini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-133">You want your property to be settable with a dynamic resource reference.</span></span> <span data-ttu-id="82b9e-134">Daha fazla bilgi için [XAML kaynakları](xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-134">For more information, see [XAML Resources](xaml-resources.md).</span></span>

- <span data-ttu-id="82b9e-135">Bir özellik değeri otomatik olarak öğe ağacındaki bir üst öğeden devralır istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-135">You want to inherit a property value automatically from a parent element in the element tree.</span></span> <span data-ttu-id="82b9e-136">Bu durumda, kaydolmalı <xref:System.Windows.DependencyProperty.RegisterAttached%2A> yöntemi için özellik sarmalayıcı oluşturabilir olsa bile [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] erişim.</span><span class="sxs-lookup"><span data-stu-id="82b9e-136">In this case, register with the <xref:System.Windows.DependencyProperty.RegisterAttached%2A> method, even if you also create a property wrapper for [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] access.</span></span> <span data-ttu-id="82b9e-137">Daha fazla bilgi için [özellik değeri kalıtımı](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-137">For more information, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

- <span data-ttu-id="82b9e-138">Özelliğinizi canlandırılabilir olmasını istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-138">You want your property to be animatable.</span></span> <span data-ttu-id="82b9e-139">Daha fazla bilgi için [animasyona genel bakış](../graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-139">For more information, see [Animation Overview](../graphics-multimedia/animation-overview.md).</span></span>

- <span data-ttu-id="82b9e-140">Özellik sistemi, ortam veya kullanıcı ya da okuma ve stilleri kullanarak gerçekleştirilen eylemleri tarafından özelliğinin önceki değeri değiştirildiğinde özellik sistemi rapor için istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-140">You want the property system to report when the previous value of the property has been changed by actions taken by the property system, the environment, or the user, or by reading and using styles.</span></span> <span data-ttu-id="82b9e-141">Özellik meta verileri kullanarak, özellik sistemi, özellik değeri kesin bir şekilde değiştirildi belirler. her zaman çağrılacak bir geri çağırma yöntemi, özelliği belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-141">By using property metadata, your property can specify a callback method that will be invoked each time the property system determines that your property value was definitively changed.</span></span> <span data-ttu-id="82b9e-142">Özellik değeri zorlama buna ilgili bir kavramdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-142">A related concept is property value coercion.</span></span> <span data-ttu-id="82b9e-143">Daha fazla bilgi için [bağımlılık özelliği geri aramaları ve doğrulama](dependency-property-callbacks-and-validation.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-143">For more information, see [Dependency Property Callbacks and Validation](dependency-property-callbacks-and-validation.md).</span></span>

- <span data-ttu-id="82b9e-144">Tarafından kullanılan yerleşik meta verileri kuralları kullanmak istediğiniz [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] görsellerin bir öğe için yeniden oluşturmak için Düzen sistemi özellik değerini değiştirmek istemeniz gerekir olup raporlama gibi işlemler.</span><span class="sxs-lookup"><span data-stu-id="82b9e-144">You want to use established metadata conventions that are also used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] processes, such as reporting whether changing a property value should require the layout system to recompose the visuals for an element.</span></span> <span data-ttu-id="82b9e-145">Veya türetilmiş sınıflar meta veri tabanlı özellikleri gibi varsayılan değer değiştirebilmeniz meta verileri geçersiz kılmaları kullanabilmek istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-145">Or you want to be able to use metadata overrides so that derived classes can change metadata-based characteristics such as the default value.</span></span>

- <span data-ttu-id="82b9e-146">İstediğiniz gibi Visual Studio WPF Tasarımcısı almak için özel bir denetimin özelliklerini destekleyen **özellikleri** penceresi düzenleme.</span><span class="sxs-lookup"><span data-stu-id="82b9e-146">You want properties of a custom control to receive Visual Studio WPF Designer support, such as **Properties** window editing.</span></span> <span data-ttu-id="82b9e-147">Daha fazla bilgi için [denetim yazmaya genel bakış](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-147">For more information, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>

<span data-ttu-id="82b9e-148">Bu senaryolar incelediğinizde, senaryonuz var olan bir bağımlılık özelliği meta verileri geçersiz kılma yerine tamamen yeni bir özellik uygulama elde edebileceğiniz olup olmadığını da düşünmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-148">When you examine these scenarios, you should also consider whether you can achieve your scenario by overriding the metadata of an existing dependency property, rather than implementing a completely new property.</span></span> <span data-ttu-id="82b9e-149">Meta verileri geçersiz kılma pratik olup kendi senaryonuza ve bu senaryonun varolan uygulama ne kadar yakın benzer bağlıdır [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bağımlılık özellikleri ve sınıfları.</span><span class="sxs-lookup"><span data-stu-id="82b9e-149">Whether a metadata override is practical depends on your scenario and how closely that scenario resembles the implementation in existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dependency properties and classes.</span></span> <span data-ttu-id="82b9e-150">Mevcut özellikler meta verileri geçersiz kılma hakkında daha fazla bilgi için bkz. [bağımlılık özelliği meta verisi](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-150">For more information about overriding metadata on existing properties, see [Dependency Property Metadata](dependency-property-metadata.md).</span></span>

<a name="checklist"></a>
## <a name="checklist-for-defining-a-dependency-property"></a><span data-ttu-id="82b9e-151">Bağımlılık özelliği tanımlamak için Denetim listesi</span><span class="sxs-lookup"><span data-stu-id="82b9e-151">Checklist for Defining a Dependency Property</span></span>

<span data-ttu-id="82b9e-152">Bağımlılık özelliği tanımlama dört farklı kavramlarını oluşur.</span><span class="sxs-lookup"><span data-stu-id="82b9e-152">Defining a dependency property consists of four distinct concepts.</span></span> <span data-ttu-id="82b9e-153">Bunların bazılarını, tek satırlık bir uygulamada kod olarak birleştirilen sonlandırmak için bu kavramları mutlaka katı yordamsal adımlar değildir:</span><span class="sxs-lookup"><span data-stu-id="82b9e-153">These concepts are not necessarily strict procedural steps, because some of these end up being combined as single lines of code in the implementation:</span></span>

- <span data-ttu-id="82b9e-154">(İsteğe bağlı) Bağımlılık özelliği için özellik meta verileri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="82b9e-154">(Optional) Create property metadata for the dependency property.</span></span>

- <span data-ttu-id="82b9e-155">Özellik adına sahip türü ve özellik değeri türünü belirten özellik sistemi ile kaydedin.</span><span class="sxs-lookup"><span data-stu-id="82b9e-155">Register the property name with the property system, specifying an owner type and the type of the property value.</span></span> <span data-ttu-id="82b9e-156">Ayrıca kullandıysanız özellik meta verileri belirtin.</span><span class="sxs-lookup"><span data-stu-id="82b9e-156">Also specify the property metadata, if used.</span></span>

- <span data-ttu-id="82b9e-157">Tanımlayan bir <xref:System.Windows.DependencyProperty> tanımlayıcı olarak bir `public` `static` `readonly` alanına sahip türü.</span><span class="sxs-lookup"><span data-stu-id="82b9e-157">Define a <xref:System.Windows.DependencyProperty> identifier as a `public` `static` `readonly` field on the owner type.</span></span>

- <span data-ttu-id="82b9e-158">Tanımlayan bir [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "sarmalayıcı" özellik adı ile eşleşen bağımlılık özelliğinin adı.</span><span class="sxs-lookup"><span data-stu-id="82b9e-158">Define a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" property whose name matches the name of the dependency property.</span></span> <span data-ttu-id="82b9e-159">Uygulama [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "sarmalayıcı" özelliğin `get` ve `set` yedekler, bağımlılık özelliği ile bağlanmak için erişimcileri.</span><span class="sxs-lookup"><span data-stu-id="82b9e-159">Implement the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" property's `get` and `set` accessors to connect with the dependency property that backs it.</span></span>

<a name="registering"></a>
### <a name="registering-the-property-with-the-property-system"></a><span data-ttu-id="82b9e-160">Özellik sistemi ile özelliği kaydetme</span><span class="sxs-lookup"><span data-stu-id="82b9e-160">Registering the Property with the Property System</span></span>

<span data-ttu-id="82b9e-161">Bağımlılık özelliği olarak, bir özellik için sırada bu özellik özellik sistemi tarafından korunan bir tabloya kaydedin ve niteleyici sonraki özelliği sistem işlemleri için kullanılan benzersiz bir tanımlayıcı vermek gerekir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-161">In order for your property to be a dependency property, you must register that property into a table maintained by the property system, and give it a unique identifier that is used as the qualifier for later property system operations.</span></span> <span data-ttu-id="82b9e-162">Bu işlemlerin iç işlemler ya da kendi kodunuzu arama özellik sistemi olabilir [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82b9e-162">These operations might be internal operations, or your own code calling property system [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span></span> <span data-ttu-id="82b9e-163">Arama özelliği kaydetmek için <xref:System.Windows.DependencyProperty.Register%2A> sınıfınıza (sınıf içinde ancak herhangi bir üye tanımı dışında) gövdesi içinde yöntemi.</span><span class="sxs-lookup"><span data-stu-id="82b9e-163">To register the property, you call the <xref:System.Windows.DependencyProperty.Register%2A> method within the body of your class (inside the class, but outside of any member definitions).</span></span> <span data-ttu-id="82b9e-164">Tanımlayıcı alan ayrıca tarafından sağlanan <xref:System.Windows.DependencyProperty.Register%2A> dönüş değeri olarak bir yöntem çağrısı.</span><span class="sxs-lookup"><span data-stu-id="82b9e-164">The identifier field is also provided by the <xref:System.Windows.DependencyProperty.Register%2A> method call, as the return value.</span></span> <span data-ttu-id="82b9e-165">Bunun nedeni, <xref:System.Windows.DependencyProperty.Register%2A> çağrı yapılır dışında diğer üye tanımları olduğundan bu dönüş değeri atamak ve oluşturmak için kullandığınız bir `public` `static` `readonly` alan türü <xref:System.Windows.DependencyProperty> sınıfınızın bir parçası olarak.</span><span class="sxs-lookup"><span data-stu-id="82b9e-165">The reason that the <xref:System.Windows.DependencyProperty.Register%2A> call is done outside of other member definitions is because you use this return value to assign and create a `public` `static` `readonly` field of type <xref:System.Windows.DependencyProperty> as part of your class.</span></span> <span data-ttu-id="82b9e-166">Bu alan, bağımlılık özelliği için olan tanımlayıcıyla olur.</span><span class="sxs-lookup"><span data-stu-id="82b9e-166">This field becomes the identifier for your dependency property.</span></span>

[!code-csharp[WPFAquariumSln#RegisterAG](~/samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#registerag)]
[!code-vb[WPFAquariumSln#RegisterAG](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#registerag)]

<a name="nameconventions"></a>
### <a name="dependency-property-name-conventions"></a><span data-ttu-id="82b9e-167">Bağımlılık özelliği adı kuralları</span><span class="sxs-lookup"><span data-stu-id="82b9e-167">Dependency Property Name Conventions</span></span>

<span data-ttu-id="82b9e-168">Tüm ancak olağanüstü durumlarda izlemeniz gereken bir bağımlılık özellikleri ile ilgili kurulan adlandırma kuralları vardır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-168">There are established naming conventions regarding dependency properties that you must follow in all but exceptional circumstances.</span></span>

<span data-ttu-id="82b9e-169">Bağımlılık özelliği ilk parametresi olarak verilen bu örnekte olduğu gibi "AquariumGraphic" temel bir adı vardır <xref:System.Windows.DependencyProperty.Register%2A>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-169">The dependency property itself will have a basic name, "AquariumGraphic" as in this example, which is given as the first parameter of <xref:System.Windows.DependencyProperty.Register%2A>.</span></span> <span data-ttu-id="82b9e-170">Bu ad, her bir kayıt türü içinde benzersiz olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-170">That name must be unique within each registering type.</span></span> <span data-ttu-id="82b9e-171">Bağımlılık özellikleri aracılığıyla temel tür devralınan zaten kayıt türünün bir parçası olarak değerlendirilir; devralınan özellik adlarını yeniden kaydedilemez.</span><span class="sxs-lookup"><span data-stu-id="82b9e-171">Dependency properties inherited through base types are considered to be already part of the registering type; names of inherited properties cannot be registered again.</span></span> <span data-ttu-id="82b9e-172">Ancak, bile, bağımlılık özelliği değil devralındığında, bir bağımlılık özelliği sahibi olarak sınıf ekleme için bir yöntem yoktur; Ayrıntılar için bkz [bağımlılık özelliği meta verisi](dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-172">However, there is a technique for adding a class as owner of a dependency property even when that dependency property is not inherited; for details, see [Dependency Property Metadata](dependency-property-metadata.md).</span></span>

<span data-ttu-id="82b9e-173">Tanımlayıcı alanı oluşturduğunuzda, ve bir son eke kayıtlı Bu alan özelliğinin adıyla ad `Property`.</span><span class="sxs-lookup"><span data-stu-id="82b9e-173">When you create the identifier field, name this field by the name of the property as you registered it, plus the suffix `Property`.</span></span> <span data-ttu-id="82b9e-174">Bu alan, bağımlılık özelliği tanımlayıcısıdır ve daha sonra için girdi olarak kullanılacak <xref:System.Windows.DependencyObject.SetValue%2A> ve <xref:System.Windows.DependencyObject.GetValue%2A> nde yaptığınız tüm diğer kod erişim özelliği, kendi kod tarafından herhangi bir dış kod erişim tarafından sarmalayıcılar, çağrıları izin ver , özellik sistemi ve potansiyel olarak [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] işlemci.</span><span class="sxs-lookup"><span data-stu-id="82b9e-174">This field is your identifier for the dependency property, and it will be used later as an input for the <xref:System.Windows.DependencyObject.SetValue%2A> and <xref:System.Windows.DependencyObject.GetValue%2A> calls you will make in the wrappers, by any other code access to the property by your own code, by any external code access you allow, by the property system, and potentially by [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processors.</span></span>

> [!NOTE]
> <span data-ttu-id="82b9e-175">Bağımlılık özelliği sınıf gövdesine tanımlama tipik uygulamadır, ancak sınıfı statik oluşturucuda bir bağımlılık özelliği tanımlamak da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="82b9e-175">Defining the dependency property in the class body is the typical implementation, but it is also possible to define a dependency property in the class static constructor.</span></span> <span data-ttu-id="82b9e-176">Bağımlılık özelliği başlatmak için kod birden fazla satır gerekiyorsa bu yaklaşım mantıklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-176">This approach might make sense if you need more than one line of code to initialize the dependency property.</span></span>

<a name="wrapper1"></a>
### <a name="implementing-the-wrapper"></a><span data-ttu-id="82b9e-177">"Sarmalayıcı" uygulama</span><span class="sxs-lookup"><span data-stu-id="82b9e-177">Implementing the "Wrapper"</span></span>

<span data-ttu-id="82b9e-178">Sarmalayıcı uygulamanız çağırmalıdır <xref:System.Windows.DependencyObject.GetValue%2A> içinde `get` uygulaması ve <xref:System.Windows.DependencyObject.SetValue%2A> içinde `set` uygulama (özgün kayıt çağrısı ve alan burada gösterilen çok daha anlaşılır olması için).</span><span class="sxs-lookup"><span data-stu-id="82b9e-178">Your wrapper implementation should call <xref:System.Windows.DependencyObject.GetValue%2A> in the `get` implementation, and <xref:System.Windows.DependencyObject.SetValue%2A> in the `set` implementation (the original registration call and field are shown here too for clarity).</span></span>

<span data-ttu-id="82b9e-179">Tüm olağanüstü durumlarda, kapsayıcı uygulamaları yalnızca gerçekleştirmeniz gereken <xref:System.Windows.DependencyObject.GetValue%2A> ve <xref:System.Windows.DependencyObject.SetValue%2A> Eylemler, sırasıyla.</span><span class="sxs-lookup"><span data-stu-id="82b9e-179">In all but exceptional circumstances, your wrapper implementations should perform only the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> actions, respectively.</span></span> <span data-ttu-id="82b9e-180">Bunun nedeni, konu başlığı altında açıklanan [XAML yükleme ve bağımlılık özellikleri](xaml-loading-and-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-180">The reason for this is discussed in the topic [XAML Loading and Dependency Properties](xaml-loading-and-dependency-properties.md).</span></span>

<span data-ttu-id="82b9e-181">Üzerinde sağlanan tüm varolan genel bağımlılık özellikleri [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sınıfları bu basit sarmalayıcı uygulama modeli kullanın; bağımlılık özelliklerinin nasıl çalıştığını karmaşıklığı çoğu ya da doğal olarak özellik sistemi davranışını veya özellik meta verileri üzerinden geri çağırmaları zorlama veya özelliği değiştirmek gibi diğer kavramlar uygulanır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-181">All existing public dependency properties that are provided on the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes use this simple wrapper implementation model; most of the complexity of how dependency properties work is either inherently a behavior of the property system, or is implemented through other concepts such as coercion or property change callbacks through property metadata.</span></span>

[!code-csharp[WPFAquariumSln#AGWithWrapper](~/samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#agwithwrapper)]
[!code-vb[WPFAquariumSln#AGWithWrapper](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#agwithwrapper)]

<span data-ttu-id="82b9e-182">Kural gereği, sarmalayıcı özelliğin adı seçilen ve ilk parametresi olarak belirtilen adıyla aynı yeniden olmalıdır <xref:System.Windows.DependencyProperty.Register%2A> özelliği kayıtlı arama.</span><span class="sxs-lookup"><span data-stu-id="82b9e-182">Again, by convention, the name of the wrapper property must be the same as the name chosen and given as first parameter of the <xref:System.Windows.DependencyProperty.Register%2A> call that registered the property.</span></span> <span data-ttu-id="82b9e-183">Özelliğinizi kuralı izlemiyorsa, bu mutlaka tüm olası kullanımı devre dışı bırakmaz ancak birkaç önemli sorunlar karşılaşırsınız:</span><span class="sxs-lookup"><span data-stu-id="82b9e-183">If your property does not follow the convention, this does not necessarily disable all possible uses, but you will encounter several notable issues:</span></span>

- <span data-ttu-id="82b9e-184">Stilleri ve şablonları bazı yönlerini çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-184">Certain aspects of styles and templates will not work.</span></span>

- <span data-ttu-id="82b9e-185">Çoğu araç ve tasarımcılar düzgün bir şekilde serileştirmek için adlandırma kuralları durumda [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], veya bir özelliğe düzeyinde Tasarımcı ortam Yardım sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="82b9e-185">Most tools and designers must rely on the naming conventions to properly serialize [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], or to provide designer environment assistance at a per-property level.</span></span>

- <span data-ttu-id="82b9e-186">Geçerli uygulaması [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] yükleyici sarmalayıcıları tamamen atlar ve öznitelik değerleri işlerken adlandırma kuralı temelinde kullanır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-186">The current implementation of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader bypasses the wrappers entirely, and relies on the naming convention when processing attribute values.</span></span> <span data-ttu-id="82b9e-187">Daha fazla bilgi için [XAML yükleme ve bağımlılık özellikleri](xaml-loading-and-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-187">For more information, see [XAML Loading and Dependency Properties](xaml-loading-and-dependency-properties.md).</span></span>

<a name="metadata"></a>
### <a name="property-metadata-for-a-new-dependency-property"></a><span data-ttu-id="82b9e-188">Yeni bir bağımlılık özelliği için özellik meta verileri</span><span class="sxs-lookup"><span data-stu-id="82b9e-188">Property Metadata for a New Dependency Property</span></span>

<span data-ttu-id="82b9e-189">Bağımlılık özelliği kaydolduğunuzda, kayıt özellik sistemi aracılığıyla özelliği özellikleriyle depolayan bir meta veri nesnesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="82b9e-189">When you register a dependency property, the registration through the property system creates a metadata object that stores property characteristics.</span></span> <span data-ttu-id="82b9e-190">Bu özelliklerin çoğu özellik ile basit imzalarını kayıtlıysa, ayarlanan varsayılanlara sahiptir <xref:System.Windows.DependencyProperty.Register%2A>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-190">Many of these characteristics have defaults that are set if the property is registered with the simple signatures of <xref:System.Windows.DependencyProperty.Register%2A>.</span></span> <span data-ttu-id="82b9e-191">Diğer imzalarını <xref:System.Windows.DependencyProperty.Register%2A> özelliği kaydetme gibi istediğiniz meta verileri belirlemenize olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-191">Other signatures of <xref:System.Windows.DependencyProperty.Register%2A> allow you to specify the metadata that you want as you register the property.</span></span> <span data-ttu-id="82b9e-192">Bağımlılık özellikleri için belirtilen en yaygın meta veriler, bunları özelliği kullanan yeni örneklerinde uygulanan varsayılan bir değer vermektir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-192">The most common metadata given for dependency properties is to give them a default value that is applied on new instances that use the property.</span></span>

<span data-ttu-id="82b9e-193">Var olan bir bağımlılık özelliği türetilmiş bir sınıf oluşturuyorsanız <xref:System.Windows.FrameworkElement>, daha özel meta veri sınıfının kullanabileceğiniz <xref:System.Windows.FrameworkPropertyMetadata> temel yerine <xref:System.Windows.PropertyMetadata> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="82b9e-193">If you are creating a dependency property that exists on a derived class of <xref:System.Windows.FrameworkElement>, you can use the more specialized metadata class <xref:System.Windows.FrameworkPropertyMetadata> rather than the base <xref:System.Windows.PropertyMetadata> class.</span></span> <span data-ttu-id="82b9e-194">Oluşturucusu <xref:System.Windows.FrameworkPropertyMetadata> sınıfında belirtebileceğiniz çeşitli meta veri özelliklerini birlikte birkaç imzalar.</span><span class="sxs-lookup"><span data-stu-id="82b9e-194">The constructor for the <xref:System.Windows.FrameworkPropertyMetadata> class has several signatures where you can specify various metadata characteristics in combination.</span></span> <span data-ttu-id="82b9e-195">Yalnızca varsayılan değeri belirtmek istiyorsanız, tek bir parametre türü alan imza kullanmak <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-195">If you want to specify the default value only, use the signature that takes a single parameter of type <xref:System.Object>.</span></span> <span data-ttu-id="82b9e-196">Bu nesne parametresi, bir özellik için türe özgü varsayılan değer olarak geçirin (sağlanan varsayılan değer olarak sağlanan türü olmalıdır `propertyType` parametresinde <xref:System.Windows.DependencyProperty.Register%2A> arayın).</span><span class="sxs-lookup"><span data-stu-id="82b9e-196">Pass that object parameter as a type-specific default value for your property (the default value provided must be the type you provided as the `propertyType` parameter in the <xref:System.Windows.DependencyProperty.Register%2A> call).</span></span>

<span data-ttu-id="82b9e-197">İçin <xref:System.Windows.FrameworkPropertyMetadata>, özellik için meta verileri seçeneği bayrakları de belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-197">For <xref:System.Windows.FrameworkPropertyMetadata>, you can also specify metadata option flags for your property.</span></span> <span data-ttu-id="82b9e-198">Bu bayraklar özellik meta veriler ayrı özellikleri kayıt sonrasında dönüştürülür ve yerleşim altyapısı gibi diğer işlemleri için belirli koşullar iletişim kurmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-198">These flags are converted into discrete properties on the property metadata after registration and are used to communicate certain conditionals to other processes such as the layout engine.</span></span>

#### <a name="setting-appropriate-metadata-flags"></a><span data-ttu-id="82b9e-199">Ayar uygun meta verileri bayrakları</span><span class="sxs-lookup"><span data-stu-id="82b9e-199">Setting Appropriate Metadata Flags</span></span>

- <span data-ttu-id="82b9e-200">Özellik (veya değişiklikleri değeri) etkiliyorsa [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], düzen sistemi boyutu veya bir sayfasında, öğe işleme nasıl özellikle etkiler bir veya daha fazla aşağıdaki bayraklarını ayarlayın: <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-200">If your property (or changes in its value) affects the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and in particular affects how the layout system should size or render your element in a page, set one or more of the following flags: <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender>.</span></span>

    - <span data-ttu-id="82b9e-201"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure> Bu özellik için bir değişiklik için bir değişiklik yapılması gerektiğini belirtir [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] burada içeren nesne gerektirebilecek daha az veya üst içine boşluk işleme.</span><span class="sxs-lookup"><span data-stu-id="82b9e-201"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure> indicates that a change to this property requires a change to [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] rendering where the containing object might require more or less space within the parent.</span></span> <span data-ttu-id="82b9e-202">Örneğin, "Width" özelliği bu bayrağı ayarlanmış olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-202">For example, a "Width" property should have this flag set.</span></span>

    - <span data-ttu-id="82b9e-203"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange> Bu özellik için bir değişiklik için bir değişiklik yapılması gerektiğini belirtir [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] genellikle işleme ayrılmış alanı bir değişiklik gerektirmez, ancak içine boşluk konumlandırma değiştiğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-203"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange> indicates that a change to this property requires a change to [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] rendering that typically does not require a change in the dedicated space, but does indicate that the positioning within the space has changed.</span></span> <span data-ttu-id="82b9e-204">Örneğin, "Hizalama" özelliği bu bayrağı ayarlanmış olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-204">For example, an "Alignment" property should have this flag set.</span></span>

    - <span data-ttu-id="82b9e-205"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender> gösteren başka bir değişiklik oluştuğunu düzeni ve ölçü etkilemez, ancak başka bir işleme gerektirir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-205"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender> indicates that some other change has occurred that will not affect layout and measure, but does require another render.</span></span> <span data-ttu-id="82b9e-206">Bir örnek, "Arka plan" gibi var olan öğenin rengini değiştiren bir özelliği olabilir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-206">An example would be a property that changes a color of an existing element, such as "Background".</span></span>

    - <span data-ttu-id="82b9e-207">Bu bayraklar genellikle meta verilerinde bir protokol olarak kendi özellik sistemi veya Düzen geri çağırmaları geçersiz kılma uygulamaları için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-207">These flags are often used as a protocol in metadata for your own override implementations of property system or layout callbacks.</span></span> <span data-ttu-id="82b9e-208">Örneğin, sahip olabileceğiniz bir <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> çağıracak bir geri çağırma <xref:System.Windows.UIElement.InvalidateArrange%2A> örneğinin herhangi bir özellik değeri değişiklik raporları ve sahip <xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A> olarak `true` meta.</span><span class="sxs-lookup"><span data-stu-id="82b9e-208">For instance, you might have an <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> callback that will call <xref:System.Windows.UIElement.InvalidateArrange%2A> if any property of the instance reports a value change and has <xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A> as `true` in its metadata.</span></span>

- <span data-ttu-id="82b9e-209">Bazı özellikler işleme özelliklerini içeren üst öğenin, yukarıda belirtilen gerekli boyutundaki değişiklikleri sunmayan şekilde etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-209">Some properties may affect the rendering characteristics of the containing parent element, in ways above and beyond the changes in required size mentioned above.</span></span> <span data-ttu-id="82b9e-210">Bir örnek <xref:System.Windows.Documents.Paragraph.MinOrphanLines%2A> bu özellik değişiklikleri genel işleme paragraf içeren akış belgenin burada değiştirebilirsiniz akış belge modelinde kullanılan özellik.</span><span class="sxs-lookup"><span data-stu-id="82b9e-210">An example is the <xref:System.Windows.Documents.Paragraph.MinOrphanLines%2A> property used in the flow document model, where changes to that property can change the overall rendering of the flow document that contains the paragraph.</span></span> <span data-ttu-id="82b9e-211">Kullanım <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentArrange> veya <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentMeasure> benzer durumlarda kendi özellikleri tanımlamak için.</span><span class="sxs-lookup"><span data-stu-id="82b9e-211">Use <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentArrange> or <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentMeasure> to identify similar cases in your own properties.</span></span>

- <span data-ttu-id="82b9e-212">Varsayılan olarak, bağımlılık özellikleri veri bağlamayı destekler.</span><span class="sxs-lookup"><span data-stu-id="82b9e-212">By default, dependency properties support data binding.</span></span> <span data-ttu-id="82b9e-213">Kasıtlı olarak çalışmaları için veri bağlama, veri bağlama için gerçekçi bir senaryo olduğunda ya da veri bağlama büyük bir nesne için performans bir sorun kabul edilen yerlerde devre dışı bırakabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-213">You can deliberately disable data binding, for cases where there is no realistic scenario for data binding, or where performance in data binding for a large object is recognized as a problem.</span></span>

- <span data-ttu-id="82b9e-214">Varsayılan olarak, veri bağlama <xref:System.Windows.Data.Binding.Mode%2A> bağımlılık özellikleri varsayılan olarak <xref:System.Windows.Data.BindingMode.OneWay>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-214">By default, data binding <xref:System.Windows.Data.Binding.Mode%2A> for dependency properties defaults to <xref:System.Windows.Data.BindingMode.OneWay>.</span></span> <span data-ttu-id="82b9e-215">Her zaman bağlama olacak şekilde değiştirebilirsiniz <xref:System.Windows.Data.BindingMode.TwoWay> bağlama örnek başına; Ayrıntılar için bkz. [bağlama yönünü belirtme](../data/how-to-specify-the-direction-of-the-binding.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-215">You can always change the binding to be <xref:System.Windows.Data.BindingMode.TwoWay> per binding instance; for details, see [Specify the Direction of the Binding](../data/how-to-specify-the-direction-of-the-binding.md).</span></span> <span data-ttu-id="82b9e-216">Ancak bağımlılık özelliği yazar olarak kullanma özelliği yapmak seçebileceğiniz <xref:System.Windows.Data.BindingMode.TwoWay> varsayılan bağlama modu.</span><span class="sxs-lookup"><span data-stu-id="82b9e-216">But as the dependency property author, you can choose to make the property use <xref:System.Windows.Data.BindingMode.TwoWay> binding mode by default.</span></span> <span data-ttu-id="82b9e-217">Mevcut bir bağımlılık özelliği örneğidir <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A?displayProperty=nameWithType>; senaryo için bu özelliği olan <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> mantığı ve birleştirme, ayarı <xref:System.Windows.Controls.MenuItem> varsayılan tema stili ile etkileşim.</span><span class="sxs-lookup"><span data-stu-id="82b9e-217">An example of an existing dependency property is <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A?displayProperty=nameWithType>; the scenario for this property is that the <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> setting logic and the compositing of <xref:System.Windows.Controls.MenuItem> interact with the default theme style.</span></span> <span data-ttu-id="82b9e-218"><xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> Özelliği mantığını kullanır veri bağlama yerel olarak diğer durum özellik ve yöntem çağrıları çerçevesinde özelliği durumunu korumak için.</span><span class="sxs-lookup"><span data-stu-id="82b9e-218">The <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> property logic uses data binding natively to maintain the state of the property in accordance to other state properties and method calls.</span></span> <span data-ttu-id="82b9e-219">Bağlanan başka bir örnek özellik <xref:System.Windows.Data.BindingMode.TwoWay> varsayılan olarak <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-219">Another example property that binds <xref:System.Windows.Data.BindingMode.TwoWay> by default is <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="82b9e-220">Özel bağımlılık özelliği özellik Devralmada ayarlayarak da etkinleştirebilirsiniz <xref:System.Windows.FrameworkPropertyMetadataOptions.Inherits> bayrağı.</span><span class="sxs-lookup"><span data-stu-id="82b9e-220">You can also enable property inheritance in a custom dependency property by setting the <xref:System.Windows.FrameworkPropertyMetadataOptions.Inherits> flag.</span></span> <span data-ttu-id="82b9e-221">Özellik devralma burada üst öğeler ve alt öğeleri bir özelliği ortak olan ve için alt öğeleri üst ayarlarken aynı değere ayarlamanız, belirli özellik değerine sahip olacak şekilde mantıklı bir senaryo için yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-221">Property inheritance is useful for a scenario where parent elements and child elements have a property in common, and it makes sense for the child elements to have that particular property value set to the same value as the parent set it.</span></span> <span data-ttu-id="82b9e-222">Örnek özellik devralınamaz <xref:System.Windows.FrameworkElement.DataContext%2A>, önemli bir ana öğe-ayrıntı senaryo verilerini sunumu için etkinleştirme işlemleri bağlama için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-222">An example inheritable property is <xref:System.Windows.FrameworkElement.DataContext%2A>, which is used for binding operations to enable the important master-detail scenario for data presentation.</span></span> <span data-ttu-id="82b9e-223">Yaparak <xref:System.Windows.FrameworkElement.DataContext%2A> devralınabilir, herhangi bir alt öğe o veri bağlamı da devralır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-223">By making <xref:System.Windows.FrameworkElement.DataContext%2A> inheritable, any child elements inherit that data context also.</span></span> <span data-ttu-id="82b9e-224">Özellik değeri kalıtımı nedeniyle bir veri bağlamı sayfası veya uygulama kökü belirtebilirsiniz ve tüm olası alt öğeleri bağlamaları için belirtmek gerekmez.</span><span class="sxs-lookup"><span data-stu-id="82b9e-224">Because of property value inheritance, you can specify a data context at the page or application root, and do not need to respecify it for bindings in all possible child elements.</span></span> <span data-ttu-id="82b9e-225"><xref:System.Windows.FrameworkElement.DataContext%2A> Ayrıca devralma varsayılan değerini geçersiz kılar, ancak bu her zaman yerel olarak herhangi bir belirli bir alt öğe üzerinde ayarlanabilir göstermek için iyi bir örnektir; Ayrıntılar için bkz [hiyerarşik veriler ile ana öğe-ayrıntı desenini kullanma](../data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-225"><xref:System.Windows.FrameworkElement.DataContext%2A> is also a good example to illustrate that inheritance overrides the default value, but it can always be set locally on any particular child element; for details, see [Use the Master-Detail Pattern with Hierarchical Data](../data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span></span> <span data-ttu-id="82b9e-226">Özellik değeri kalıtımı olası performans maliyetine sahip ve bu nedenle kaçınılmalıdır; Ayrıntılar için bkz [özellik değeri kalıtımı](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-226">Property value inheritance does have a possible performance cost, and thus should be used sparingly; for details, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

- <span data-ttu-id="82b9e-227">Ayarlama <xref:System.Windows.FrameworkPropertyMetadataOptions.Journal> , bağımlılık özelliği algılandı veya gezinti günlük kaydı hizmetleri tarafından kullanılan belirten bayrak.</span><span class="sxs-lookup"><span data-stu-id="82b9e-227">Set the <xref:System.Windows.FrameworkPropertyMetadataOptions.Journal> flag to indicate if your dependency property should be detected or used by navigation journaling services.</span></span> <span data-ttu-id="82b9e-228">Örneğidir <xref:System.Windows.Controls.Primitives.Selector.SelectedIndex%2A> özelliği; herhangi bir öğeyi bir seçim Seçili denetim kalıcı günlüğe kaydetme geçmişini çıkıldığında olduğunda.</span><span class="sxs-lookup"><span data-stu-id="82b9e-228">An example is the <xref:System.Windows.Controls.Primitives.Selector.SelectedIndex%2A> property; any item selected in a selection control should be persisted when the journaling history is navigated.</span></span>

<a name="RODP"></a>
## <a name="read-only-dependency-properties"></a><span data-ttu-id="82b9e-229">Salt Okunur Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="82b9e-229">Read-Only Dependency Properties</span></span>

<span data-ttu-id="82b9e-230">Salt okunur bağımlılık özelliği tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-230">You can define a dependency property that is read-only.</span></span> <span data-ttu-id="82b9e-231">Ancak, kimlik doğrulamasıyla açığa çıkaran ve bunları özellik sistemi ile kaydetme yordamını olduğu gibi salt okunur olarak özelliğinizi neden tanımlayabilir senaryoları biraz farklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-231">However, the scenarios for why you might define your property as read-only are somewhat different, as is the procedure for registering them with the property system and exposing the identifier.</span></span> <span data-ttu-id="82b9e-232">Daha fazla bilgi için [salt okunur bağımlılık özellikleri](read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-232">For more information, see [Read-Only Dependency Properties](read-only-dependency-properties.md).</span></span>

<a name="CTDP"></a>
## <a name="collection-type-dependency-properties"></a><span data-ttu-id="82b9e-233">Koleksiyon Türü Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="82b9e-233">Collection-Type Dependency Properties</span></span>

<span data-ttu-id="82b9e-234">Koleksiyon türü bağımlılık özellikleri dikkate alınması gereken bazı ek uygulama sorunlarına sahip.</span><span class="sxs-lookup"><span data-stu-id="82b9e-234">Collection-type dependency properties have some additional implementation issues to consider.</span></span> <span data-ttu-id="82b9e-235">Ayrıntılar için bkz [koleksiyon türü bağımlılık özellikleri](collection-type-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-235">For details, see [Collection-Type Dependency Properties](collection-type-dependency-properties.md).</span></span>

<a name="SecurityC"></a>
## <a name="dependency-property-security-considerations"></a><span data-ttu-id="82b9e-236">Bağımlılık özelliği güvenlik konuları</span><span class="sxs-lookup"><span data-stu-id="82b9e-236">Dependency Property Security Considerations</span></span>

<span data-ttu-id="82b9e-237">Bağımlılık özellikleri ortak özellik olarak bildirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-237">Dependency properties should be declared as public properties.</span></span> <span data-ttu-id="82b9e-238">Bağımlılık özelliği tanımlayıcı alanlarını, genel statik alanlar bildirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="82b9e-238">Dependency property identifier fields should be declared as public static fields.</span></span> <span data-ttu-id="82b9e-239">(Korumalı gibi) diğer erişim düzeyleri bildirme girişimi olsa bile, bir bağımlılık özelliği her zaman özellik sistemi ile birlikte tanımlayıcısı aracılığıyla erişilebilir [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82b9e-239">Even if you attempt to declare other access levels (such as protected), a dependency property can always be accessed through the identifier in combination with the property system [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span></span> <span data-ttu-id="82b9e-240">Korumalı tanımlayıcı alan meta verileri raporlama ya da değer belirleme nedeniyle potansiyel olarak erişilebilir [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] gibi özellik sistemi parçası olan <xref:System.Windows.LocalValueEnumerator>.</span><span class="sxs-lookup"><span data-stu-id="82b9e-240">Even a protected identifier field is potentially accessible because of metadata reporting or value determination [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] that are part of the property system, such as <xref:System.Windows.LocalValueEnumerator>.</span></span> <span data-ttu-id="82b9e-241">Daha fazla bilgi için [bağımlılık özelliği güvenliği](dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-241">For more information, see [Dependency Property Security](dependency-property-security.md).</span></span>

<a name="DPCtor"></a>
## <a name="dependency-properties-and-class-constructors"></a><span data-ttu-id="82b9e-242">Bağımlılık özellikleri ve sınıf oluşturucuları</span><span class="sxs-lookup"><span data-stu-id="82b9e-242">Dependency Properties and Class Constructors</span></span>

<span data-ttu-id="82b9e-243">Genel bir sınıf oluşturucuları (genellikle FxCop gibi kod çözümleme araçları tarafından zorunlu tutulur) yönetilen kod programlama İlkesi sanal yöntemleri çağırmamalıdır yoktur.</span><span class="sxs-lookup"><span data-stu-id="82b9e-243">There is a general principle in managed code programming (often enforced by code analysis tools such as FxCop) that class constructors should not call virtual methods.</span></span> <span data-ttu-id="82b9e-244">Bu temel bir türetilen sınıf oluşturucusu başlatma oluşturucular çağrılabilir ve Oluşturucusu aracılığıyla sanal yöntemin girilmesinin yapılandırılmakta nesne örneğinin bir tam başlatma durumunda oluşabilecek olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-244">This is because constructors can be called as base initialization of a derived class constructor, and entering the virtual method through the constructor might occur at an incomplete initialization state of the object instance being constructed.</span></span> <span data-ttu-id="82b9e-245">Zaten türetilen herhangi bir sınıftan türetilen zaman <xref:System.Windows.DependencyObject>, özellik sistemi çağırır ve sanal yöntemleri dahili olarak sunan farkında olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-245">When you derive from any class that already derives from <xref:System.Windows.DependencyObject>, you should be aware that the property system itself calls and exposes virtual methods internally.</span></span> <span data-ttu-id="82b9e-246">Bu sanal yöntemler parçası olan [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] özelliği Sistem Hizmetleri.</span><span class="sxs-lookup"><span data-stu-id="82b9e-246">These virtual methods are part of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system services.</span></span> <span data-ttu-id="82b9e-247">Yöntemleri geçersiz kılma değeri belirleme katılmak türetilmiş sınıfları sağlar.</span><span class="sxs-lookup"><span data-stu-id="82b9e-247">Overriding the methods enables derived classes to participate in value determination.</span></span> <span data-ttu-id="82b9e-248">Belirli bir oluşturucu desenler izleyen sürece çalışma zamanı başlatma ile ilgili olası sorunları önlemek için bağımlılık özellik değerleri, sınıfların oluşturuculardan ayarlanmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="82b9e-248">To avoid potential issues with runtime initialization, you should not set dependency property values within constructors of classes, unless you follow a very specific constructor pattern.</span></span> <span data-ttu-id="82b9e-249">Ayrıntılar için bkz [DependencyObjects için güvenli Oluşturucu desenleri](safe-constructor-patterns-for-dependencyobjects.md).</span><span class="sxs-lookup"><span data-stu-id="82b9e-249">For details, see [Safe Constructor Patterns for DependencyObjects](safe-constructor-patterns-for-dependencyobjects.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="82b9e-250">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="82b9e-250">See also</span></span>

- [<span data-ttu-id="82b9e-251">Bağımlılık Özelliklerine Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="82b9e-251">Dependency Properties Overview</span></span>](dependency-properties-overview.md)
- [<span data-ttu-id="82b9e-252">Bağımlılık Özelliği Meta Verisi</span><span class="sxs-lookup"><span data-stu-id="82b9e-252">Dependency Property Metadata</span></span>](dependency-property-metadata.md)
- [<span data-ttu-id="82b9e-253">Denetim Yazımına Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="82b9e-253">Control Authoring Overview</span></span>](../controls/control-authoring-overview.md)
- [<span data-ttu-id="82b9e-254">Koleksiyon Türü Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="82b9e-254">Collection-Type Dependency Properties</span></span>](collection-type-dependency-properties.md)
- [<span data-ttu-id="82b9e-255">Bağımlılık Özelliği Güvenliği</span><span class="sxs-lookup"><span data-stu-id="82b9e-255">Dependency Property Security</span></span>](dependency-property-security.md)
- [<span data-ttu-id="82b9e-256">XAML Yükleme ve Bağımlılık Özellikleri</span><span class="sxs-lookup"><span data-stu-id="82b9e-256">XAML Loading and Dependency Properties</span></span>](xaml-loading-and-dependency-properties.md)
- [<span data-ttu-id="82b9e-257">DependencyObjects için Güvenli Oluşturucu Desenleri</span><span class="sxs-lookup"><span data-stu-id="82b9e-257">Safe Constructor Patterns for DependencyObjects</span></span>](safe-constructor-patterns-for-dependencyobjects.md)