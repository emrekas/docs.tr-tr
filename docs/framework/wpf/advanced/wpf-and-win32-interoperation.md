---
title: WPF ve Win32 Birlikte Çalışması
ms.date: 03/30/2017
helpviewer_keywords:
- hosting WPF content in Win32 window [WPF]
- HWND interop [WPF]
- Win32 code [WPF], WPF interoperation
- interoperability [WPF], Win32
ms.assetid: 0ffbde0d-701d-45a3-a6fa-dd71f4d9772e
ms.openlocfilehash: 860e8f11859bfbd85d6a5f0e4420fda3047bb236
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 07/30/2019
ms.locfileid: "68629838"
---
# <a name="wpf-and-win32-interoperation"></a><span data-ttu-id="7d571-102">WPF ve Win32 Birlikte Çalışması</span><span class="sxs-lookup"><span data-stu-id="7d571-102">WPF and Win32 Interoperation</span></span>
<span data-ttu-id="7d571-103">Bu konu, birlikte [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] çalışma ve [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] kodun nasıl kullanılacağına ilişkin bir genel bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="7d571-103">This topic provides an overview of how to interoperate [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] code.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]<span data-ttu-id="7d571-104">uygulamalar oluşturmak için zengin bir ortam sağlar.</span><span class="sxs-lookup"><span data-stu-id="7d571-104">provides a rich environment for creating applications.</span></span> <span data-ttu-id="7d571-105">Ancak, kod içinde [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] önemli bir yatırımınız olduğunda, bu kodların bazılarını yeniden kullanmak daha etkili olabilir.</span><span class="sxs-lookup"><span data-stu-id="7d571-105">However, when you have a substantial investment in [!INCLUDE[TLA#tla_win32](../../../../includes/tlasharptla-win32-md.md)] code, it might be more effective to reuse some of that code.</span></span>  

<a name="basics"></a>   
## <a name="wpf-and-win32-interoperation-basics"></a><span data-ttu-id="7d571-106">WPF ve Win32 birlikte çalışabilirlik temelleri</span><span class="sxs-lookup"><span data-stu-id="7d571-106">WPF and Win32 Interoperation Basics</span></span>  
 <span data-ttu-id="7d571-107">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Ve[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] kodu arasında birlikte çalışabilirlik için iki temel teknik vardır.</span><span class="sxs-lookup"><span data-stu-id="7d571-107">There are two basic techniques for interoperation between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] code.</span></span>  
  
- <span data-ttu-id="7d571-108">İçeriği [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bir[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] pencerede barındırın.</span><span class="sxs-lookup"><span data-stu-id="7d571-108">Host [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content in a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] window.</span></span> <span data-ttu-id="7d571-109">Bu teknikle, standart [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] bir pencere ve uygulamanın çerçevesi içinde gelişmiş grafik yeteneklerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-109">With this technique, you can use the advanced graphics capabilities of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] within the framework of a standard [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] window and application.</span></span>  
  
- <span data-ttu-id="7d571-110">İçerikte bir [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] pencere barındırın [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="7d571-110">Host a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] window in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content.</span></span> <span data-ttu-id="7d571-111">Bu teknikle, diğer [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] içerik bağlamında mevcut bir özel denetimi kullanabilir ve verileri sınırlar arasında geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-111">With this technique, you can use an existing custom [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] control in the context of other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content, and pass data across the boundaries.</span></span>  
  
 <span data-ttu-id="7d571-112">Bu tekniklerin her biri kavramsal olarak bu konuda sunulmuştur.</span><span class="sxs-lookup"><span data-stu-id="7d571-112">Each of these techniques is conceptually introduced in this topic.</span></span> <span data-ttu-id="7d571-113">[İçinde [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] barındırmanındahafazlakododaklıbirgösterimiiçinbkz.İzlenecekyol:[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] Win32](walkthrough-hosting-wpf-content-in-win32.md)'de WPF içeriğini barındırma.</span><span class="sxs-lookup"><span data-stu-id="7d571-113">For a more code-oriented illustration of hosting [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] in [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], see [Walkthrough: Hosting WPF Content in Win32](walkthrough-hosting-wpf-content-in-win32.md).</span></span> <span data-ttu-id="7d571-114">[İçinde [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] barındırmanındahafazlakododaklıbirgösterimiiçinbkz.İzlenecekyol:[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] WPF](walkthrough-hosting-a-win32-control-in-wpf.md)'te Win32 denetimi barındırma.</span><span class="sxs-lookup"><span data-stu-id="7d571-114">For a more code-oriented illustration of hosting [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Walkthrough: Hosting a Win32 Control in WPF](walkthrough-hosting-a-win32-control-in-wpf.md).</span></span>  
  
<a name="projects"></a>   
## <a name="wpf-interoperation-projects"></a><span data-ttu-id="7d571-115">WPF birlikte çalışma projeleri</span><span class="sxs-lookup"><span data-stu-id="7d571-115">WPF Interoperation Projects</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="7d571-116">API 'ler yönetilen koddur, ancak var olan [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] çoğu program yönetilmeyen C++olarak yazılmıştır.</span><span class="sxs-lookup"><span data-stu-id="7d571-116">APIs are managed code, but most existing [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] programs are written in unmanaged C++.</span></span>  <span data-ttu-id="7d571-117">Doğru yönetilmeyen bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] programdan API 'leri çağıramezsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-117">You cannot call [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs from a true unmanaged program.</span></span> <span data-ttu-id="7d571-118">Bununla birlikte, `/clr` [!INCLUDE[TLA#tla_visualcpp](../../../../includes/tlasharptla-visualcpp-md.md)] derleyici seçeneğini kullanarak, yönetilen ve yönetilmeyen API çağrılarını sorunsuzca karıştırabileceğiniz, karma yönetilen, yönetilmeyen bir program oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-118">However, by using the `/clr` option with the [!INCLUDE[TLA#tla_visualcpp](../../../../includes/tlasharptla-visualcpp-md.md)] compiler, you can create a mixed managed-unmanaged program where you can seamlessly mix managed and unmanaged API calls.</span></span>  
  
 <span data-ttu-id="7d571-119">Proje düzeyinde bir karmaşıkma, dosyaları bir [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] C++ projede derleyemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-119">One project-level complication is that you cannot compile [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] files into a C++ project.</span></span>  <span data-ttu-id="7d571-120">Bunun için telafi eden çeşitli proje bölmesi teknikleri vardır.</span><span class="sxs-lookup"><span data-stu-id="7d571-120">There are several project division techniques to compensate for this.</span></span>  
  
- <span data-ttu-id="7d571-121">Tüm C# [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sayfalarınızı derlenmiş bir derleme olarak içeren bir DLL oluşturun ve sonra yürütülebilir dosyanızı C++ bir başvuru olarak bu DLL 'yi içermesini sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-121">Create a C# DLL that contains all your [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages as a compiled assembly, and then have your C++ executable include that DLL as a reference.</span></span>  
  
- <span data-ttu-id="7d571-122">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] İçerik için C# bir yürütülebilir dosya oluşturun ve C++ [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] içeriği içeren bir dll 'ye başvurın.</span><span class="sxs-lookup"><span data-stu-id="7d571-122">Create a C# executable for the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content, and have it reference a C++ DLL that contains the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] content.</span></span>  
  
- <span data-ttu-id="7d571-123">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Uygulamanızı <xref:System.Windows.Markup.XamlReader.Load%2A> derlemek[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]yerine çalışma zamanında yüklemek için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7d571-123">Use <xref:System.Windows.Markup.XamlReader.Load%2A> to load any [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] at run time, instead of compiling your [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
- <span data-ttu-id="7d571-124">Hiç kullanmayın [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] ve ' den <xref:System.Windows.Application>öğe ağacını oluşturarak [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tüm kodunuzu yazın.</span><span class="sxs-lookup"><span data-stu-id="7d571-124">Do not use [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] at all, and write all your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] in code, building up the element tree from <xref:System.Windows.Application>.</span></span>  
  
 <span data-ttu-id="7d571-125">Sizin için en uygun yaklaşımı kullanın.</span><span class="sxs-lookup"><span data-stu-id="7d571-125">Use whatever approach works best for you.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7d571-126">Daha önce/CLI kullandıysanız C++, birlikte çalışabilirlik kod örneklerinde `gcnew` ve `nullptr` gibi bazı "yeni" anahtar kelimeleriyle karşılaşabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-126">If you have not used C++/CLI before, you might notice some "new" keywords such as `gcnew` and `nullptr` in the interoperation code examples.</span></span> <span data-ttu-id="7d571-127">Bu anahtar sözcükler, eski çift alt çizgi söz dizimini`__gc`() yerine ekler ve içindeki C++yönetilen kod için daha doğal bir sözdizimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="7d571-127">These keywords supersede the older double-underscore syntax (`__gc`) and provide a more natural syntax for managed code in C++.</span></span>  <span data-ttu-id="7d571-128">/CLI yönetilen özellikleri hakkında daha fazla bilgi edinmek için bkz. [çalışma zamanı platformları Için bileşen uzantıları](/cpp/windows/component-extensions-for-runtime-platforms) ve [Merhaba, C++/CLI.](https://go.microsoft.com/fwlink/?LinkId=98739) C++</span><span class="sxs-lookup"><span data-stu-id="7d571-128">To learn more about the C++/CLI managed features, see [Component Extensions for Runtime Platforms](/cpp/windows/component-extensions-for-runtime-platforms) and [Hello, C++/CLI](https://go.microsoft.com/fwlink/?LinkId=98739).</span></span>  
  
<a name="hwnds"></a>   
## <a name="how-wpf-uses-hwnds"></a><span data-ttu-id="7d571-129">WPF, HWNDs 'yi nasıl kullanır?</span><span class="sxs-lookup"><span data-stu-id="7d571-129">How WPF Uses Hwnds</span></span>  
 <span data-ttu-id="7d571-130">"HWND birlikte çalışabilirliği" [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] nin en iyi şekilde kullanılabilmesini sağlamak için, HWNDs [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 'i nasıl kullandığını anlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7d571-130">To make the most of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] "HWND interop", you need to understand how [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses HWNDs.</span></span> <span data-ttu-id="7d571-131">Herhangi bir HWND için, işleme DirectX [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] işleme veya [!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)]  /  [!INCLUDE[TLA2#tla_gdiplus](../../../../includes/tla2sharptla-gdiplus-md.md)] işleme ile karıştırılamaz.</span><span class="sxs-lookup"><span data-stu-id="7d571-131">For any HWND, you cannot mix [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] rendering with DirectX rendering or [!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)] / [!INCLUDE[TLA2#tla_gdiplus](../../../../includes/tla2sharptla-gdiplus-md.md)] rendering.</span></span> <span data-ttu-id="7d571-132">Bu bir dizi etkilere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="7d571-132">This has a number of implications.</span></span> <span data-ttu-id="7d571-133">Öncelikle, bu işleme modellerini hiç karıştırmak için, birlikte çalışabilirlik çözümü oluşturmanız ve kullanmayı seçtiğiniz her bir işleme modeli için birlikte çalışabilirlik 'nin belirlenen segmentlerini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7d571-133">Primarily, in order to mix these rendering models at all, you must create an interoperation solution, and use designated segments of interoperation for each rendering model that you choose to use.</span></span> <span data-ttu-id="7d571-134">Ayrıca, işleme davranışı, birlikte çalışma çözümünüzün gerçekleştirebilecekleri bir "hava sahası" kısıtlaması oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7d571-134">Also, the rendering behavior creates an "airspace" restriction for what your interoperation solution can accomplish.</span></span> <span data-ttu-id="7d571-135">"Hava sahası" kavramı, [teknoloji bölgelerine genel bakış](technology-regions-overview.md)konusunda daha ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="7d571-135">The "airspace" concept is explained in greater detail in the topic [Technology Regions Overview](technology-regions-overview.md).</span></span>  
  
 <span data-ttu-id="7d571-136">Ekrandaki [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tüm öğeler sonunda bir HWND tarafından desteklenir.</span><span class="sxs-lookup"><span data-stu-id="7d571-136">All [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements on the screen are ultimately backed by a HWND.</span></span> <span data-ttu-id="7d571-137">Oluşturduğunuzda [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ,üst[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] düzey bir <xref:System.Windows.Interop.HwndSource> HWNDoluşturur[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ve içeriğini HWND içine koymak içinbirkullanır.<xref:System.Windows.Window> <xref:System.Windows.Window></span><span class="sxs-lookup"><span data-stu-id="7d571-137">When you create a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Window>, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] creates a top-level HWND, and uses an <xref:System.Windows.Interop.HwndSource> to put the <xref:System.Windows.Window> and its [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content inside the HWND.</span></span>  <span data-ttu-id="7d571-138">Uygulamanın geri kalanı [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , bu tekil HWND paylaşır.</span><span class="sxs-lookup"><span data-stu-id="7d571-138">The rest of your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content in the application shares that singular HWND.</span></span> <span data-ttu-id="7d571-139">Menüler, Birleşik giriş kutusu açılan listeleri ve diğer açılır pencereler özel bir durumdur.</span><span class="sxs-lookup"><span data-stu-id="7d571-139">An exception is menus, combo box drop downs, and other pop-ups.</span></span> <span data-ttu-id="7d571-140">Bu öğeler kendi üst düzey penceresini oluşturur, bu nedenle bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] menü, kendisini içeren pencere HWND 'nin kenarını büyük olasılıkla geçebilirler.</span><span class="sxs-lookup"><span data-stu-id="7d571-140">These elements create their own top-level window, which is why a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] menu can potentially go past the edge of the window HWND that contains it.</span></span> <span data-ttu-id="7d571-141">İçine <xref:System.Windows.Interop.HwndHost> [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] <xref:System.Windows.Window> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bir HWND koymak için kullandığınızda, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] yeni alt HWND 'yi HWND 'ye göre nasıl konumlandırmaya bildirilir. [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</span><span class="sxs-lookup"><span data-stu-id="7d571-141">When you use <xref:System.Windows.Interop.HwndHost> to put an HWND inside [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] informs [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] how to position the new child HWND relative to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Window> HWND.</span></span>  
  
 <span data-ttu-id="7d571-142">HWND ile ilgili bir kavram, her HWND içinde ve arasında saydamdır.</span><span class="sxs-lookup"><span data-stu-id="7d571-142">A related concept to HWND is transparency within and between each HWND.</span></span> <span data-ttu-id="7d571-143">Bu, [teknoloji bölgelerine genel bakış](technology-regions-overview.md)konusunda da ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="7d571-143">This is also discussed in the topic [Technology Regions Overview](technology-regions-overview.md).</span></span>  
  
<a name="hosting_a_wpf_page"></a>   
## <a name="hosting-wpf-content-in-a-microsoft-win32-window"></a><span data-ttu-id="7d571-144">Microsoft Win32 penceresinde WPF Içeriğini barındırma</span><span class="sxs-lookup"><span data-stu-id="7d571-144">Hosting WPF Content in a Microsoft Win32 Window</span></span>  
 <span data-ttu-id="7d571-145">Bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pencere[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] üzerindebarındırılacakanahtar,sınıftır.<xref:System.Windows.Interop.HwndSource></span><span class="sxs-lookup"><span data-stu-id="7d571-145">The key to hosting a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] on a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] window is the <xref:System.Windows.Interop.HwndSource> class.</span></span> <span data-ttu-id="7d571-146">Bu sınıf içeriği bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] pencerede sarmaladığı için [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] içeriğin bir alt pencere [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] olarak birleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7d571-146">This class wraps the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content in a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] window, so that the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content can be incorporated into your [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] as a child window.</span></span> <span data-ttu-id="7d571-147">Aşağıdaki yaklaşım, [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] ve [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] öğesini tek bir uygulamada birleştirir.</span><span class="sxs-lookup"><span data-stu-id="7d571-147">The following approach combines the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] in a single application.</span></span>  
  
1. <span data-ttu-id="7d571-148">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] İçeriğinizi (içerik kök öğesi) yönetilen bir sınıf olarak uygulayın.</span><span class="sxs-lookup"><span data-stu-id="7d571-148">Implement your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content (the content root element) as a managed class.</span></span> <span data-ttu-id="7d571-149">Genellikle, sınıfı birden çok alt öğe içerebilen ve/veya gibi bir kök öğe <xref:System.Windows.Controls.DockPanel> <xref:System.Windows.Controls.Page>olarak kullanılan sınıflardan birinden devralır.</span><span class="sxs-lookup"><span data-stu-id="7d571-149">Typically, the class inherits from one of the classes that can contain multiple child elements and/or used as a root element, such as <xref:System.Windows.Controls.DockPanel> or <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="7d571-150">Sonraki adımlarda, bu sınıfa [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] içerik sınıfı olarak başvurulur ve sınıfın örnekleri içerik nesneleri olarak [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="7d571-150">In subsequent steps, this class is referred to as the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content class, and instances of the class are referred to as [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content objects.</span></span>  
  
2. <span data-ttu-id="7d571-151">/Cliile C++bir Windows uygulaması uygulayın.</span><span class="sxs-lookup"><span data-stu-id="7d571-151">Implement a Windows application with C++/CLI.</span></span> <span data-ttu-id="7d571-152">Mevcut bir yönetilmeyen C++ uygulamayla başlıyorsanız, genellikle proje ayarlarınızı `/clr` derleyici bayrağını içerecek şekilde değiştirerek yönetilen kodu çağırmak için bu ayarı etkinleştirebilirsiniz (desteklemek `/clr` için gerekli olabilecek tam kapsam). derleme bu konuda açıklanmamaktadır.</span><span class="sxs-lookup"><span data-stu-id="7d571-152">If you are starting with an existing unmanaged C++ application, you can usually enable it to call managed code by changing your project settings to include the `/clr` compiler flag (the full scope of what might be necessary to support `/clr` compilation is not described in this topic).</span></span>  
  
3. <span data-ttu-id="7d571-153">İş parçacığı modelini tek Iş parçacıklı Apartment (STA) olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="7d571-153">Set the threading model to Single Threaded Apartment (STA).</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="7d571-154">Bu iş parçacığı modelini kullanır.</span><span class="sxs-lookup"><span data-stu-id="7d571-154">uses this threading model.</span></span>  
  
4. <span data-ttu-id="7d571-155">WM_CREATE bildirimini pencere yordamınıza işleyin.</span><span class="sxs-lookup"><span data-stu-id="7d571-155">Handle the WM_CREATE notification in your window procedure.</span></span>  
  
5. <span data-ttu-id="7d571-156">İşleyici içinde (veya işleyicinin çağırdığı bir işlev), aşağıdakileri yapın:</span><span class="sxs-lookup"><span data-stu-id="7d571-156">Within the handler (or a function that the handler calls), do the following:</span></span>  
  
    1. <span data-ttu-id="7d571-157">Parametresi olarak üst <xref:System.Windows.Interop.HwndSource> pencere HWND ile yeni bir nesne oluşturun. `parent`</span><span class="sxs-lookup"><span data-stu-id="7d571-157">Create a new <xref:System.Windows.Interop.HwndSource> object with the parent window HWND as its `parent` parameter.</span></span>  
  
    2. <span data-ttu-id="7d571-158">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] İçerik sınıfınızın bir örneğini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7d571-158">Create an instance of your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content class.</span></span>  
  
    3. <span data-ttu-id="7d571-159">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Nesne<xref:System.Windows.Interop.HwndSource.RootVisual%2A>özelliğine içerik nesnesine bir başvuru atayın. <xref:System.Windows.Interop.HwndSource></span><span class="sxs-lookup"><span data-stu-id="7d571-159">Assign a reference to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content object to the <xref:System.Windows.Interop.HwndSource> object <xref:System.Windows.Interop.HwndSource.RootVisual%2A> property.</span></span>  
  
    4. <span data-ttu-id="7d571-160"><xref:System.Windows.Interop.HwndSource> Object<xref:System.Windows.Interop.HwndSource.Handle%2A> özelliği, pencere tanıtıcısını (hwnd) içerir.</span><span class="sxs-lookup"><span data-stu-id="7d571-160">The <xref:System.Windows.Interop.HwndSource> object <xref:System.Windows.Interop.HwndSource.Handle%2A> property contains the window handle (HWND).</span></span> <span data-ttu-id="7d571-161">Uygulamanızın yönetilmeyen bölümünde kullanabileceğiniz bir hwnd almak için bir HWND 'ye atayın `Handle.ToPointer()` .</span><span class="sxs-lookup"><span data-stu-id="7d571-161">To get an HWND that you can use in the unmanaged part of your application, cast `Handle.ToPointer()` to an HWND.</span></span>  
  
6. <span data-ttu-id="7d571-162">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] İçerik nesneniz için bir başvuru tutan bir statik alan içeren yönetilen bir sınıf uygulayın.</span><span class="sxs-lookup"><span data-stu-id="7d571-162">Implement a managed class that contains a static field that holds a reference to your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content object.</span></span> <span data-ttu-id="7d571-163">Bu sınıf, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] kodunuzdaki içerik nesnesine bir başvuru almanızı sağlar, ancak <xref:System.Windows.Interop.HwndSource> daha da önemlisi, istemeden atık olarak toplanmasını önler.</span><span class="sxs-lookup"><span data-stu-id="7d571-163">This class allows you to get a reference to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content object from your [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] code, but more importantly it prevents your <xref:System.Windows.Interop.HwndSource> from being inadvertently garbage collected.</span></span>  
  
7. <span data-ttu-id="7d571-164">İçerik nesnesi olaylarına bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] veya daha fazla [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] işleyici ekleyerek içerik nesnesinden bildirim alın.</span><span class="sxs-lookup"><span data-stu-id="7d571-164">Receive notifications from the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content object by attaching a handler to one or more of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content object events.</span></span>  
  
8. <span data-ttu-id="7d571-165">Özellikleri ayarlamak için statik alanda depoladığınız başvuruyu kullanarak içeriknesnesiyleiletişimkurun,yöntemleriçağırın,vb.[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</span><span class="sxs-lookup"><span data-stu-id="7d571-165">Communicate with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content object by using the reference that you stored in the static field to set properties, call methods, etc.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7d571-166">İçerik sınıfının bir kısmını veya tümünü [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , içerik sınıfının varsayılan kısmi sınıfını kullanarak, ayrı bir derleme üretemiyor ve sonra başvurdıysanız yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-166">You can do some or all of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content class definition for Step One in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] using the default partial class of the content class, if you produce a separate assembly and then reference it.</span></span> <span data-ttu-id="7d571-167">Bir <xref:System.Windows.Application> nesneyi bir derlemeye derlemenin bir parçası [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] olarak genellikle dahil olsanız da, birlikte çalışma <xref:System.Windows.Application> 'nin bir parçası olarak, bir veya daha fazla başvurulan dosya için [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] bir veya daha fazla kök sınıfı kullanmanız gerekir uygulamasına göre ve kısmi sınıflarına başvuru yapın.</span><span class="sxs-lookup"><span data-stu-id="7d571-167">Although you typically include an <xref:System.Windows.Application> object as part of compiling the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] into an assembly, you do not end up using that <xref:System.Windows.Application> as part of the interoperation, you just use one or more of the root classes for [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files referred to by the application and reference their partial classes.</span></span> <span data-ttu-id="7d571-168">Yordamın geri kalanı temelde yukarıda ana hatlarıyla benzerdir.</span><span class="sxs-lookup"><span data-stu-id="7d571-168">The remainder of the procedure is essentially similar to that outlined above.</span></span>  
>   
>  <span data-ttu-id="7d571-169">Bu adımların her biri, konu başlığı [altında kod aracılığıyla gösterilmiştir: Win32](walkthrough-hosting-wpf-content-in-win32.md)'de WPF içeriğini barındırma.</span><span class="sxs-lookup"><span data-stu-id="7d571-169">Each of these steps is illustrated through code in the topic [Walkthrough: Hosting WPF Content in Win32](walkthrough-hosting-wpf-content-in-win32.md).</span></span>  
  
<a name="hosting_an_hwnd"></a>   
## <a name="hosting-a-microsoft-win32-window-in-wpf"></a><span data-ttu-id="7d571-170">WPF 'de Microsoft Win32 penceresi barındırma</span><span class="sxs-lookup"><span data-stu-id="7d571-170">Hosting a Microsoft Win32 Window in WPF</span></span>  
 <span data-ttu-id="7d571-171">Diğer [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] içerik[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] içindebirpencereninbarındırılmasınayönelik<xref:System.Windows.Interop.HwndHost> anahtar, sınıftır.</span><span class="sxs-lookup"><span data-stu-id="7d571-171">The key to hosting a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] window within other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content is the <xref:System.Windows.Interop.HwndHost> class.</span></span> <span data-ttu-id="7d571-172">Bu sınıf, pencereyi bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] öğe ağacına eklenebilen bir öğe içinde kaydırır.</span><span class="sxs-lookup"><span data-stu-id="7d571-172">This class wraps the window in a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] element which can be added to a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] element tree.</span></span> <span data-ttu-id="7d571-173"><xref:System.Windows.Interop.HwndHost>Ayrıca, bu gibi görevleri barındırılan pencere için işlem iletileri olarak yapmanıza imkan tanıyan API 'Leri destekler.</span><span class="sxs-lookup"><span data-stu-id="7d571-173"><xref:System.Windows.Interop.HwndHost> also supports APIs that allow you to do such tasks as process messages for the hosted window.</span></span> <span data-ttu-id="7d571-174">Temel yordam:</span><span class="sxs-lookup"><span data-stu-id="7d571-174">The basic procedure is:</span></span>  
  
1. <span data-ttu-id="7d571-175">Bir [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uygulama için bir öğe ağacı oluşturun (kod veya biçimlendirme aracılığıyla olabilir).</span><span class="sxs-lookup"><span data-stu-id="7d571-175">Create an element tree for a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application (can be through code or markup).</span></span> <span data-ttu-id="7d571-176">Öğe ağacında <xref:System.Windows.Interop.HwndHost> , uygulamanın bir alt öğe olarak eklenebileceği uygun ve izin verilen bir nokta bulun.</span><span class="sxs-lookup"><span data-stu-id="7d571-176">Find an appropriate and permissible point in the element tree where the <xref:System.Windows.Interop.HwndHost> implementation can be added as a child element.</span></span> <span data-ttu-id="7d571-177">Bu adımların geri kalanında, bu öğe, ayırma öğesi olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="7d571-177">In the remainder of these steps, this element is referred to as the reserving element.</span></span>  
  
2. <span data-ttu-id="7d571-178">İçeriğinizi tutan bir nesne oluşturmak için öğesinden <xref:System.Windows.Interop.HwndHost> türetirsiniz. [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]</span><span class="sxs-lookup"><span data-stu-id="7d571-178">Derive from <xref:System.Windows.Interop.HwndHost> to create an object that holds your [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] content.</span></span>  
  
3. <span data-ttu-id="7d571-179">Bu ana bilgisayar sınıfında, <xref:System.Windows.Interop.HwndHost> yöntemini <xref:System.Windows.Interop.HwndHost.BuildWindowCore%2A>geçersiz kılın.</span><span class="sxs-lookup"><span data-stu-id="7d571-179">In that host class, override the <xref:System.Windows.Interop.HwndHost> method <xref:System.Windows.Interop.HwndHost.BuildWindowCore%2A>.</span></span> <span data-ttu-id="7d571-180">Barındırılan pencerenin HWND 'sini döndürün.</span><span class="sxs-lookup"><span data-stu-id="7d571-180">Return the HWND of the hosted window.</span></span> <span data-ttu-id="7d571-181">Gerçek denetimleri döndürülen pencerenin alt penceresi olarak kaydırmak isteyebilirsiniz; denetimleri bir ana bilgisayar penceresinde sarmalama, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] içeriğinizin denetimlerden bildirimleri alması için basit bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="7d571-181">You might want to wrap the actual control(s) as a child window of the returned window; wrapping the controls in a host window provides a simple way for your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content to receive notifications from the controls.</span></span> <span data-ttu-id="7d571-182">Bu teknik, barındırılan denetim sınırında [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] ileti işleme ile ilgili bazı sorunlar için düzeltmeye yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="7d571-182">This technique helps correct for some [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] issues regarding message handling at the hosted control boundary.</span></span>  
  
4. <span data-ttu-id="7d571-183"><xref:System.Windows.Interop.HwndHost> Ve <xref:System.Windows.Interop.HwndHost.DestroyWindowCore%2A> yöntemlerini geçersizkılın.<xref:System.Windows.Interop.HwndHost.WndProc%2A></span><span class="sxs-lookup"><span data-stu-id="7d571-183">Override the <xref:System.Windows.Interop.HwndHost> methods <xref:System.Windows.Interop.HwndHost.DestroyWindowCore%2A> and <xref:System.Windows.Interop.HwndHost.WndProc%2A>.</span></span> <span data-ttu-id="7d571-184">Buradaki amaç, özellikle yönetilmeyen nesnelere başvurular oluşturduysanız, temizleme işlemini ve barındırılan içeriğe başvuruları kaldırmayı sağlar.</span><span class="sxs-lookup"><span data-stu-id="7d571-184">The intention here is to process cleanup and remove references to the hosted content, particularly if you created references to unmanaged objects.</span></span>  
  
5. <span data-ttu-id="7d571-185">Arka plan kod dosyanızda, denetim barındırma sınıfının bir örneğini oluşturun ve bunu ayırma öğesinin bir alt öğesi yapın.</span><span class="sxs-lookup"><span data-stu-id="7d571-185">In your code-behind file, create an instance of the control hosting class and make it a child of the reserving element.</span></span> <span data-ttu-id="7d571-186">Genellikle gibi bir olay işleyicisi <xref:System.Windows.FrameworkElement.Loaded>kullanır veya kısmi sınıf oluşturucusunu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-186">Typically you would use an event handler such as <xref:System.Windows.FrameworkElement.Loaded>, or use the partial class constructor.</span></span> <span data-ttu-id="7d571-187">Ancak, birlikte çalışabilirlik içeriğini çalışma zamanı davranışı ile de ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-187">But you could also add the interoperation content through a runtime behavior.</span></span>  
  
6. <span data-ttu-id="7d571-188">Denetim bildirimleri gibi seçili pencere iletilerini işleyin.</span><span class="sxs-lookup"><span data-stu-id="7d571-188">Process selected window messages, such as control notifications.</span></span> <span data-ttu-id="7d571-189">İki yaklaşım vardır.</span><span class="sxs-lookup"><span data-stu-id="7d571-189">There are two approaches.</span></span> <span data-ttu-id="7d571-190">Her ikisi de ileti akışına özdeş erişim sağlar, böylece seçiminiz programlama kolaylığına göre büyük ölçüde önemlidir.</span><span class="sxs-lookup"><span data-stu-id="7d571-190">Both provide identical access to the message stream, so your choice is largely a matter of programming convenience.</span></span>  
  
    - <span data-ttu-id="7d571-191"><xref:System.Windows.Interop.HwndHost> Yöntemi<xref:System.Windows.Interop.HwndHost.WndProc%2A>geçersiz kılmanızda tüm iletiler için ileti işlemeyi uygulayın (yalnızca kapalı iletiler değil).</span><span class="sxs-lookup"><span data-stu-id="7d571-191">Implement message processing for all messages (not just shutdown messages) in your override of the <xref:System.Windows.Interop.HwndHost> method <xref:System.Windows.Interop.HwndHost.WndProc%2A>.</span></span>  
  
    - <span data-ttu-id="7d571-192">Barındırma [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] öğesinin, <xref:System.Windows.Interop.HwndHost.MessageHook> olayı işleyerek iletileri işlemesini sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-192">Have the hosting [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] element process the messages by handling the <xref:System.Windows.Interop.HwndHost.MessageHook> event.</span></span> <span data-ttu-id="7d571-193">Bu olay barındırılan pencerenin ana pencere yordamına gönderilen her ileti için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="7d571-193">This event is raised for every message that is sent to the main window procedure of the hosted window.</span></span>  
  
    - <span data-ttu-id="7d571-194">Kullanarak <xref:System.Windows.Interop.HwndHost.WndProc%2A>işlem dışı olan Windows iletilerini işleyemez.</span><span class="sxs-lookup"><span data-stu-id="7d571-194">You cannot process messages from windows that are out of process using <xref:System.Windows.Interop.HwndHost.WndProc%2A>.</span></span>  
  
7. <span data-ttu-id="7d571-195">Yönetilmeyen `SendMessage` işlevi çağırmak için platform Invoke kullanarak barındırılan pencereyle iletişim kurun.</span><span class="sxs-lookup"><span data-stu-id="7d571-195">Communicate with the hosted window by using platform invoke to call the unmanaged `SendMessage` function.</span></span>  
  
 <span data-ttu-id="7d571-196">Bu adımları takip etmek, fare girişi ile birlikte çalışarak bir uygulama oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7d571-196">Following these steps creates an application that works with mouse input.</span></span> <span data-ttu-id="7d571-197"><xref:System.Windows.Interop.IKeyboardInputSink> Arabirimini uygulayarak barındırılan pencereniz için sekme desteği ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-197">You can add tabbing support for your hosted window by implementing the <xref:System.Windows.Interop.IKeyboardInputSink> interface.</span></span>  
  
 <span data-ttu-id="7d571-198">Bu adımların her biri, konu başlığı [altında kod aracılığıyla gösterilmiştir: WPF](walkthrough-hosting-a-win32-control-in-wpf.md)'te Win32 denetimi barındırma.</span><span class="sxs-lookup"><span data-stu-id="7d571-198">Each of these steps is illustrated through code in the topic [Walkthrough: Hosting a Win32 Control in WPF](walkthrough-hosting-a-win32-control-in-wpf.md).</span></span>  
  
### <a name="hwnds-inside-wpf"></a><span data-ttu-id="7d571-199">WPF Içinde HWNDs</span><span class="sxs-lookup"><span data-stu-id="7d571-199">Hwnds Inside WPF</span></span>  
 <span data-ttu-id="7d571-200">Özel bir denetim <xref:System.Windows.Interop.HwndHost> olarak düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7d571-200">You can think of <xref:System.Windows.Interop.HwndHost> as a special control.</span></span> <span data-ttu-id="7d571-201">(Teknik olarak <xref:System.Windows.Interop.HwndHost> , <xref:System.Windows.FrameworkElement> <xref:System.Windows.Controls.Control> türetilmiş sınıf değil, türetilmiş bir sınıftır, ancak birlikte çalışma amacıyla bir denetim olarak kabul edilebilir.) barındırılan içeriğin temel [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] yapısını[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , barındırılan içeriği, girişi oluşturması ve işlemek gereken başka bir denetim benzeri nesne olacak şekilde soyutlar. <xref:System.Windows.Interop.HwndHost></span><span class="sxs-lookup"><span data-stu-id="7d571-201">(Technically, <xref:System.Windows.Interop.HwndHost> is a <xref:System.Windows.FrameworkElement> derived class, not a <xref:System.Windows.Controls.Control> derived class, but it can be considered a control for purposes of interoperation.) <xref:System.Windows.Interop.HwndHost> abstracts the underlying [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] nature of the hosted content such that the remainder of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] considers the hosted content to be another control-like object, which should render and process input.</span></span> <span data-ttu-id="7d571-202"><xref:System.Windows.Interop.HwndHost>genellikle herhangi bir diğer [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.FrameworkElement>gibi davranır, ancak çıktı (çizim ve grafik) ve giriş (fare ve klavye) temelinde, temel alınan HWND NDS 'nin destekleyebilecekleri sınırlamalara göre bazı önemli farklılıklar vardır.</span><span class="sxs-lookup"><span data-stu-id="7d571-202"><xref:System.Windows.Interop.HwndHost> generally behaves like any other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.FrameworkElement>, although there are some important differences around output (drawing and graphics) and input (mouse and keyboard) based on limitations of what the underlying HWNDs can support.</span></span>  
  
#### <a name="notable-differences-in-output-behavior"></a><span data-ttu-id="7d571-203">Çıkış davranışındaki önemli farklılıklar</span><span class="sxs-lookup"><span data-stu-id="7d571-203">Notable Differences in Output Behavior</span></span>  
  
- <span data-ttu-id="7d571-204"><xref:System.Windows.FrameworkElement><xref:System.Windows.Interop.HwndHost> temel sınıf olan, Kullanıcı arabiriminde yapılan değişiklikleri belirten birkaç özelliği vardır.</span><span class="sxs-lookup"><span data-stu-id="7d571-204"><xref:System.Windows.FrameworkElement>, which is the <xref:System.Windows.Interop.HwndHost> base class, has quite a few properties that imply changes to the UI.</span></span> <span data-ttu-id="7d571-205">Bunlar gibi <xref:System.Windows.FrameworkElement.FlowDirection%2A?displayProperty=nameWithType>, bu öğe içindeki öğelerin yerleşimini üst öğe olarak değiştiren özellikler içerir.</span><span class="sxs-lookup"><span data-stu-id="7d571-205">These include properties such as <xref:System.Windows.FrameworkElement.FlowDirection%2A?displayProperty=nameWithType>, which changes the layout of elements within that element as a parent.</span></span> <span data-ttu-id="7d571-206">Bununla birlikte, bu özelliklerin çoğu olası [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] eşdeğerlerine eşlenmez, bu da bu tür eşdeğerleri var olabilir.</span><span class="sxs-lookup"><span data-stu-id="7d571-206">However, most of these properties are not mapped to possible [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] equivalents, even if such equivalents might exist.</span></span> <span data-ttu-id="7d571-207">Bu özelliklerden çok fazla ve anlamları, eşlemelerin pratik olması için çok fazla işleme teknolojisine özgüdür.</span><span class="sxs-lookup"><span data-stu-id="7d571-207">Too many of these properties and their meanings are too rendering-technology specific for mappings to be practical.</span></span> <span data-ttu-id="7d571-208">Bu nedenle, gibi özelliklerinin <xref:System.Windows.FrameworkElement.FlowDirection%2A> <xref:System.Windows.Interop.HwndHost> ayarlanması hiçbir etkiye sahip değildir.</span><span class="sxs-lookup"><span data-stu-id="7d571-208">Therefore, setting properties such as <xref:System.Windows.FrameworkElement.FlowDirection%2A> on <xref:System.Windows.Interop.HwndHost> has no effect.</span></span>  
  
- <span data-ttu-id="7d571-209"><xref:System.Windows.Interop.HwndHost>bir dönüşümden döndürülemez, ölçeklendirilemez, çarpıtılmış veya başka bir şekilde etkilenmemelidir.</span><span class="sxs-lookup"><span data-stu-id="7d571-209"><xref:System.Windows.Interop.HwndHost> cannot be rotated, scaled, skewed, or otherwise affected by a Transform.</span></span>  
  
- <span data-ttu-id="7d571-210"><xref:System.Windows.Interop.HwndHost><xref:System.Windows.UIElement.Opacity%2A> özelliği desteklemez (Alfa karıştırma).</span><span class="sxs-lookup"><span data-stu-id="7d571-210"><xref:System.Windows.Interop.HwndHost> does not support the <xref:System.Windows.UIElement.Opacity%2A> property (alpha blending).</span></span> <span data-ttu-id="7d571-211">İçindeki içerik, <xref:System.Windows.Interop.HwndHost> birihlal<xref:System.Drawing> olmayan alfa bilgilerini içeren işlemler gerçekleştirirse, ancak tam olarakyalnızcaopaklığıdestekler=1,0(100%).<xref:System.Windows.Interop.HwndHost></span><span class="sxs-lookup"><span data-stu-id="7d571-211">If content inside the <xref:System.Windows.Interop.HwndHost> performs <xref:System.Drawing> operations that include alpha information, that is itself not a violation, but the <xref:System.Windows.Interop.HwndHost> as a whole only supports Opacity = 1.0 (100%).</span></span>  
  
- <span data-ttu-id="7d571-212"><xref:System.Windows.Interop.HwndHost>, aynı üst düzey penceredeki diğer [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] öğelerin üst kısmında görünür.</span><span class="sxs-lookup"><span data-stu-id="7d571-212"><xref:System.Windows.Interop.HwndHost> will appear on top of other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements in the same top-level window.</span></span> <span data-ttu-id="7d571-213">Ancak, veya <xref:System.Windows.Controls.ToolTip> <xref:System.Windows.Controls.ContextMenu> oluşturulmuş bir menü ayrı bir üst düzey penceredir ve bu nedenle ile <xref:System.Windows.Interop.HwndHost>doğru şekilde davranır.</span><span class="sxs-lookup"><span data-stu-id="7d571-213">However, a <xref:System.Windows.Controls.ToolTip> or <xref:System.Windows.Controls.ContextMenu> generated menu is a separate top-level window, and so will behave correctly with <xref:System.Windows.Interop.HwndHost>.</span></span>  
  
- <span data-ttu-id="7d571-214"><xref:System.Windows.Interop.HwndHost>üst <xref:System.Windows.UIElement>öğesinin kırpma bölgesine göre değil.</span><span class="sxs-lookup"><span data-stu-id="7d571-214"><xref:System.Windows.Interop.HwndHost> does not respect the clipping region of its parent <xref:System.Windows.UIElement>.</span></span> <span data-ttu-id="7d571-215">Bu, bir <xref:System.Windows.Interop.HwndHost> sınıfı kaydırılan bir bölgenin içine veya <xref:System.Windows.Controls.Canvas>bir sınıf koymaya çalışırsanız sorun olabilir.</span><span class="sxs-lookup"><span data-stu-id="7d571-215">This is potentially an issue if you attempt to put an <xref:System.Windows.Interop.HwndHost> class inside a scrolling region or <xref:System.Windows.Controls.Canvas>.</span></span>  
  
#### <a name="notable-differences-in-input-behavior"></a><span data-ttu-id="7d571-216">Giriş davranışında önemli farklılıklar</span><span class="sxs-lookup"><span data-stu-id="7d571-216">Notable Differences in Input Behavior</span></span>  
  
- <span data-ttu-id="7d571-217">Genel olarak, giriş cihazları <xref:System.Windows.Interop.HwndHost> barındırılan [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] bölge kapsamında olduğunda, giriş olayları doğrudan öğesine [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]gider.</span><span class="sxs-lookup"><span data-stu-id="7d571-217">In general, while input devices are scoped within the <xref:System.Windows.Interop.HwndHost> hosted [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] region, input events go directly to [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)].</span></span>  
  
- <span data-ttu-id="7d571-218">Fare <xref:System.Windows.Interop.HwndHost>üzerindeyken, uygulamanız fare olaylarını almaz [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ve özelliğin <xref:System.Windows.UIElement.IsMouseOver%2A> `false`değeri olacaktır.</span><span class="sxs-lookup"><span data-stu-id="7d571-218">While the mouse is over the <xref:System.Windows.Interop.HwndHost>, your application does not receive [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mouse events, and the value of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property <xref:System.Windows.UIElement.IsMouseOver%2A> will be `false`.</span></span>  
  
- <span data-ttu-id="7d571-219">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] `false` <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> Klavye odağı olsa da, uygulamanız klavye olaylarını almaz ve özelliğin değeri olacaktır. <xref:System.Windows.Interop.HwndHost></span><span class="sxs-lookup"><span data-stu-id="7d571-219">While the <xref:System.Windows.Interop.HwndHost> has keyboard focus, your application will not receive [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] keyboard events and the value of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> will be `false`.</span></span>  
  
- <span data-ttu-id="7d571-220">Odak <xref:System.Windows.Interop.HwndHost> içinde olduğunda ve [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Interop.HwndHost>içindeki başka bir denetimdeki değişiklikler olduğunda, uygulamanız olayları <xref:System.Windows.UIElement.GotFocus> almaz veya <xref:System.Windows.UIElement.LostFocus>olur.</span><span class="sxs-lookup"><span data-stu-id="7d571-220">When focus is within the <xref:System.Windows.Interop.HwndHost> and changes to another control inside the <xref:System.Windows.Interop.HwndHost>, your application will not receive the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] events <xref:System.Windows.UIElement.GotFocus> or <xref:System.Windows.UIElement.LostFocus>.</span></span>  
  
- <span data-ttu-id="7d571-221">İlgili ekran kalemi özellikleri ve olayları benzerdir ve ekran kalemi üzerindeyken <xref:System.Windows.Interop.HwndHost>bilgileri rapor etmez.</span><span class="sxs-lookup"><span data-stu-id="7d571-221">Related stylus properties and events are analogous, and do not report information while the stylus is over <xref:System.Windows.Interop.HwndHost>.</span></span>  
  
<a name="tabbing_mnemonics_accelerators"></a>   
## <a name="tabbing-mnemonics-and-accelerators"></a><span data-ttu-id="7d571-222">Sekme, anımsatıcı ve Hızlandırıcılar</span><span class="sxs-lookup"><span data-stu-id="7d571-222">Tabbing, Mnemonics, and Accelerators</span></span>  
 <span data-ttu-id="7d571-223">Ve <xref:System.Windows.Interop.IKeyboardInputSink> arabirimleri<xref:System.Windows.Interop.IKeyboardInputSite> , karışık[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ve[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] uygulamalar için sorunsuz bir klavye deneyimi oluşturmanıza imkan tanır:</span><span class="sxs-lookup"><span data-stu-id="7d571-223">The <xref:System.Windows.Interop.IKeyboardInputSink> and <xref:System.Windows.Interop.IKeyboardInputSite> interfaces allow you to create a seamless keyboard experience for mixed [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] applications:</span></span>  
  
- <span data-ttu-id="7d571-224">[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] Ve[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bileşenleri arasında sekme</span><span class="sxs-lookup"><span data-stu-id="7d571-224">Tabbing between [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] components</span></span>  
  
- <span data-ttu-id="7d571-225">Odak bir Win32 bileşeni içindeyse ve bir WPF bileşeni içindeyse her ikisi de çalışan anımsatıcıları ve Hızlandırıcılar.</span><span class="sxs-lookup"><span data-stu-id="7d571-225">Mnemonics and accelerators that work both when focus is within a Win32 component and when it is within a WPF component.</span></span>  
  
 <span data-ttu-id="7d571-226"><xref:System.Windows.Interop.HwndHost> Ve<xref:System.Windows.Interop.HwndSource>sınıflarınınher ikisi de uygulamalarını sağlar ,ancakdahagelişmişsenaryolariçinistediğiniztümgirişiletileriniişleyemeyebilir.<xref:System.Windows.Interop.IKeyboardInputSink></span><span class="sxs-lookup"><span data-stu-id="7d571-226">The <xref:System.Windows.Interop.HwndHost> and <xref:System.Windows.Interop.HwndSource> classes both provide implementations of <xref:System.Windows.Interop.IKeyboardInputSink>, but they may not handle all the input messages that you want for more advanced scenarios.</span></span> <span data-ttu-id="7d571-227">İstediğiniz klavye davranışını almak için uygun yöntemleri geçersiz kılın.</span><span class="sxs-lookup"><span data-stu-id="7d571-227">Override the appropriate methods to get the keyboard behavior you want.</span></span>  
  
 <span data-ttu-id="7d571-228">Arabirimler yalnızca [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ve [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] bölgeleri arasındaki geçişte ne olacağı için destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="7d571-228">The interfaces only provide support for what happens on the transition between the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] regions.</span></span> <span data-ttu-id="7d571-229">Bölge içinde sekme davranışı, varsa sekme için [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] uygulanan mantık tarafından tamamen denetlenir. [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]</span><span class="sxs-lookup"><span data-stu-id="7d571-229">Within the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] region, tabbing behavior is entirely controlled by the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] implemented logic for tabbing, if any.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7d571-230">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="7d571-230">See also</span></span>

- <xref:System.Windows.Interop.HwndHost>
- <xref:System.Windows.Interop.HwndSource>
- <xref:System.Windows.Interop>
- [<span data-ttu-id="7d571-231">İzlenecek yol: WPF 'te Win32 denetimi barındırma</span><span class="sxs-lookup"><span data-stu-id="7d571-231">Walkthrough: Hosting a Win32 Control in WPF</span></span>](walkthrough-hosting-a-win32-control-in-wpf.md)
- [<span data-ttu-id="7d571-232">İzlenecek yol: Win32 'de WPF Içeriğini barındırma</span><span class="sxs-lookup"><span data-stu-id="7d571-232">Walkthrough: Hosting WPF Content in Win32</span></span>](walkthrough-hosting-wpf-content-in-win32.md)
