---
title: Görsel Katmanda Tıklama Testi
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- hit testing functionality [WPF]
- visual layer [WPF], hit testing functionality
ms.assetid: b1a64b61-14be-4d75-b89a-5c67bebb2c7b
ms.openlocfilehash: a69e5922d2f66d295024149764c3836f9760b685
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64591241"
---
# <a name="hit-testing-in-the-visual-layer"></a><span data-ttu-id="e49ee-102">Görsel Katmanda Tıklama Testi</span><span class="sxs-lookup"><span data-stu-id="e49ee-102">Hit Testing in the Visual Layer</span></span>
<span data-ttu-id="e49ee-103">Bu konu, isabet testi işlevi görsel katman tarafından sağlanan genel bir bakış sağlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-103">This topic provides an overview of hit testing functionality provided by the visual layer.</span></span> <span data-ttu-id="e49ee-104">İsabet sınaması desteği sayesinde geometri veya nokta değerinin işlenmiş içeriği içinde olup olmadığını belirlemek bir <xref:System.Windows.Media.Visual>, birden çok nesne seçmek için seçim dikdörtgeninin gibi kullanıcı arabirimi davranışı uygulamak etmenize imkan sağlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-104">Hit testing support allows you to determine whether a geometry or point value falls within the rendered content of a <xref:System.Windows.Media.Visual>, allowing you to implement user interface behavior such as a selection rectangle to select multiple objects.</span></span>  

<a name="hit_testing_scenarios"></a>   
## <a name="hit-testing-scenarios"></a><span data-ttu-id="e49ee-105">İsabet sınaması senaryoları</span><span class="sxs-lookup"><span data-stu-id="e49ee-105">Hit Testing Scenarios</span></span>  
 <span data-ttu-id="e49ee-106"><xref:System.Windows.UIElement> Sağlar sınıfını <xref:System.Windows.UIElement.InputHitTest%2A> isabet sınaması bir belirtilen koordinat değeri kullanarak bir öğe olanak tanıyan yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-106">The <xref:System.Windows.UIElement> class provides the <xref:System.Windows.UIElement.InputHitTest%2A> method, which allows you to hit test against an element using a given coordinate value.</span></span> <span data-ttu-id="e49ee-107">Çoğu durumda, <xref:System.Windows.UIElement.InputHitTest%2A> yöntemi uygulamak için isabet sınaması öğeleri istenen işlevselliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-107">In many cases, the <xref:System.Windows.UIElement.InputHitTest%2A> method provides the desired functionality for implementing hit testing of elements.</span></span> <span data-ttu-id="e49ee-108">Ancak, görsel katmanda isabet sınaması uygulamak gerekebilir çeşitli senaryolar vardır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-108">However, there are several scenarios in which you may need to implement hit testing at the visual layer.</span></span>  
  
- <span data-ttu-id="e49ee-109">İsabet sınaması olmayan<xref:System.Windows.UIElement> nesneler: Test olmayan isabet durumunda geçerlidir<xref:System.Windows.UIElement> gibi nesneleri <xref:System.Windows.Media.DrawingVisual> veya grafik nesneleri.</span><span class="sxs-lookup"><span data-stu-id="e49ee-109">Hit testing against non-<xref:System.Windows.UIElement> objects: This applies if you are hit testing non-<xref:System.Windows.UIElement> objects, such as <xref:System.Windows.Media.DrawingVisual> or graphics objects.</span></span>  
  
- <span data-ttu-id="e49ee-110">İsabet sınaması bir geometri kullanarak: İsabet sınaması bir noktanın koordinat değeri yerine geometri nesnesi gerekiyorsa bu geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-110">Hit testing using a geometry: This applies if you need to hit test using a geometry object rather than the coordinate value of a point.</span></span>  
  
- <span data-ttu-id="e49ee-111">Birden çok nesne için isabet sınaması: İsabet testi nesneleri çakışan gibi birden çok nesneyi karşı gerektiğinde bu geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-111">Hit testing against multiple objects: This applies when you need to hit test against multiple objects, such as overlapping objects.</span></span> <span data-ttu-id="e49ee-112">Geometri veya noktası, yalnızca ilki kesişen tüm görseller için sonuçlar alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-112">You can get results for all visuals intersecting a geometry or point, not just the first one.</span></span>  
  
- <span data-ttu-id="e49ee-113">Yoksayma <xref:System.Windows.UIElement> isabet sınaması İlkesi: Yok saymak gerektiğinde bu geçerlidir <xref:System.Windows.UIElement> isabet sınaması bir öğe devre dışı olup olmadığını veya görünmez gibi Etkenler dikkate alan ilkesi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-113">Ignoring <xref:System.Windows.UIElement> hit testing policy: This applies when you need to ignore the <xref:System.Windows.UIElement> hit testing policy, which takes into consideration such factors as whether an element is disabled or invisible.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e49ee-114">Görsel katmanda test isabet gösteren tam bir kod örneği için bkz: [isabet sınaması örneği kullanarak Test isabet](https://go.microsoft.com/fwlink/?LinkID=159994) ve [Win32 birlikte çalışması örnek ile isabet sınaması](https://go.microsoft.com/fwlink/?LinkID=159995).</span><span class="sxs-lookup"><span data-stu-id="e49ee-114">For a complete code sample illustrating hit testing at the visual layer, see [Hit Test Using DrawingVisuals Sample](https://go.microsoft.com/fwlink/?LinkID=159994) and [Hit Test with Win32 Interoperation Sample](https://go.microsoft.com/fwlink/?LinkID=159995).</span></span>  
  
<a name="hit_testing_support"></a>   
## <a name="hit-testing-support"></a><span data-ttu-id="e49ee-115">İsabet sınaması desteği</span><span class="sxs-lookup"><span data-stu-id="e49ee-115">Hit Testing Support</span></span>  
 <span data-ttu-id="e49ee-116">Amacı <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemleri <xref:System.Windows.Media.VisualTreeHelper> sınıfı, geometri veya nokta bir koordinat değeri işlenen içeriğinin bir denetim veya grafik öğesi gibi belirli bir nesne içinde olup olmadığını belirlemek için.</span><span class="sxs-lookup"><span data-stu-id="e49ee-116">The purpose of the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> methods in the <xref:System.Windows.Media.VisualTreeHelper> class is to determine whether a geometry or point coordinate value is within the rendered content of a given object, such as a control or graphic element.</span></span> <span data-ttu-id="e49ee-117">Örneğin, bir nesnenin sınırlayıcı dikdörtgeni içinde bir fare tıklaması geometrisini bir daire içinde olup olmadığını belirlemek için isabet sınaması kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-117">For example, you could use hit testing to determine whether a mouse click within the bounding rectangle of an object falls within the geometry of a circle.</span></span> <span data-ttu-id="e49ee-118">Varsayılan uygulama, kendi özel isabet sınaması hesaplamalar gerçekleştirmek için isabet testi geçersiz kılmayı seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-118">You can also choose to override the default implementation of hit testing to perform your own custom hit test calculations.</span></span>  
  
 <span data-ttu-id="e49ee-119">Aşağıdaki çizim bir dikdörtgen olmayan nesnenin bölge ve onun sınırlayıcı dikdörtgeni arasındaki ilişkiyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-119">The following illustration shows the relationship between a non-rectangular object's region and its bounding rectangle.</span></span>  
  
 <span data-ttu-id="e49ee-120">![Geçerli isabet sınaması bölge diyagramı](./media/wcpsdk-mmgraphics-visuals-hittest-1.png "wcpsdk_mmgraphics_visuals_hittest_1")</span><span class="sxs-lookup"><span data-stu-id="e49ee-120">![Diagram of valid hit test region](./media/wcpsdk-mmgraphics-visuals-hittest-1.png "wcpsdk_mmgraphics_visuals_hittest_1")</span></span>  
<span data-ttu-id="e49ee-121">Geçerli isabet sınaması bölge diyagramı</span><span class="sxs-lookup"><span data-stu-id="e49ee-121">Diagram of valid hit test region</span></span>  
  
<a name="hit_testing_and_z-order"></a>   
## <a name="hit-testing-and-z-order"></a><span data-ttu-id="e49ee-122">İsabet sınaması ve Z düzeni</span><span class="sxs-lookup"><span data-stu-id="e49ee-122">Hit Testing and Z-Order</span></span>  
 <span data-ttu-id="e49ee-123">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] Görsel katman destekleyen bir nokta veya geometri, yalnızca en üstteki nesnesini altındaki tüm nesneleri için isabet sınaması.</span><span class="sxs-lookup"><span data-stu-id="e49ee-123">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] visual layer supports hit testing against all objects under a point or geometry, not just the top-most object.</span></span> <span data-ttu-id="e49ee-124">Sonuçları z düzeninde döndürülür.</span><span class="sxs-lookup"><span data-stu-id="e49ee-124">Results are returned in z-order.</span></span> <span data-ttu-id="e49ee-125">Ancak, parametre olarak geçen görsel nesne <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemi hangi bölümünün belirler, isabet görsel ağacını test.</span><span class="sxs-lookup"><span data-stu-id="e49ee-125">However, the visual object that you pass as the parameter to the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method determines which portion of the visual tree that will be hit test.</span></span> <span data-ttu-id="e49ee-126">İsabet sınaması görsel ağacın tamamı ya da bunu.</span><span class="sxs-lookup"><span data-stu-id="e49ee-126">You can hit test against the entire visual tree, or any portion of it.</span></span>  
  
 <span data-ttu-id="e49ee-127">Aşağıdaki çizimde, kare ve üçgen nesneler üzerinde daire nesnedir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-127">In the following illustration, the circle object is on top of both the square and triangle objects.</span></span> <span data-ttu-id="e49ee-128">Yalnızca en üst z düzenini değeri olan visual nesne ilgileniyorsanız, döndürülecek görsel isabet sınaması sabit ayarlayabilirsiniz <xref:System.Windows.Media.HitTestResultBehavior.Stop> gelen <xref:System.Windows.Media.HitTestResultCallback> isabet sınaması geçişi ilk öğeden sonra durdurmak için.</span><span class="sxs-lookup"><span data-stu-id="e49ee-128">If you are only interested in hit testing the visual object whose z-order value is top-most, you can set the visual hit test enumeration to return <xref:System.Windows.Media.HitTestResultBehavior.Stop> from the <xref:System.Windows.Media.HitTestResultCallback> to stop the hit test traversal after the first item.</span></span>  
  
 <span data-ttu-id="e49ee-129">![Z diyagramı&#45;görsel ağacı sırasını](./media/wcpsdk-mmgraphics-visuals-hittest-2.png "wcpsdk_mmgraphics_visuals_hittest_2")</span><span class="sxs-lookup"><span data-stu-id="e49ee-129">![Diagram of the z&#45;order of a visual tree](./media/wcpsdk-mmgraphics-visuals-hittest-2.png "wcpsdk_mmgraphics_visuals_hittest_2")</span></span>  
<span data-ttu-id="e49ee-130">Z düzenini görsel ağacın diyagramı</span><span class="sxs-lookup"><span data-stu-id="e49ee-130">Diagram of the z-order of a visual tree</span></span>  
  
 <span data-ttu-id="e49ee-131">Tüm görsel nesneler belirli bir nokta veya geometri altında listeleme istiyorsanız, iade <xref:System.Windows.Media.HitTestResultBehavior.Continue> gelen <xref:System.Windows.Media.HitTestResultCallback>.</span><span class="sxs-lookup"><span data-stu-id="e49ee-131">If you want to enumerate all visual objects under a specific point or geometry, return <xref:System.Windows.Media.HitTestResultBehavior.Continue> from the <xref:System.Windows.Media.HitTestResultCallback>.</span></span> <span data-ttu-id="e49ee-132">Bu tamamen engellediği bile test diğer nesneler, görsel nesneler için isabet anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-132">This means you can hit test for visual objects that are beneath other objects, even if they are wholly obscured.</span></span> <span data-ttu-id="e49ee-133">Örnek kod ' % s'bölümünde "Kullanarak bir isabet sınaması geri aramalarını" daha fazla bilgi için bkz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-133">See the sample code in the section "Using a Hit Test Results Callback" for more information.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e49ee-134">Saydam bir görsel nesneyi de ulaşmasını test edin.</span><span class="sxs-lookup"><span data-stu-id="e49ee-134">A visual object that is transparent can also be hit test.</span></span>  
  
<a name="using_default_hit_testing"></a>   
## <a name="using-default-hit-testing"></a><span data-ttu-id="e49ee-135">Varsayılan olarak kullanan tıklama testi</span><span class="sxs-lookup"><span data-stu-id="e49ee-135">Using Default Hit Testing</span></span>  
 <span data-ttu-id="e49ee-136">Bir noktayı kullanarak görsel bir nesnenin geometrisini içinde olup olmadığını belirleyebilir <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> görsel bir nesne ve bir nokta koordine karşı test etmek için bir değer belirtmek için yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-136">You can identify whether a point is within the geometry of a visual object, by using the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method to specify a visual object and a point coordinate value to test against.</span></span> <span data-ttu-id="e49ee-137">Görsel ağaç isabet sınaması arama için başlangıç noktası visual nesne parametresi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-137">The visual object parameter identifies the starting point in the visual tree for the hit test search.</span></span> <span data-ttu-id="e49ee-138">Bir görsel nesneyi geometrisi koordinat içeren görsel ağaçta bulunursa ayarlanmış <xref:System.Windows.Media.HitTestResult.VisualHit%2A> özelliği bir <xref:System.Windows.Media.HitTestResult> nesne.</span><span class="sxs-lookup"><span data-stu-id="e49ee-138">If a visual object is found in the visual tree whose geometry contains the coordinate, it is set to the <xref:System.Windows.Media.HitTestResult.VisualHit%2A> property of a <xref:System.Windows.Media.HitTestResult> object.</span></span> <span data-ttu-id="e49ee-139"><xref:System.Windows.Media.HitTestResult> Öğesinden sonra döndürülen <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-139">The <xref:System.Windows.Media.HitTestResult> is then returned from the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method.</span></span> <span data-ttu-id="e49ee-140">Eğer isabet sınaması, görsel alt ağacı noktası bulunmuyorsa <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> döndürür `null`.</span><span class="sxs-lookup"><span data-stu-id="e49ee-140">If the point is not contained with the visual sub-tree you are hit testing, <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> returns `null`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e49ee-141">Varsayılan isabet sınaması her zaman z düzeninde en üstteki nesnesini döndürür.</span><span class="sxs-lookup"><span data-stu-id="e49ee-141">Default hit testing always returns the top-most object in the z-order.</span></span> <span data-ttu-id="e49ee-142">Kısmen veya tamamen görünmeyebilir, bu da tüm visual nesneleri tanımlamak için isabet testi sonucu olan bir geri çağırma kullanın.</span><span class="sxs-lookup"><span data-stu-id="e49ee-142">In order to identify all visual objects, even those that may be partly or wholly obscured, use a hit test result callback.</span></span>  
  
 <span data-ttu-id="e49ee-143">Nokta parametresi için geçirdiğiniz koordinat değeri <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> koordinat isabet sınaması bir görsel nesneyi göreli olarak yöntemi vardır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-143">The coordinate value you pass as the point parameter for the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method has to be relative to the coordinate space of the visual object you are hit testing against.</span></span> <span data-ttu-id="e49ee-144">İç içe gibi görsel nesneler tanımlanmaz (100, 100) üst öğenin koordinat alanda ardından isabet sınaması alt (0, 0) isabet sınaması sırasında eşdeğerdir (100, 100), üst öğenin koordinat.</span><span class="sxs-lookup"><span data-stu-id="e49ee-144">For example, if you have nested visual objects defined at (100, 100) in the parent's coordinate space, then hit testing a child visual at (0, 0) is equivalent to hit testing at (100, 100) in the parent's coordinate space.</span></span>  
  
 <span data-ttu-id="e49ee-145">Aşağıdaki kod, fare olay işleyicilerini ayarlama işlemi gösterilmektedir bir <xref:System.Windows.UIElement> için kullanılan olaylarını yakalamak için kullanılan nesne isabet sınaması.</span><span class="sxs-lookup"><span data-stu-id="e49ee-145">The following code shows how to set up mouse event handlers for a <xref:System.Windows.UIElement> object that is used to capture events used for hit testing.</span></span>  
  
 [!code-csharp[HitTestingOverview#100](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#100)]
 [!code-vb[HitTestingOverview#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#100)]  
  
### <a name="how-the-visual-tree-affects-hit-testing"></a><span data-ttu-id="e49ee-146">Görsel ağacı nasıl etkilediğini tıklama testi</span><span class="sxs-lookup"><span data-stu-id="e49ee-146">How the Visual Tree Affects Hit Testing</span></span>  
 <span data-ttu-id="e49ee-147">Hangi nesnelerin nesneleri isabet sınaması numaralandırma sırasında döndürülür görsel ağaç başlangıç noktasını belirler.</span><span class="sxs-lookup"><span data-stu-id="e49ee-147">The starting point in the visual tree determines which objects are returned during the hit test enumeration of objects.</span></span> <span data-ttu-id="e49ee-148">İsabet sınaması istediğiniz birden fazla nesneniz varsa, ilgilendiğiniz tüm nesnelerin ortak üst görsel ağaç başlangıç noktası olarak kullanılan visual nesne olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-148">If you have multiple objects you want to hit test, the visual object used as the starting point in the visual tree must be the common ancestor of all objects of interest.</span></span> <span data-ttu-id="e49ee-149">Örneğin, düğme öğesi test etme ve aşağıdaki diyagramda görsel çizimi isabet ilginizi, başlangıç noktası görsel ağaçta üst aynı hem ayarlamak gerekir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-149">For example, if you were interested in hit testing both the button element and drawing visual in the following diagram, you would have to set the starting point in the visual tree to the common ancestor of both.</span></span> <span data-ttu-id="e49ee-150">Bu durumda, tuval düğme öğesi hem görsel çizim ortak üst öğedir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-150">In this case, the canvas element is the common ancestor of both the button element and the drawing visual.</span></span>  
  
 <span data-ttu-id="e49ee-151">![Bir görsel ağacı hiyerarşi diyagramı](./media/wcpsdk-mmgraphics-visuals-overview-01.gif "wcpsdk_mmgraphics_visuals_overview_01")</span><span class="sxs-lookup"><span data-stu-id="e49ee-151">![Diagram of a visual tree hierarchy](./media/wcpsdk-mmgraphics-visuals-overview-01.gif "wcpsdk_mmgraphics_visuals_overview_01")</span></span>  
<span data-ttu-id="e49ee-152">Bir görsel ağacı hiyerarşi diyagramı</span><span class="sxs-lookup"><span data-stu-id="e49ee-152">Diagram of a visual tree hierarchy</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e49ee-153"><xref:System.Windows.UIElement.IsHitTestVisible%2A> Özelliği alır veya ayarlar bildiren bir değer olup olmadığını bir <xref:System.Windows.UIElement>-türetilmiş nesne büyük olasılıkla döndürülmesi tıklama testi sonucu olarak, işlenen içeriğinin bazı kısımlarından.</span><span class="sxs-lookup"><span data-stu-id="e49ee-153">The <xref:System.Windows.UIElement.IsHitTestVisible%2A> property gets or sets a value that declares whether a <xref:System.Windows.UIElement>-derived object can possibly be returned as a hit test result from some portion of its rendered content.</span></span> <span data-ttu-id="e49ee-154">Bu, hangi görsel nesneler bir isabet testi katılan belirlemek için görsel ağacı seçerek değiştirmeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-154">This allows you to selectively alter the visual tree to determine which visual objects are involved in a hit test.</span></span>  
  
<a name="using_a_hit_test_result_callback"></a>   
## <a name="using-a-hit-test-result-callback"></a><span data-ttu-id="e49ee-155">İsabet testi sonucu olan bir geri arama kullanma</span><span class="sxs-lookup"><span data-stu-id="e49ee-155">Using a Hit Test Result Callback</span></span>  
 <span data-ttu-id="e49ee-156">Tüm görsel nesneler geometrisi belirtilen koordinat değeri içeren bir görsel ağaç sıralayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-156">You can enumerate all visual objects in a visual tree whose geometry contains a specified coordinate value.</span></span> <span data-ttu-id="e49ee-157">Bu, tüm görsel nesneleri tanımlamak için diğer görsel nesneler tarafından kısmen veya tamamen görünmeyebilir da sağlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-157">This allows you to identify all visual objects, even those that may be partly or wholly obscured by other visual objects.</span></span> <span data-ttu-id="e49ee-158">Bir görsel ağacı kullanımda görsel nesneler numaralandırılamadı <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemi ile bir isabet sınaması geri çağırma işlevi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-158">To enumerate visual objects in a visual tree use the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method with a hit test callback function.</span></span> <span data-ttu-id="e49ee-159">İsabet sınaması geri çağırma işlevi, belirttiğiniz koordinat değeri görsel bir nesnede bulunan sistem tarafından çağrılır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-159">The hit test callback function is called by the system when the coordinate value you specify is contained in a visual object.</span></span>  
  
 <span data-ttu-id="e49ee-160">Sonuçları numaralandırma sırasında isabet testi, görsel ağacı değiştiren herhangi bir işlem gerçekleştirmemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-160">During the hit test results enumeration, you should not perform any operation that modifies the visual tree.</span></span> <span data-ttu-id="e49ee-161">Ekleme veya bu denetlenirken bir nesne görsel ağaç'tan kaldırma beklenmeyen davranışlara neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-161">Adding or removing an object from the visual tree while it is being traversed can result in unpredictable behavior.</span></span> <span data-ttu-id="e49ee-162">Sonra görsel ağacı güvenli bir şekilde değiştirebilirsiniz <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemi döndürür.</span><span class="sxs-lookup"><span data-stu-id="e49ee-162">You can safely modify the visual tree after the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method returns.</span></span> <span data-ttu-id="e49ee-163">Bir veri yapısı gibi sağlamak isteyebilirsiniz bir <xref:System.Collections.ArrayList>isabet testi sonuçlarını numaralandırma sırasında değerlerini depolamak için.</span><span class="sxs-lookup"><span data-stu-id="e49ee-163">You may want to provide a data structure, such as an <xref:System.Collections.ArrayList>, to store values during the hit test results enumeration.</span></span>  
  
 [!code-csharp[HitTestingOverview#101](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#101)]
 [!code-vb[HitTestingOverview#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#101)]  
  
 <span data-ttu-id="e49ee-164">İsabet sınaması geri çağırma yöntemi, belirli bir görsel nesneyi görsel ağaç'üzerinde bir isabet sınaması tanımlandığında gerçekleştirdiğiniz eylemleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-164">The hit test callback method defines the actions you perform when a hit test is identified on a particular visual object in the visual tree.</span></span> <span data-ttu-id="e49ee-165">Eylemleri gerçekleştirdikten sonra dönüş bir <xref:System.Windows.Media.HitTestResultBehavior> herhangi bir görsel nesneler listelenmeye devam edilip edilmeyeceğini belirleyen bir değer.</span><span class="sxs-lookup"><span data-stu-id="e49ee-165">After you perform the actions, you return a <xref:System.Windows.Media.HitTestResultBehavior> value that determines whether to continue the enumeration of any other visual objects or not.</span></span>  
  
 [!code-csharp[HitTestingOverview#102](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#102)]
 [!code-vb[HitTestingOverview#102](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#102)]  
  
> [!NOTE]
>  <span data-ttu-id="e49ee-166">Z sırasına göre İsabet görsel nesnelerinin numaralandırması sırasıdır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-166">The order of enumeration of hit visual objects is by z-order.</span></span> <span data-ttu-id="e49ee-167">Görsel nesneyi z düzenini en üst düzeyinde numaralandırılan ilk nesnedir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-167">The visual object at the top-most z-order level is the first object enumerated.</span></span> <span data-ttu-id="e49ee-168">Numaralandırılan diğer görsel nesneler daha alt z düzenini düzeyindedir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-168">Any other visual objects enumerated are at decreasing z-order level.</span></span> <span data-ttu-id="e49ee-169">Bu sabit listesi sırası için işleme sırası görsellerin karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-169">This order of enumeration corresponds to the rendering order of the visuals.</span></span>  
  
 <span data-ttu-id="e49ee-170">Görsel nesneler sabit listesi isabet sınaması geri çağırma işlevi herhangi bir zamanda döndürerek durdurabilirsiniz <xref:System.Windows.Media.HitTestResultBehavior.Stop>.</span><span class="sxs-lookup"><span data-stu-id="e49ee-170">You can stop the enumeration of visual objects at any time in the hit test callback function by returning <xref:System.Windows.Media.HitTestResultBehavior.Stop>.</span></span>  
  
 [!code-csharp[HitTestingOverview#103](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#103)]
 [!code-vb[HitTestingOverview#103](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#103)]  
  
<a name="using_a_hit_test_filter_callback"></a>   
## <a name="using-a-hit-test-filter-callback"></a><span data-ttu-id="e49ee-171">Bir isabet sınaması filtre geri araması kullanma</span><span class="sxs-lookup"><span data-stu-id="e49ee-171">Using a Hit Test Filter Callback</span></span>  
 <span data-ttu-id="e49ee-172">İsabet testi sonuçları geçirilen nesneleri kısıtlamak için isteğe bağlı bir isabet sınaması bir filtre kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-172">You can use an optional hit test filter to restrict the objects that are passed on to the hit test results.</span></span> <span data-ttu-id="e49ee-173">Bu, isabet testi sonuçlarınızı işlemede ilgilendiğiniz değil görsel ağacı parçalarını yok saymasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-173">This allows you to ignore parts of the visual tree that you are not interested in processing in your hit test results.</span></span> <span data-ttu-id="e49ee-174">Bir isabet sınaması filtre uygulamak için bir isabet sınaması filtre geri çağırma işlevi tanımlayın ve çağırdığınızda parametre değeri olarak geçirin. <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-174">To implement a hit test filter, you define a hit test filter callback function and pass it as a parameter value when you call the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method.</span></span>  
  
 [!code-csharp[HitTestingOverview#104](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#104)]
 [!code-vb[HitTestingOverview#104](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#104)]  
  
 <span data-ttu-id="e49ee-175">İsteğe bağlı bir isabet sınaması filtre geri çağırma işlevi sağlamak istemiyorsanız, başarılı bir `null` için parametre olarak değer <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-175">If you do not want to supply the optional hit test filter callback function, pass a `null` value as its parameter for the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method.</span></span>  
  
 [!code-csharp[HitTestingOverview#105](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#105)]
 [!code-vb[HitTestingOverview#105](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#105)]  
  
 <span data-ttu-id="e49ee-176">![İsabet testi filtresini kullanarak görsel ağacı temizleme](./media/filteredvisualtree-01.png "FilteredVisualTree_01")</span><span class="sxs-lookup"><span data-stu-id="e49ee-176">![Pruning a visual tree using a hit test filter](./media/filteredvisualtree-01.png "FilteredVisualTree_01")</span></span>  
<span data-ttu-id="e49ee-177">Görsel ağacı temizleme</span><span class="sxs-lookup"><span data-stu-id="e49ee-177">Pruning a visual tree</span></span>  
  
 <span data-ttu-id="e49ee-178">İsabet testi filtre geri çağırma işlevi işlenmiş içeriği belirttiğiniz koordinatları içeren tüm Görsellere sıralamanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="e49ee-178">The hit test filter callback function allows you to enumerate through all the visuals whose rendered content contains the coordinates you specify.</span></span> <span data-ttu-id="e49ee-179">Ancak, bazı dalların, isabet test sonuçları geri çağırma işlevinizde işlemede ilgilendiğiniz değil görsel ağacı yoksay isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-179">However, you may want to ignore certain branches of the visual tree that you are not interested in processing in your hit test results callback function.</span></span> <span data-ttu-id="e49ee-180">İsabet testi filtre geri çağırma işlevi dönüş değeri, ne tür görsel nesneler numaralandırmasını eylemi gerçekleştirmesi gerektiğini belirler.</span><span class="sxs-lookup"><span data-stu-id="e49ee-180">The return value of the hit test filter callback function determines what type of action the enumeration of the visual objects should take.</span></span> <span data-ttu-id="e49ee-181">Örneğin, dönüş değeri, <xref:System.Windows.Media.HitTestFilterBehavior.ContinueSkipSelfAndChildren>, geçerli visual nesne ve alt öğelerindeki isabet testi sonuçları numaralandırmasından kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-181">For example, if you return the value, <xref:System.Windows.Media.HitTestFilterBehavior.ContinueSkipSelfAndChildren>, you can remove the current visual object and its children from the hit test results enumeration.</span></span> <span data-ttu-id="e49ee-182">Bu, isabet test sonuçları geri çağırma işlevine bu nesneler, listedeki görmeyeceğiniz anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-182">This means that the hit test results callback function will not see these objects in its enumeration.</span></span> <span data-ttu-id="e49ee-183">Görsel ağacı nesnelerin temizleme isabet testi sonuçlarını numaralandırma geçişi sırasında işleme miktarını azaltır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-183">Pruning the visual tree of objects decreases the amount of processing during the hit test results enumeration pass.</span></span> <span data-ttu-id="e49ee-184">Aşağıdaki kod örneğinde, filtre etiketleri ve bunların alt öğeleri atlar ve diğer her şey isabet testleri.</span><span class="sxs-lookup"><span data-stu-id="e49ee-184">In the following code example, the filter skips labels and their descendants and hit tests everything else.</span></span>  
  
 [!code-csharp[HitTestingOverview#106](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#106)]
 [!code-vb[HitTestingOverview#106](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#106)]  
  
> [!NOTE]
>  <span data-ttu-id="e49ee-185">İsabet testi filtre geri araması bazen burada isabet sınaması geri aramalarını çağrılmaz durumlarda çağrılır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-185">The hit test filter callback will sometimes be called in cases where the hit test results callback is not called.</span></span>  
  
<a name="overriding_default_hit_testing"></a>   
## <a name="overriding-default-hit-testing"></a><span data-ttu-id="e49ee-186">Varsayılan geçersiz kılma tıklama testi</span><span class="sxs-lookup"><span data-stu-id="e49ee-186">Overriding Default Hit Testing</span></span>  
 <span data-ttu-id="e49ee-187">Görsel bir nesnenin varsayılan isabet sınama desteğini geçersiz kılarak geçersiz kılın <xref:System.Windows.Media.Visual.HitTestCore%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="e49ee-187">You can override a visual object’s default hit testing support by overriding the <xref:System.Windows.Media.Visual.HitTestCore%2A> method.</span></span> <span data-ttu-id="e49ee-188">Bunun anlamı çağırdığınızda <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> yöntemi, geçersiz kılınan uygulamanıza <xref:System.Windows.Media.Visual.HitTestCore%2A> çağrılır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-188">This means that when you invoke the <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A> method, your overridden implementation of <xref:System.Windows.Media.Visual.HitTestCore%2A> is called.</span></span> <span data-ttu-id="e49ee-189">İsabet sınaması görsel nesnenin sınırlayıcı dikdörtgenini içinde düştüğünde görsel nesne dışında işlenmiş içeriği koordinat olsa bile, geçersiz kılınan yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="e49ee-189">Your overridden method is called when a hit test falls within the bounding rectangle of the visual object, even if the coordinate falls outside the rendered content of the visual object.</span></span>  
  
 [!code-csharp[HitTestingOverview#107](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#107)]
 [!code-vb[HitTestingOverview#107](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#107)]  
  
 <span data-ttu-id="e49ee-190">İsabet sınaması dikdörtgen hem bir görsel nesneyi işlenmiş içeriği istediğiniz zaman zamanlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-190">There may be times when you want to hit test against both the bounding rectangle and the rendered content of a visual object.</span></span> <span data-ttu-id="e49ee-191">Kullanarak `PointHitTestParameters` parametre değeri, geçersiz kılınan <xref:System.Windows.Media.Visual.HitTestCore%2A> yöntemi temel yöntemin parametre olarak <xref:System.Windows.Media.Visual.HitTestCore%2A>, görsel bir nesnenin sınırlayıcı dikdörtgenini isabet üzerinde temel eylemleri gerçekleştirin ve sonra ikinci bir isabet sınaması gerçekleştirin görsel nesnesinin içerik çizilir.</span><span class="sxs-lookup"><span data-stu-id="e49ee-191">By using the `PointHitTestParameters` parameter value in your overridden <xref:System.Windows.Media.Visual.HitTestCore%2A> method as the parameter to the base method <xref:System.Windows.Media.Visual.HitTestCore%2A>, you can perform actions based on a hit of the bounding rectangle of a visual object, and then perform a second hit test against the rendered content of the visual object.</span></span>  
  
 [!code-csharp[HitTestingOverview#108](~/samples/snippets/csharp/VS_Snippets_Wpf/HitTestingOverview/CSharp/Window1.xaml.cs#108)]
 [!code-vb[HitTestingOverview#108](~/samples/snippets/visualbasic/VS_Snippets_Wpf/HitTestingOverview/visualbasic/window1.xaml.vb#108)]  
  
## <a name="see-also"></a><span data-ttu-id="e49ee-192">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="e49ee-192">See also</span></span>

- <xref:System.Windows.Media.VisualTreeHelper.HitTest%2A>
- <xref:System.Windows.Media.HitTestResult>
- <xref:System.Windows.Media.HitTestResultCallback>
- <xref:System.Windows.Media.HitTestFilterCallback>
- <xref:System.Windows.UIElement.IsHitTestVisible%2A>
- [<span data-ttu-id="e49ee-193">İsabet sınaması örneği kullanan tıklama testi</span><span class="sxs-lookup"><span data-stu-id="e49ee-193">Hit Test Using DrawingVisuals Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=159994)
- [<span data-ttu-id="e49ee-194">İsabet testi ile Win32 birlikte çalışabilirlik örneği</span><span class="sxs-lookup"><span data-stu-id="e49ee-194">Hit Test with Win32 Interoperation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=159995)
- [<span data-ttu-id="e49ee-195">Görselde Tıklama Testi Geometrisi</span><span class="sxs-lookup"><span data-stu-id="e49ee-195">Hit Test Geometry in a Visual</span></span>](how-to-hit-test-geometry-in-a-visual.md)
- [<span data-ttu-id="e49ee-196">Win32 Konak Kapsayıcısı Kullanan Tıklama Testi</span><span class="sxs-lookup"><span data-stu-id="e49ee-196">Hit Test Using a Win32 Host Container</span></span>](how-to-hit-test-using-a-win32-host-container.md)
