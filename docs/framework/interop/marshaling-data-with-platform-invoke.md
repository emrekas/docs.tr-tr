---
title: Platform Çağırma ile Veri Sıralama
ms.date: 03/20/2019
dev_langs:
- cpp
helpviewer_keywords:
- platform invoke, marshaling data
- data marshaling, platform invoke
- marshaling, platform invoke
ms.assetid: dc5c76cf-7b12-406f-b79c-d1a023ec245d
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 396dc1dec60a6a984f9ddd0b8a8753b7293a5ab9
ms.sourcegitcommit: 77854e8704b9689b73103d691db34d71c2bf1dad
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/21/2019
ms.locfileid: "58307869"
---
# <a name="marshaling-data-with-platform-invoke"></a><span data-ttu-id="09248-102">Platform Çağırma ile Veri Sıralama</span><span class="sxs-lookup"><span data-stu-id="09248-102">Marshaling Data with Platform Invoke</span></span>

<span data-ttu-id="09248-103">Yönetilmeyen bir kitaplığından dışa aktarılan işlevleri çağırmak için bir .NET Framework uygulaması yönetilmeyen işlev temsil eden yönetilen kodda bir işlev prototipi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="09248-103">To call functions exported from an unmanaged library, a .NET Framework application requires a function prototype in managed code that represents the unmanaged function.</span></span> <span data-ttu-id="09248-104">Platform sağlayan bir prototip oluşturmak için doğru veri sıralamakta çağırmak, aşağıdakileri yapmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="09248-104">To create a prototype that enables platform invoke to marshal data correctly, you must do the following:</span></span>

- <span data-ttu-id="09248-105">Uygulama <xref:System.Runtime.InteropServices.DllImportAttribute> statik işlev veya yöntem yönetilen kodda özniteliği.</span><span class="sxs-lookup"><span data-stu-id="09248-105">Apply the <xref:System.Runtime.InteropServices.DllImportAttribute> attribute to the static function or method in managed code.</span></span>

- <span data-ttu-id="09248-106">Yönetilmeyen veri türleri için yönetilen veri türlerini değiştirin.</span><span class="sxs-lookup"><span data-stu-id="09248-106">Substitute managed data types for unmanaged data types.</span></span>

<span data-ttu-id="09248-107">Yönetilmeyen bir işlev ile sağlanan belgelere özniteliği, isteğe bağlı alanları ile uygulama ve yönetilmeyen türleri için yönetilen veri türlerini değiştirerek bir eşdeğer yönetilen prototip oluşturmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="09248-107">You can use the documentation supplied with an unmanaged function to construct an equivalent managed prototype by applying the attribute with its optional fields and substituting managed data types for unmanaged types.</span></span> <span data-ttu-id="09248-108">Uygulama hakkında yönergeler için **DllImportAttribute**, bkz: [yönetilmeyen DLL işlevlerini kullanma](../../../docs/framework/interop/consuming-unmanaged-dll-functions.md).</span><span class="sxs-lookup"><span data-stu-id="09248-108">For instructions about how to apply the **DllImportAttribute**, see [Consuming Unmanaged DLL Functions](../../../docs/framework/interop/consuming-unmanaged-dll-functions.md).</span></span>

<span data-ttu-id="09248-109">Bu bölümde, bağımsız değişkenleri geçirme ve yönetilmeyen kitaplıkları tarafından dışarı aktarılan İşlevler'den dönüş değerleri almak için Yönetilen işlev prototipleri oluşturma işlemini gösteren örnekleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="09248-109">This section provides samples that demonstrate how to create managed function prototypes for passing arguments to and receiving return values from functions exported by unmanaged libraries.</span></span> <span data-ttu-id="09248-110">Örnekleri de ne zaman kullanılacağını göstermek <xref:System.Runtime.InteropServices.MarshalAsAttribute> özniteliği ve <xref:System.Runtime.InteropServices.Marshal> veri açıkça sıralamakta sınıfı.</span><span class="sxs-lookup"><span data-stu-id="09248-110">The samples also demonstrate when to use the <xref:System.Runtime.InteropServices.MarshalAsAttribute> attribute and the <xref:System.Runtime.InteropServices.Marshal> class to explicitly marshal data.</span></span>

## <a name="platform-invoke-data-types"></a><span data-ttu-id="09248-111">Platform çağırma veri türleri</span><span class="sxs-lookup"><span data-stu-id="09248-111">Platform invoke data types</span></span>

<span data-ttu-id="09248-112">Aşağıdaki tablo, C stili işlevleri ve Win32 API (Wtypes.h içinde listelenmiştir) içinde kullanılan veri türlerini listeler.</span><span class="sxs-lookup"><span data-stu-id="09248-112">The following table lists data types used in the Win32 API (listed in Wtypes.h) and C-style functions.</span></span> <span data-ttu-id="09248-113">Bu veri türlerini parametreler ve dönüş değerleri işlevleri birçok yönetilmeyen kitaplıkları içerir.</span><span class="sxs-lookup"><span data-stu-id="09248-113">Many unmanaged libraries contain functions that pass these data types as parameters and return values.</span></span> <span data-ttu-id="09248-114">Üçüncü sütunda, karşılık gelen .NET Framework yerleşik değer türünde veya yönetilen kodda kullanan sınıf listeler.</span><span class="sxs-lookup"><span data-stu-id="09248-114">The third column lists the corresponding .NET Framework built-in value type or class that you use in managed code.</span></span> <span data-ttu-id="09248-115">Bazı durumlarda tabloda listelenen tür için aynı boyutta bir tür yerine kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="09248-115">In some cases, you can substitute a type of the same size for the type listed in the table.</span></span>

|<span data-ttu-id="09248-116">Yönetilmeyen tür Wtypes.h içinde</span><span class="sxs-lookup"><span data-stu-id="09248-116">Unmanaged type in Wtypes.h</span></span>|<span data-ttu-id="09248-117">Yönetilmeyen C dil türü</span><span class="sxs-lookup"><span data-stu-id="09248-117">Unmanaged C language type</span></span>|<span data-ttu-id="09248-118">Yönetilen tür adı</span><span class="sxs-lookup"><span data-stu-id="09248-118">Managed type name</span></span>|<span data-ttu-id="09248-119">Açıklama</span><span class="sxs-lookup"><span data-stu-id="09248-119">Description</span></span>|
|--------------------------------|-------------------------------|------------------------|-----------------|
|<span data-ttu-id="09248-120">**GEÇERSİZ KILMA**</span><span class="sxs-lookup"><span data-stu-id="09248-120">**VOID**</span></span>|<span data-ttu-id="09248-121">**void**</span><span class="sxs-lookup"><span data-stu-id="09248-121">**void**</span></span>|<xref:System.Void?displayProperty=nameWithType>|<span data-ttu-id="09248-122">Bir değer döndürmeyen bir işlev uygulandı.</span><span class="sxs-lookup"><span data-stu-id="09248-122">Applied to a function that does not return a value.</span></span>|
|<span data-ttu-id="09248-123">**TANITICI**</span><span class="sxs-lookup"><span data-stu-id="09248-123">**HANDLE**</span></span>|<span data-ttu-id="09248-124">**Geçersiz kılma \***</span><span class="sxs-lookup"><span data-stu-id="09248-124">**void \***</span></span>|<span data-ttu-id="09248-125"><xref:System.IntPtr?displayProperty=nameWithType> veya <xref:System.UIntPtr?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="09248-125"><xref:System.IntPtr?displayProperty=nameWithType> or <xref:System.UIntPtr?displayProperty=nameWithType></span></span>|<span data-ttu-id="09248-126">32 bit 32-bit Windows işletim sistemlerine, 64 bit Windows işletim sistemlerinde 64 bit.</span><span class="sxs-lookup"><span data-stu-id="09248-126">32 bits on 32-bit Windows operating systems, 64 bits on 64-bit Windows operating systems.</span></span>|
|<span data-ttu-id="09248-127">**BAYT**</span><span class="sxs-lookup"><span data-stu-id="09248-127">**BYTE**</span></span>|<span data-ttu-id="09248-128">**İmzasız char**</span><span class="sxs-lookup"><span data-stu-id="09248-128">**unsigned char**</span></span>|<xref:System.Byte?displayProperty=nameWithType>|<span data-ttu-id="09248-129">8 bit</span><span class="sxs-lookup"><span data-stu-id="09248-129">8 bits</span></span>|
|<span data-ttu-id="09248-130">**KISA**</span><span class="sxs-lookup"><span data-stu-id="09248-130">**SHORT**</span></span>|<span data-ttu-id="09248-131">**short**</span><span class="sxs-lookup"><span data-stu-id="09248-131">**short**</span></span>|<xref:System.Int16?displayProperty=nameWithType>|<span data-ttu-id="09248-132">16 bit</span><span class="sxs-lookup"><span data-stu-id="09248-132">16 bits</span></span>|
|<span data-ttu-id="09248-133">**WORD**</span><span class="sxs-lookup"><span data-stu-id="09248-133">**WORD**</span></span>|<span data-ttu-id="09248-134">**İmzasız short**</span><span class="sxs-lookup"><span data-stu-id="09248-134">**unsigned short**</span></span>|<xref:System.UInt16?displayProperty=nameWithType>|<span data-ttu-id="09248-135">16 bit</span><span class="sxs-lookup"><span data-stu-id="09248-135">16 bits</span></span>|
|<span data-ttu-id="09248-136">**INT**</span><span class="sxs-lookup"><span data-stu-id="09248-136">**INT**</span></span>|<span data-ttu-id="09248-137">**int**</span><span class="sxs-lookup"><span data-stu-id="09248-137">**int**</span></span>|<xref:System.Int32?displayProperty=nameWithType>|<span data-ttu-id="09248-138">32 bit</span><span class="sxs-lookup"><span data-stu-id="09248-138">32 bits</span></span>|
|<span data-ttu-id="09248-139">**UINT**</span><span class="sxs-lookup"><span data-stu-id="09248-139">**UINT**</span></span>|<span data-ttu-id="09248-140">**işaretsiz int**</span><span class="sxs-lookup"><span data-stu-id="09248-140">**unsigned int**</span></span>|<xref:System.UInt32?displayProperty=nameWithType>|<span data-ttu-id="09248-141">32 bit</span><span class="sxs-lookup"><span data-stu-id="09248-141">32 bits</span></span>|
|<span data-ttu-id="09248-142">**UZUN**</span><span class="sxs-lookup"><span data-stu-id="09248-142">**LONG**</span></span>|<span data-ttu-id="09248-143">**long**</span><span class="sxs-lookup"><span data-stu-id="09248-143">**long**</span></span>|<xref:System.Int32?displayProperty=nameWithType>|<span data-ttu-id="09248-144">32 bit</span><span class="sxs-lookup"><span data-stu-id="09248-144">32 bits</span></span>|
|<span data-ttu-id="09248-145">**BOOL**</span><span class="sxs-lookup"><span data-stu-id="09248-145">**BOOL**</span></span>|<span data-ttu-id="09248-146">**long**</span><span class="sxs-lookup"><span data-stu-id="09248-146">**long**</span></span>|<span data-ttu-id="09248-147"><xref:System.Boolean?displayProperty=nameWithType> veya <xref:System.Int32?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="09248-147"><xref:System.Boolean?displayProperty=nameWithType> or <xref:System.Int32?displayProperty=nameWithType></span></span>|<span data-ttu-id="09248-148">32 bit</span><span class="sxs-lookup"><span data-stu-id="09248-148">32 bits</span></span>|
|<span data-ttu-id="09248-149">**DWORD**</span><span class="sxs-lookup"><span data-stu-id="09248-149">**DWORD**</span></span>|<span data-ttu-id="09248-150">**İmzasız long**</span><span class="sxs-lookup"><span data-stu-id="09248-150">**unsigned long**</span></span>|<xref:System.UInt32?displayProperty=nameWithType>|<span data-ttu-id="09248-151">32 bit</span><span class="sxs-lookup"><span data-stu-id="09248-151">32 bits</span></span>|
|<span data-ttu-id="09248-152">**ULONG**</span><span class="sxs-lookup"><span data-stu-id="09248-152">**ULONG**</span></span>|<span data-ttu-id="09248-153">**İmzasız long**</span><span class="sxs-lookup"><span data-stu-id="09248-153">**unsigned long**</span></span>|<xref:System.UInt32?displayProperty=nameWithType>|<span data-ttu-id="09248-154">32 bit</span><span class="sxs-lookup"><span data-stu-id="09248-154">32 bits</span></span>|
|<span data-ttu-id="09248-155">**CHAR**</span><span class="sxs-lookup"><span data-stu-id="09248-155">**CHAR**</span></span>|<span data-ttu-id="09248-156">**char**</span><span class="sxs-lookup"><span data-stu-id="09248-156">**char**</span></span>|<xref:System.Char?displayProperty=nameWithType>|<span data-ttu-id="09248-157">ANSI ile işaretleme.</span><span class="sxs-lookup"><span data-stu-id="09248-157">Decorate with ANSI.</span></span>|
|<span data-ttu-id="09248-158">**WCHAR**</span><span class="sxs-lookup"><span data-stu-id="09248-158">**WCHAR**</span></span>|<span data-ttu-id="09248-159">**wchar_t**</span><span class="sxs-lookup"><span data-stu-id="09248-159">**wchar_t**</span></span>|<xref:System.Char?displayProperty=nameWithType>|<span data-ttu-id="09248-160">Unicode süslemek.</span><span class="sxs-lookup"><span data-stu-id="09248-160">Decorate with Unicode.</span></span>|
|<span data-ttu-id="09248-161">**LPSTR**</span><span class="sxs-lookup"><span data-stu-id="09248-161">**LPSTR**</span></span>|<span data-ttu-id="09248-162">**Char &ast;**</span><span class="sxs-lookup"><span data-stu-id="09248-162">**char &ast;**</span></span>|<span data-ttu-id="09248-163"><xref:System.String?displayProperty=nameWithType> veya <xref:System.Text.StringBuilder?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="09248-163"><xref:System.String?displayProperty=nameWithType> or <xref:System.Text.StringBuilder?displayProperty=nameWithType></span></span>|<span data-ttu-id="09248-164">ANSI ile işaretleme.</span><span class="sxs-lookup"><span data-stu-id="09248-164">Decorate with ANSI.</span></span>|
|<span data-ttu-id="09248-165">**LPCSTR**</span><span class="sxs-lookup"><span data-stu-id="09248-165">**LPCSTR**</span></span>|<span data-ttu-id="09248-166">**const char &ast;**</span><span class="sxs-lookup"><span data-stu-id="09248-166">**const char &ast;**</span></span>|<span data-ttu-id="09248-167"><xref:System.String?displayProperty=nameWithType> veya <xref:System.Text.StringBuilder?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="09248-167"><xref:System.String?displayProperty=nameWithType> or <xref:System.Text.StringBuilder?displayProperty=nameWithType></span></span>|<span data-ttu-id="09248-168">ANSI ile işaretleme.</span><span class="sxs-lookup"><span data-stu-id="09248-168">Decorate with ANSI.</span></span>|
|<span data-ttu-id="09248-169">**LPWSTR**</span><span class="sxs-lookup"><span data-stu-id="09248-169">**LPWSTR**</span></span>|<span data-ttu-id="09248-170">**wchar_t &ast;**</span><span class="sxs-lookup"><span data-stu-id="09248-170">**wchar_t &ast;**</span></span>|<span data-ttu-id="09248-171"><xref:System.String?displayProperty=nameWithType> veya <xref:System.Text.StringBuilder?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="09248-171"><xref:System.String?displayProperty=nameWithType> or <xref:System.Text.StringBuilder?displayProperty=nameWithType></span></span>|<span data-ttu-id="09248-172">Unicode süslemek.</span><span class="sxs-lookup"><span data-stu-id="09248-172">Decorate with Unicode.</span></span>|
|<span data-ttu-id="09248-173">**LPCWSTR**</span><span class="sxs-lookup"><span data-stu-id="09248-173">**LPCWSTR**</span></span>|<span data-ttu-id="09248-174">**wchar_t const &ast;**</span><span class="sxs-lookup"><span data-stu-id="09248-174">**const wchar_t &ast;**</span></span>|<span data-ttu-id="09248-175"><xref:System.String?displayProperty=nameWithType> veya <xref:System.Text.StringBuilder?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="09248-175"><xref:System.String?displayProperty=nameWithType> or <xref:System.Text.StringBuilder?displayProperty=nameWithType></span></span>|<span data-ttu-id="09248-176">Unicode süslemek.</span><span class="sxs-lookup"><span data-stu-id="09248-176">Decorate with Unicode.</span></span>|
|<span data-ttu-id="09248-177">**KAYAN NOKTA**</span><span class="sxs-lookup"><span data-stu-id="09248-177">**FLOAT**</span></span>|<span data-ttu-id="09248-178">**float**</span><span class="sxs-lookup"><span data-stu-id="09248-178">**float**</span></span>|<xref:System.Single?displayProperty=nameWithType>|<span data-ttu-id="09248-179">32 bit</span><span class="sxs-lookup"><span data-stu-id="09248-179">32 bits</span></span>|
|<span data-ttu-id="09248-180">**ÇİFT**</span><span class="sxs-lookup"><span data-stu-id="09248-180">**DOUBLE**</span></span>|<span data-ttu-id="09248-181">**double**</span><span class="sxs-lookup"><span data-stu-id="09248-181">**double**</span></span>|<xref:System.Double?displayProperty=nameWithType>|<span data-ttu-id="09248-182">64 bit</span><span class="sxs-lookup"><span data-stu-id="09248-182">64 bits</span></span>|

<span data-ttu-id="09248-183">Karşılık gelen türler için [!INCLUDE[vbprvblong](../../../includes/vbprvblong-md.md)], C# ve C++ için bkz: [.NET Framework sınıf kitaplığı giriş](../../../docs/standard/class-library-overview.md).</span><span class="sxs-lookup"><span data-stu-id="09248-183">For corresponding types in [!INCLUDE[vbprvblong](../../../includes/vbprvblong-md.md)], C#, and C++, see the [Introduction to the .NET Framework Class Library](../../../docs/standard/class-library-overview.md).</span></span>

## <a name="pinvokelibdll"></a><span data-ttu-id="09248-184">PinvokeLib.dll</span><span class="sxs-lookup"><span data-stu-id="09248-184">PinvokeLib.dll</span></span>

<span data-ttu-id="09248-185">Aşağıdaki kod Pinvoke.dll tarafından sağlanan kitaplık işlevleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="09248-185">The following code defines the library functions provided by Pinvoke.dll.</span></span> <span data-ttu-id="09248-186">Çok sayıda Bu bölümde çağrısında bu kitaplığı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="09248-186">Many samples described in this section call this library.</span></span>

### <a name="example"></a><span data-ttu-id="09248-187">Örnek</span><span class="sxs-lookup"><span data-stu-id="09248-187">Example</span></span>

[!code-cpp[PInvokeLib#1](../../../samples/snippets/cpp/VS_Snippets_CLR/pinvokelib/cpp/pinvokelib.cpp#1)]

[!code-cpp[PInvokeLib#2](../../../samples/snippets/cpp/VS_Snippets_CLR/pinvokelib/cpp/pinvokelib.h#2)]
