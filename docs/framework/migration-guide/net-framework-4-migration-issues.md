---
title: .NET Framework 4 geçiş sorunları
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 368d5f7fa2eec8f3526a10b4777a862e8334617c
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61871169"
---
# <a name="net-framework-4-migration-issues"></a>.NET Framework 4 geçiş sorunları

Bu konu, .NET Framework sürüm 3.5 Service Pack 1 ve .NET Framework sürüm 4 düzeltmeleri, değişiklikleri standartlara uyumluluk ve güvenlik ve değişiklikler de dahil olmak üzere, müşteri geri bildirimi doğrultusunda arasında geçiş sorunları açıklar. Bu değişikliklerin çoğu uygulamalarınızdaki programlamalarda herhangi bir değişiklik gerektirmez. Bunlar için değişiklikler gerektirebilecek, tablosunun önerilen değişiklikleri sütununa bakın.

Bu konu, şu alanlardaki dikkat çekici değişiklikleri açıklar:

* [ASP.NET ve Web](#aspnet-and-web)

* [Çekirdek](#core)

* [Veri](#data)

* [Windows Communication Foundation (WCF)](#windows-communication-foundation-wcf)

* [Windows Presentation Foundation (WPF)](#windows-presentation-foundation-wpf)

* [XML](#xml)

Bu konudaki sorunların daha üst düzey genel bakış için bkz. [.NET Framework 4 Geçiş Kılavuzu](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).

Yeni özellikler hakkında daha fazla bilgi için bkz: [.NET Framework 4'teki yenilikler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).

## <a name="aspnet-and-web"></a>ASP.NET ve Web

Ad alanları: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls>; derleme: System.Web (içinde System.Web.dll)

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Tarayıcı tanımı dosyaları** | Tarayıcı tanım dosyalarını, yeni ve güncelleştirilmiş tarayıcılar ve cihazlar hakkındaki bilgileri içerecek şekilde güncelleştirildi. Eski tarayıcılar ve cihazlar Netscape Navigator gibi kaldırılır ve yeni tarayıcılar kaldırıldı ve cihazlar gibi Google Chrome ve Apple iPhone sürümüne eklenmiştir.<br><br>Uygulamanız kaldırılmış olan tarayıcı tanımlarını birinden devralan bir özel tarayıcı tanımlarını içeriyorsa bir hata görürsünüz.<br><br><xref:System.Web.HttpBrowserCapabilities> Nesne (sayfanın tarafından sunulan `Request.Browse` özelliği) tarayıcı tanımı dosyaları tarafından yönlendirilir. Bu nedenle, ASP.NET 4'te bu nesnenin bir özelliğine erişerek döndürülen bilgileri, ASP.NET'in önceki bir sürümde döndürülen bilgilerin farklı olabilir. | Uygulamanız eski tarayıcı tanımı dosyaları kullanıyorsa, aşağıdaki klasörden kopyalayabilirsiniz:<br><br>*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\tarayıcılar*<br><br>Karşılık gelen dosyaları kopyalayın  *\\CONFIG\\tarayıcılar* ASP.NET 4 için klasör. Dosyaları kopyaladıktan sonra Çalıştır [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) komut satırı aracı. Daha fazla bilgi için [ https://www.asp.net/mobile ](/aspnet/mobile/overview) Web sitesi. |
| **ASP.NET karma sürümlerinde çalışan alt uygulamalar** | ASP.NET 4 alt ASP.NET'in önceki sürümlerinde çalışan uygulamalar, yapılandırma veya derleme hataları nedeniyle başlatmak başarısız olabilir olarak yapılandırılan uygulamalar. Oluşan belirli bir hata uygulama altında IIS 7 veya IIS 7.5 veya IIS 6.0, çalıştığına göre değişir. | Yapılandırma sistemi doğru ASP.NET 4 uygulaması tanımasını etkilenen uygulamaları için yapılandırma dosyalarını değişiklik yapabilirsiniz. Belge "ASP.NET 4 alt uygulamalar başarısız için başlangıç zaman altında ASP.NET 2.0 veya ASP.NET 3.5 uygulamaları" bölümünde gerekir, yaptığınız değişiklikler hakkında daha fazla bilgi için bkz [ASP.NET 4 bozucu değişiklikleri](/aspnet/whitepapers/aspnet4/breaking-changes) ASP.NET Web sitesinde. |
| **ClientID değişiklikleri** | Yeni `clientIDMode` ayarı ASP.NET 4'te nasıl ASP.NET oluşturur belirtmenize olanak tanır `id` HTML öğeleri için özniteliği. ASP.NET önceki sürümlerinde, varsayılan davranışı eşdeğer `AutoID` ayarıyla `clientIDMode`. Artık varsayılan ayar olan `Predictable`. Daha fazla bilgi için [ASP.NET Web sunucu denetimi tanımlayıcısı](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29). | ASP.NET 2.0 ya da ASP.NET 3.5 uygulamanızı yükseltmek için Visual Studio kullanıyorsanız, aracı .NET Framework'ün önceki sürümlerinde davranışını koruyan Web.config dosyasına bir ayarı otomatik olarak ekler. Ancak, bir uygulamayı .NET Framework 4 hedeflemek için IIS uygulama havuzunda değiştirerek yükseltirseniz, ASP.NET yeni modu varsayılan olarak kullanır. Yeni istemci kimliği modu devre dışı bırakmak için aşağıdaki ayarları Web.config dosyasına ekleyin:<br><br>`<pages clientIDMode="AutoID" />` |
| **Kod erişimi güvenliği (CAS)** | ASP.NET 2.0 ASP.NET 3.5 içinde eklenen NET özellikler, .NET Framework 1.1 ve .NET Framework 2.0 kod erişim güvenliği (CAS) modelini kullanın. Ancak, CA'ların ASP.NET 4'te uygulama önemli ölçüde overhauled olmuştur. Sonuç olarak, genel derleme önbelleğinde çalışan güvenilen kod dayanan kısmi güven ASP.NET uygulamaları, çeşitli güvenlik özel durumlarıyla başarısız olabilir. CAS ilkesini makine kapsamlı değişikliklerin kısmi güven uygulamaları da başarısız ve güvenlik özel durumlar. | Yeni kullanarak ASP.NET 1.1 ve 2.0 kısmi güven ASP.NET 4 uygulamaları davranışını döndürebilirsiniz `legacyCasModel` özniteliğini `trust` yapılandırma öğesi, aşağıdaki örnekte gösterildiği gibi:<br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br>Önemli: Eski CAS modele dönüştürme düşük güvenlik temsil edebilir.<br><br>Yeni ASP.NET 4 kod erişim güvenlik modeli hakkında daha fazla bilgi için bkz: [kod erişimi güvenliği, ASP.NET 4 uygulamaları](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)). |
| **Yapılandırma dosyaları** | ASP.NET 4 ve .NET Framework için kök yapılandırma dosyalarını (machine.config dosyasının ve kök Web.config dosyasında), ASP.NET uygulama Web.config dosyalarında bulunan ortak yapılandırma bilgilerini çoğunu içerecek şekilde güncelleştirildi 3.5. Yönetilen IIS 7 ve IIS 7.5 yapılandırma sistemi karmaşıklığı nedeniyle, IIS 7.5 ve IIS 7 altında ve ASP.NET 4 ASP.NET 3.5 uygulamalarını çalıştırmak, ASP.NET hataları veya IIS hataları neden olabilir. | ASP.NET 3.5 uygulamaları ASP.NET 4 için Visual Studio'da proje yükseltme araçları kullanarak yükseltin. Visual Studio 2010, ASP.NET 3.5 uygulamanın Web.config dosyasına ASP.NET 4 için uygun ayarları içerecek şekilde otomatik olarak değiştirir.<br><br>Ancak, .NET Framework 4 gerekmeksizin kullanarak ASP.NET 3.5 uygulamaları çalıştırabilirsiniz. Bu durumda, uygulamanın Web.config dosyasında .NET Framework 4 altında IIS 7 veya IIS 7.5 ve uygulamayı çalıştırmadan önce el ile değiştirmeniz gerekebilir. Yapmanız gereken belirli değişiklik birleşimi, hizmet paketi (SP) sürümleri dahil çalıştığınız yazılım üzerinde bağlıdır. Belge "Yapılandırma hataları ilgili için yeni ASP.NET 4 kök yapılandırma" bölümünde bu değişikliği ve şahit sorunları gidermek nasıl etkilenecek olası yazılım birleşimler hakkında daha fazla bilgi için bkz [ ASP.NET 4 bozucu değişiklikler](/aspnet/whitepapers/aspnet4/breaking-changes) ASP.NET Web sitesinde. |
| **Denetim oluşturma** | ASP.NET önceki sürümlerinde, bazı denetimler değil devre dışı bırakılamadı biçimlendirme yayılır. Varsayılan olarak, bu tür bir işaretleme, ASP.NET 4'te artık oluşturulur. İşleme değişiklikler aşağıdaki denetimlerini etkiler:<br><br>* `Image` Ve `ImageButton` artık denetimlerini işlemeye bir `border="0"` özniteliği.<br>* `BaseValidator` Ondan türetilen sınıf ve doğrulama denetimleri artık varsayılan olarak kırmızı bir metin işleme.<br>* `HtmlForm` Denetim işleme değil bir `name` özniteliği.<br>* `Table` Denetim artık işler bir `border="0"` özniteliği.<br><br>Kullanıcı girişi için tasarlanmamıştır denetimler (örneğin, `Label` denetimi) artık işleme `disabled="disabled"` özniteliği kendi `Enabled` özelliği `false` (ya da bir kapsayıcı denetimi bu ayar devralıyorsanız). | ASP.NET 2.0 ya da ASP.NET 3.5 uygulamanızı yükseltmek için Visual Studio kullanıyorsanız, aracın eski işleme koruyan Web.config dosyasında bir ayar otomatik olarak ekler. Ancak, bir uygulamayı .NET Framework 4 hedeflemek için IIS uygulama havuzunda değiştirerek yükseltirseniz, ASP.NET yeni işleme modu varsayılan olarak kullanır. Yeni işleme modu devre dışı bırakmak için aşağıdaki ayarları Web.config dosyasına ekleyin:<br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| **Olay işleyicileri varsayılan belgeler** | ASP.NET 4 işler HTML `form` öğenin `action` eşlenmiş bir varsayılan belge uzantısız bir URL'ye bir istekte bulunulduğunda bir boş dize olarak öznitelik değeri. Bir istek, ASP.NET'in önceki sürümlerinde `http://contoso.com` bir istek için Default.aspx neden olur. Bu belgede, açılış `form` etiketi aşağıdaki örnekte olduğu gibi işlenen:<br><br>`<form action="Default.aspx" />`<br><br>ASP.NET 4, bir istek `http://contoso.com` da sonuçları bir istekte Default.aspx ancak ASP.NET artık işler HTML açılış `form` etiketi aşağıdaki örnekte olduğu gibi:<br><br>`<form action="" />`<br><br>Zaman `action` özniteliktir boş bir dize IIS `DefaultDocumentModule` Default.aspx alt istek nesnesi oluşturur. Çoğu koşullar altında bu alt istek uygulama kodu için saydamdır ve Default.aspx sayfasında normal olarak çalıştırır. Ancak, yönetilen kod ve IIS 7 veya IIS 7.5 Tümleşik modu arasındaki olası bir etkileşim yönetilen .aspx sayfası çalışmayı alt istek sırasında düzgün bir şekilde durmasına neden olabilir. Aşağıdaki koşullar meydana gelirse, varsayılan bir .aspx belge alt isteğine bir hata ya da beklenmeyen davranışlara neden olur:<br><br>* Bir .aspx sayfasının tarayıcı ile gönderilen `form` öğenin `action` özniteliğini "".<br>* Form, ASP.NET ile paylaşılır.<br>* Bir yönetilen HTTP modülü gibi varlık gövdesini kısmı okur `Request.Form` veya `Request.Params`. Bu, yönetilen belleğe okumak için POST isteğinin varlık gövdesini neden olur. Sonuç olarak, varlık gövdesini artık yerel kod modüllerin IIS 7 veya IIS 7.5 Tümleşik modunda çalışan kullanılabilir.<br>* IIS `DefaultDocumentModule` nesne sonuçta çalıştırır ve bir alt istek Default.aspx belgeye oluşturur. Ancak, varlık gövdesini yönetilen kod parçasını tarafından zaten okunmuş olduğundan, hiçbir Varlık gövdesi için alt isteği göndermek kullanılabilir yoktur.<br>* HTTP ardışık düzen için bir alt istek çalıştığında handler-execute aşamasında işleyicisinin .aspx dosyaları için çalışır.<br><br>Hiçbir varlık gövdesini olduğundan, hiçbir form değişkeni ve hiçbir görünüm durumu vardır. Bu nedenle kullanılabilir bilgi yok (varsa) hangi olay harekete Geçirilmemesi gereken belirlemek .aspx sayfası için işleyici. Bunun sonucunda, etkilenen .aspx sayfasına geri gönderme olay işleyicileri hiçbiri çalıştırın. | Bu değişikliğin ardından doğabilecek sorunları gidermek için yolları hakkında daha fazla bilgi için "Olay işleyicileri olabilir değil olması değil oluşturulan bir varsayılan belge, IIS 7 veya IIS 7.5 Tümleşik modunu" belgeye bakın [ASP.NET 4 bozucu değişiklikleri](/aspnet/whitepapers/aspnet4/breaking-changes)ASP.NET Web sitesinde. |
| **Karma algoritması** | ASP.NET formları kimlik doğrulama tanımlama bilgileri gibi verilerin korunmasına yardımcı olun ve durumunu görüntülemek için şifreleme ve karma algoritmaları kullanır. Varsayılan olarak, ASP.NET 4 kullanan <xref:System.Security.Cryptography.HMACSHA256> tanımlama bilgilerini ve görünüm durumu üzerinde karma işlemler için algoritma. ASP.NET'in önceki sürümlerinde kullanılan eski <xref:System.Security.Cryptography.HMACSHA1> algoritması. | ASP.NET 2.0 ve burada forms kimlik doğrulaması tanımlama bilgileri gibi gerekir çalışmanızı .NET Framework sürümleri arasında ASP.NET 4 karıştırmak uygulamaları çalıştırırsanız, eski kullanmak için bir ASP.NET 4 Web uygulaması yapılandırma <xref:System.Security.Cryptography.HMACSHA1> aşağıdaki ayarı ekleyerek algoritması Web.config dosyası:<br><br>`<machineKey validation="SHA1" />` |
| **Internet Explorer'da denetimleri barındırma** | Web üzerinde denetimleri barındırma için daha iyi çözüm olduğundan, artık Internet Explorer'da, ana bilgisayar Windows Forms denetimleri gerçekleştirebilirsiniz. Bu nedenle, IEHost.dll ve IEExec.exe derlemeler .NET Framework'den kaldırıldı. | Web uygulamalarında özel denetimi geliştirme için aşağıdaki teknolojileri kullanabilirsiniz:<br><br>* Bir Silverlight uygulaması oluşturabilir ve bunu tarayıcı dışında çalıştıracak şekilde yapılandırın. Daha fazla bilgi için [tarayıcı dışı desteği](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).<br>*, Bir XAML tarayıcı uygulaması (XBAP) WPF özelliklerinden yararlanmak için (.NET Framework istemci makinelerinde gerektirir) oluşturabilirsiniz. Daha fazla bilgi için [WPF XAML tarayıcı uygulamalarına genel bakış](../../../docs/framework/wpf/app-development/wpf-xaml-browser-applications-overview.md). |
| **HtmlEncode ve UrlEncode yöntemleri** | `HtmlEncode` Ve `UrlEncode` yöntemlerinin <xref:System.Web.HttpUtility> ve <xref:System.Web.HttpServerUtility> sınıfları, tek tırnak işareti karakteri (') şu şekilde kodlamak için güncelleştirilmiştir:<br><br>* `HtmlEncode` Kodlar tek tırnak işareti örneklerini yöntemi `&#39;`<br>* `UrlEncode` Kodlar tek tırnak işareti örneklerini yöntemi `%27` | Kullandığınız yerler programınızın kodunu incelemek `HtmlEncode` ve `UrlEncode` yöntemleri, şifrelemede yapılan değişiklik uygulamanız etkileyecek bir değişiklik neden olmadığından emin olun. |
| **ASP.NET 2.0 uygulamaları HttpException hataları** | ASP.NET 4, IIS 6'da etkinleştirildikten sonra IIS 6 ' (', Windows Server 2003 veya Windows Server 2003 R2) üzerinde çalışan ASP.NET 2.0 uygulamaları aşağıdaki gibi hataları verebilir: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.` | * 4 ASP.NET Web sitesini çalıştırmak için gerekli değildir, ASP.NET 2.0 kullanmayı site yeniden eşleyin.<br><br>-veya-<br><br>* 4 ASP.NET Web sitesini çalıştırmak için gerekli ise, tüm alt ASP.NET 2.0 sanal dizinleri ASP.NET 2.0 için eşlenmiş başka bir Web sitesine taşıyın.<br><br>-veya-<br><br>* Uzantısız URL'leri devre dışı bırakın. Daha fazla bilgi için bkz. "ASP.NET 2.0 uygulamaları oluşturma HttpException hataları bu başvuruyu eurl.axd" belgedeki [ASP.NET 4 bozucu değişiklikleri](/aspnet/whitepapers/aspnet4/breaking-changes) ASP.NET Web sitesinde. |
| **Üyelik türü** | Bazı türleri (örneğin, <xref:System.Web.Security.MembershipProvider>) kullanılan ASP.NET üyelik taşındı System.Web.dll System.Web.ApplicationServices.dll derlemeye. Türleri türler genişletilmiş .NET Framework SKU'ları ve istemci arasında Mimari katman bağımlılıkları çözümlemek için taşındı. | ASP.NET'in önceki sürümlerden yükseltilmiş ve üyelik taşınmış türleri ASP.NET 4 projesinde kullanıldığında derlemeniz başarısız olabilir kullanan sınıf kitaplıkları. Bu durumda, bir başvuru System.Web.ApplicationServices.dll için sınıf kitaplığı projesi ekleyin. |
| **Menü denetim değişiklikleri** | Değişikliklerini <xref:System.Web.UI.WebControls.Menu> denetimi aşağıdaki davranış sonuçlanır:<br><br>* İse <xref:System.Web.UI.WebControls.MenuRenderingMode> ayarlanır `List`, veya <xref:System.Web.UI.WebControls.MenuRenderingMode> ayarlanır `Default` ve <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> ayarlanır `4.0` ya da sonraki <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> özelliğinin hiçbir etkisi.<br>* Eğer ayarlanmış olan yolun <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> ve <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> özellikleri içeren bir ters eğik çizgi (\\), görüntüleri işleme yok. (ASP.NET önceki sürümlerinde, yolun bir ters eğik çizgi içerebilir.) | * Yerine, ayarı <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> tek tek menü öğeleri için özelliğini ayarlamaya <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> veya <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> üst <xref:System.Web.UI.WebControls.Menu> denetimi.<br><br>-veya-<br><br>Ayarlama <xref:System.Web.UI.WebControls.MenuRenderingMode> için `Table`, veya <xref:System.Web.UI.WebControls.MenuRenderingMode> için `Default` ayarlayıp <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> için `3.5`. Bu ayarları neden <xref:System.Web.UI.WebControls.Menu> ASP.NET'in önceki sürümlerinde kullanılan HTML tablosu tabanlı düzeni kullanmak için denetimi.<br>* İse yolunda <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> veya <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> özelliği içeren bir ters eğik çizgi (\\), eğik çizgi karakteri (/) değiştirin. |
| **Web.config dosyasında mobil derleme** | ASP.NET önceki sürümlerinde, kök Web.config dosyasında System.Web.Mobile.dll derlemesine bir başvuru eklenmiştir `assemblies` bölümüne `system.web` / `compilation`. Performansı artırmak için bu derlemeye bir başvurusu kaldırıldı.<br><br>Not: System.Web.Mobile.dll derleme ve ASP.NET Mobil denetimleri ASP.NET 4'te dahil edilir, ancak kullanım dışıdır. | Bu derlemedeki türleri kullanmak istiyorsanız, kök Web.config dosyasında ya da bir uygulama Web.config dosyasında derlemesine bir başvuru ekleyin. |
| **Çıktı önbelleği** | ASP.NET 1. 0'da, belirtilen sayfaları kaynaklanan bir hata önbelleğe `Location="ServerAndClient"` olarak bir çıkış€ "önbellek ayarını yaymak için bir `Vary:*` HTTP yanıt üst bilgisi. Bu, hiçbir zaman sayfasını yerel olarak önbelleğe alma, istemci tarayıcıları belirten etkisini vardı. ASP.NET 1.1 içinde <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> yöntemi eklendi, hangi engellemek için çağrılabilir `Vary:*` başlığı. Ancak, hata raporları geliştiriciler mevcut farkında önerin `SetOmitVaryStar` davranışı.<br><br>ASP.NET 4'te `Vary:*` HTTP üstbilgisi artık aşağıdaki yönerge belirttiğiniz alınan yanıtları yayılan:<br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br>Sonuç olarak, <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> engellemek için artık yöntemi gerekli `Vary:*` başlığı. "ServerAndClient" belirtme uygulamalarda `Location` özniteliği sayfaları olacaktır, çağıran gerektirmeden tarayıcıda önbelleğe <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>. | Uygulama sayfaları yaymalıdır varsa `Vary:*`, çağrı <xref:System.Web.HttpResponse.AppendHeader%2A> aşağıdaki örnekte gösterildiği gibi yöntemi:<br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br>Alternatif olarak, çıktı önbelleği değerini değiştirebilirsiniz `Location` "Sunucuya" özniteliği. |
| **Ayrıştırma sayfası** | Sayfa için ASP.NET Web sayfaları (.aspx dosyaları) ve kullanıcı denetimi (.ascx dosyaları), ASP.NET 4'ten daha sıkı ASP.NET'in önceki sürümlerinde ayrıştırıcısıdır ve daha fazla biçimlendirme önceki sürümlerde daha geçersiz olarak işaretler. | Bir sayfa çalıştığında üretilen hata iletileri inceleyin ve geçersiz biçimlendirmeden neden olan hataları düzeltin. |
| **Passport türleri** | ASP.NET 2.0 ile oluşturulmuş Passport desteği artık kullanılmıyor ve Passport (Live ID artık SDK) değişiklikleri nedeniyle desteklenmiyor. Passport türleri sonuç olarak, ilgili <xref:System.Web.Security> artık ile işaretlenmiş `ObsoleteAttribute` özniteliği. | Passport türleri kullanan sahip olduğunuz herhangi bir kod değişikliği <xref:System.Web.Security> ad alanı (örneğin, <xref:System.Web.Security.PassportIdentity>) kullanmak için [SDK](https://go.microsoft.com/fwlink/?LinkId=106346). |
| **FilePath özelliği PATHINFO bilgileri** | ASP.NET 4 artık içerir `PathInfo` dönüş değerindeki özelliklerinden gibi değerler <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, ve <xref:System.Web.HttpRequest.CurrentExecutionFilePath>. Bunun yerine, `PathInfo` bilgi sağlanmıştır <xref:System.Web.HttpRequest.PathInfo>. Örneğin, aşağıdaki URL parçası belirtmesini düşünün:<br><br>`/testapp/Action.mvc/SomeAction`<br><br>Önceki sürümlerde, ASP.NET'in <xref:System.Web.HttpRequest> özellikleri, aşağıdaki değerlere sahip:<br><br>* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`<br>* <xref:System.Web.HttpRequest.PathInfo>: (boş)<br><br>ASP.NET 4'te <xref:System.Web.HttpRequest> özellikleri, bunun yerine aşağıdaki değerlere sahip:<br><br>* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`<br>* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction` | Özellikleri üzerinde güveniyor olduğu yerleri programınızın kodunu incelemek <xref:System.Web.HttpRequest> yol bilgileri döndürmek için sınıf; kodu nasıl yol bilgisi döndürülür, değişiklikleri yansıtacak şekilde değiştirin. |
| **İsteği doğrulama** | İstek doğrulamanın geliştirmek için ASP.NET isteği doğrulama isteği yaşam döngüsü içinde daha önce çağrılır. Sonuç olarak, .aspx dosyaları için gibi özel işleyicileri ve Web hizmeti çağrıları için istekler için istek doğrulamayı çalıştırır. Özel HTTP modülleri istek işleme ardışık çalıştırırken istek doğrulamayı da etkin olacaktır.<br><br>Bu değişikliğe bağlı olarak istekleri .aspx dosyaları dışındaki kaynaklar için istek doğrulama hatalarını fırlatabilir. İstek ardışık düzenini (örneğin, özel HTTP Modülleri) içinde çalışan özel kod, istek doğrulama hataları da fırlatabilir. | Gerekirse, yalnızca Web yapılandırma dosyasında aşağıdaki ayarı kullanarak istek doğrulamayı tetikleme .aspx sayfası olan eski davranışını geri dönebilirsiniz:<br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br>Uyarı: İçin eski davranışı geri dönerseniz, tüm kod mevcut işleyiciler, modüller ve diğer özel kod XSS saldırı vektörlerinin olabilecek güvenli olmayan HTTP girişleri denetler emin olun. |
| **Yönlendirme** | Visual Studio 2010'da bir dosya sistemi Web sitesi oluşturma ve klasör adı bir nokta (.) içeren bir klasör içinde Web sitesi ise, URL yönlendirme güvenilir bir şekilde çalışmaz. Bazı sanal yoldan bir HTTP 404 hatası döndürülür. Bu durum, Visual Studio 2010 için kök sanal dizin yanlış bir yol kullanarak Visual Studio geliştirme sunucusu başlatma kaynaklanır. | * İçinde **özellikleri** sayfa dosya tabanlı Web sitesi için değişiklik **sanal yol** özniteliğini "/".<br><br>-veya-<br><br>* Bir Web sitesi projesi yerine Web uygulama projesi oluşturun. Web Uygulama projeleri, bu sorun yoktur ve proje klasörüne bir nokta adına sahip olsa bile, URL yönlendirme çalışır.<br><br>-veya-<br><br>* Bir HTTP tabanlı Web barındırılan sitesi IIS içinde oluşturun. IIS barındırılan Web siteleri, sanal yolu de proje dosyası klasör nokta sahip olabilir. |
| **SharePoint siteleri** | Bir özel kısmi düzeyi adlı güven içeren bir SharePoint Web sitesinin alt olarak dağıtılan bir ASP.NET 4 Web sitesi çalıştırmayı denerseniz `WSS_Minimal`, aşağıdaki hatayı görürsünüz:<br><br>`Could not find permission set named 'ASP.Net'.` | Şu anda hiçbir SharePoint sürümü, ASP.NET ile uyumludur. Sonuç olarak, bir SharePoint Web sitesinin alt olarak ASP.NET 4 Web sitesi çalıştırmak çalışmamalıdır. |
| **XHTML 1.1 standartları** | Yeni Web siteleri için XHTML 1.1 uyumluluk etkinleştirmek için .NET Framework 4'te ASP.NET denetimleri XHTML 1.1 uyumlu HTML oluşturur. Bu işleme içinde Web.config dosyasında aşağıdaki seçenekleri kullanarak etkin `<system.Web>` öğesi:<br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br>Bu seçenek varsayılan olarak 4.0 ayarlanır. Visual Studio 2008'den yükselttiğiniz bir web projeleri, uyumluluk için etkin 3.5 ayarına sahip. | Yok. |

## <a name="core"></a>Çekirdek

### <a name="general-features"></a>Genel Özellikler

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **CardSpace** | Windows CardSpace artık .NET Framework eklenmiştir. ayrı olarak sağlanır. | Windows CardSpace'nden indirin [Microsoft İndirme Merkezi](https://go.microsoft.com/fwlink/?LinkId=199868). |
| **Yapılandırma dosyaları** | .NET Framework uygulama yapılandırma dosyaları nasıl eriştiğini de düzeltmeleri yapıldı. | Uygulama yapılandırma dosyanızda adlandırılmışsa *uygulama name.config*, yeniden adlandırın *uygulama name.exe.config*. Örneğin, yeniden adlandırma *MyApp.config* için *MyApp.exe.config*. |
| **C# kod derleyici** | `Compiler`, `CompilerError`, Ve `ErrorLevel` olan sınıfları <xref:Microsoft.CSharp> ad alanı artık mevcut olmayan ve kendi derleme (cscompmgd.dll) artık .NET Framework dahil edilir. | Kullanım <xref:System.CodeDom.Compiler.CodeDomProvider> sınıfı ve diğer sınıflar <xref:System.CodeDom.Compiler> ad alanı. Daha fazla bilgi için [bir CodeDOM kullanarak](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29). |
| **Barındırma** (yönetilmeyen API) | Barındırma yeteneklerini artırmak için bazı barındırma etkinleştirme API'leri kullanım dışı bırakıldı. İşlem içi yan yana yürütme özellikleri yükleyin ve .NET Framework'ün birden çok sürümü aynı işlem içinde başlatmak bir uygulama sağlar. Örneğin, eklentiler (veya bileşenleri) yük uygulamaları çalıştıracak şekilde .NET Framework 2.0 SP1'i ve .NET Framework 4 aynı işlemde temel eklentiler temel alınmıştır. Eski bileşenleri daha eski .NET Framework sürümünü kullanmaya devam edin ve yeni bileşenler yeni .NET Framework sürümünü kullanın. | Açıklanan yapılandırmaları kullanın [işlem içi yan yana yürütme](../../../docs/framework/deployment/in-process-side-by-side-execution.md). |
| **Yeni güvenlik modeli** | Kod erişimi güvenliği (CAS) ilkesi devre dışı bırakılmış ve Basitleştirilmiş bir model ile açıklandığı yerine [.NET Framework 4'teki güvenlik değişiklikleri](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29). | CAS üzerinde uygulamalarınızda bağımlıysa değişiklikleri gerekebilir. Daha fazla bilgi için [kod erişimi güvenliği ilkesi uyumluluğu ve geçiş](../../../docs/framework/misc/code-access-security-policy-compatibility-and-migration.md). |

### <a name="date-and-time"></a>Tarih ve Saat

Namespace: <xref:System>; derleme: (mscorlib.dll) içindeki mscorlib

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Gün ışığından tasarruf** | Sistem saati ile tutarlı olacak şekilde zaman özellikleri (gibi <xref:System.TimeZoneInfo.Local> ve <xref:System.DateTime.Now>) artık diğer .NET Framework veri yerine işletim sistemi kuralları Yaz Saati işlemleri için kullanın. | Yok. |
| **Biçimlendirme dizeleri** | Kültüre duyarlı biçimlendirme, desteklemek için <xref:System.TimeSpan> yapısı yeni aşırı yüklemeleri içerir `ToString`, `Parse`, ve `TryParse` yöntemleri ayrıca yeni `ParseExact` ve `TryParseExact` yöntemleri. | Yok. |

### <a name="globalization"></a>Genelleştirme

Yeni bağımsız ve özel kültürler listesi için bkz. [Genelleştirme ve yerelleştirme yenilikler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).

Namespace: <xref:System.Globalization>; derleme: (mscorlib.dll) içindeki mscorlib

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Kültür adları** | Aşağıdaki ad değişiklikleri Almanca ve Divehi Afrika kültürler etkiler:<br><br>* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Para birimi adı Almanca (Switizerland) (de-CH) için "sFr" kültürü değişti "Fr.".<br>* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Uzun tarih deseni Divehi (Maldivler) (dv MV) için kültür "gg/aa/yyyy olarak" "dd/MMMM/yyyy" değişti.<br>* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: Pasifik Gösterge Afrikaner dili (Güney Afrika) (af-ZA) kültüre "PM" için "nm" değişti. | Kültür adı değişirse unutmayın. |
| **LCID parametresi** | Otomasyon sunucusu ayarlarında Beklenen davranış tutarlı olması için CLR artık geçerli kültürü geçirir `LCID` yönetilmeyen COM tabanlı uygulamalar için parametre. Bunun yerine, 1033 geçirir (en-us) kültürü için. | Belirtilen bir kültürün gerektiren yerel uygulamalar hariç olmak üzere gerekli değişiklikleri yok. |
| **Geçersiz kültür türleri** | <xref:System.Globalization.CultureTypes> Ve <xref:System.Globalization.CultureTypes> kültür türleridir artık geçersiz.<br><br>Geriye dönük uyumluluk için <xref:System.Globalization.CultureTypes> artık önceki .NET Framework ile birlikte bağımsız ve özel kültürler döndürür ve <xref:System.Globalization.CultureTypes> şimdi boş bir liste döndürür. | Diğer değerleri kullanmak <xref:System.Globalization.CultureTypes> sabit listesi. |
| **Kültür alınıyor** | Windows 7'den başlayarak, .NET Framework 4 verilerin depolanması yerine işletim sisteminden kültür bilgilerini alır. Ayrıca, .NET Framework ile Windows, sıralama ve veri büyük/küçük harfleri eşitler. | Yok. |
| **Unicode 5.1 standartları** | .NET Framework, tüm Unicode 5.1 karakterleri--yaklaşık 1400 karakter ek artık desteklemektedir. Yeni semboller, oklar, Vurgu, noktalama işaretleri, matematik sembolleri, CJK strokes ve ideograflar, ek Malayalam dili ile Telugu dili sayısal karakter ve çeşitli Myanmar, Latin, Arapça, Yunanca, Moğolca ve Kiril ek karakterler içeriyor karakter. Aşağıdaki yeni komut dosyaları Unicode 5.1 ile desteklenir: Sundanese, Lepça dili, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmuki, Odia, Tamil dili, Telugu dili ve Malayalam dili karakterler ve Çam dili. | Yok. |

### <a name="exceptions"></a>Özel Durumlar

Ad alanları: <xref:System>, <xref:System.Runtime.ExceptionServices>; derleme: (mscorlib.dll) içindeki mscorlib

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Özel durumlar için bozuk işlem durumu** | CLR, yönetilen kodda özel durum işleyicilerine bozuk işlem durumu için özel durumlar artık sunar. | Bu özel durumlar, bir işlemin durumunu bozulmuş gösterir. Bu durumda, uygulamanızın çalıştığını önermiyoruz.<br><br>Daha fazla bilgi için <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> ve giriş [işleme bozuk durum özel durumları](https://go.microsoft.com/fwlink/?LinkID=179681) CLR Inside Out blogunda. |
| **Yürütme motoru özel durumu** | <xref:System.ExecutionEngineException> yakalanabilir bir özel durum çalışmaya devam etmesini kararsız bir işlem izin verir çünkü, kullanımdan kalkmıştır. Bu değişiklik, öngörülebilirlik ve çalışma zamanında güvenilirliğini artırır. | Kullanım bir <xref:System.InvalidOperationException> koşul sinyal. |

### <a name="reflection"></a>Yansıma

Namespace: <xref:System.Reflection>; derleme: (mscorlib.dll) içindeki mscorlib

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Derleme karma algoritmaları** | <xref:System.Reflection.AssemblyName.HashAlgorithm> Özelliği şimdi döndürür <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, çalışma zamanı derleme yüklü olmadığında başvurulan derlemenin karma algoritması bilmediğinden. (Bu özellik tarafından döndürülen gibi başvurulan bir derleme üzerinde kullanarak başvurur <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> yöntemi.) | Yok. |
| **Derleme yükleme** | Önlemek için yedekli yükleme derlemelerin ve sanal adres alanı kaydetmek için CLR artık derlemeleri yalnızca Win32 kullanarak yükler `MapViewOfFile` işlevi. Artık, aynı zamanda çağrı yaptığı `LoadLibrary` işlevi.<br><br>Bu değişiklik, tanılama uygulamaları aşağıdaki şekillerde etkiler:<br><br>* A <xref:System.Diagnostics.ProcessModuleCollection> çağrısından alınan herhangi bir sınıf kitaplığı (.dll dosyası) modüllerden artık içerecek `Process.GetCurrentProcess().Modules`.<br>* Kullanan Win32 uygulamaları `EnumProcessModules` işlevi, listelenen tüm yönetilen modülleri görmezsiniz. | Yok. |
| **Tür bildirme** | <xref:System.Type.DeclaringType> Özelliği artık doğru bir şekilde döndürür null türü bir bildirim türü olmadığında. | Yok. |
| **Temsilciler** | Artık bir temsilci oluşturur bir <xref:System.ArgumentNullException> yerine bir <xref:System.NullReferenceException> bir null değer temsilcinin oluşturucuya geçirilen zaman. | İşleme Özek durumları yakalayan özel emin <xref:System.ArgumentNullException>. |
| **Genel Derleme Önbelleği konumu değiştirme** | .NET Framework 4 derlemeleri için Genel Derleme Önbelleği (% WINDIR %) Windows dizinden taşındı. Microsoft.Net alt (*% WINDIR %\\Microsoft.Net*). Derlemeleri önceki sürümlerinden daha eski dizinde kalır.<br><br>Yönetilmeyen [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) sabit listesi içeren yeni `ASM_CACHE_ROOT_EX` bayrağı. Bu bayrağı tarafından alınabilen .NET Framework 4 derlemeleri için Önbellek konumunu alır [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) işlevi. | None, uygulamaları açık yollara derlemeleri, önerilen bir yöntem değil kullanmamanız varsayılıyor. |
| **Genel Derleme Önbelleği Aracı** | [Gacutil.exe (Genel Derleme Önbelleği Aracı)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) artık Kabuk eklentisi Görüntüleyicisi'ni destekler. | Yok. |

### <a name="interoperability"></a>Birlikte Çalışabilirlik

Namespace: <xref:System.Runtime.InteropServices>; derleme: (mscorlib.dll) içindeki mscorlib

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Arabellek uzunluğu** (yönetilmeyen API) | Bellek için işlevsellik kaydetmek için `pBufferLengthOffset` parametresi için [Icorprofilerınfo2::getstringlayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) yöntemi eşleşecek şekilde değiştirildi `pStringLengthOffset` parametresi. Her iki parametre artık dizenin uzunluğu uzaklık konumuna işaret eder. Arabellek uzunluğu sınıfının dize temsilinden kaldırıldı. | Arabellek uzunluğu olan bağımlılıkları kaldırın. |
| **JIT hata ayıklama** | Just-ın-time (JIT) hata ayıklama için kayıt işlemini basitleştirmek için .NET Framework hata ayıklayıcı davranışı yerel kod için hata ayıklama JIT denetleyen yalnızca AeDebug kayıt defteri anahtarını kullanır. Bu değişiklik aşağıdaki sonuçları:<br><br>* Artık, yönetilen ve yerel kod için iki farklı hata ayıklayıcılar kaydedebilirsiniz.<br>*, Artık otomatik olarak etkileşimli olmayan bir işlem için hata ayıklayıcıyı başlatabilirsiniz, ancak kullanıcı etkileşimli bir işlem için isteyebilir.<br>* Artık başlatmak hata ayıklayıcı başarısız olduğunda veya başlatılacak kayıtlı hata ayıklayıcı olduğunda bilgilendirilirsiniz.<br>* Bağımlı uygulamanın etkileşimini üzerinde otomatik başlatma ilkeleri artık desteklenmektedir. | Hata ayıklama işlemlerini gerektiği gibi ayarlayın. |
| **Platform çağırma** | Yönetilmeyen kod ile birlikte çalışabilirlik, performansı artırmak için uygulamanın başarısız olmasına neden şimdi Platform yanlış çağırma kuralları çağırır. Önceki sürümlerde, bu hataları yığınına hazırlama katman çözüldü. | Bunları düzeltmek için Microsoft Visual Studio, uygulamalarınızda hata ayıklama için bu hataları uyarır.<br><br>Güncelleştirilemeyen ikili dosyalar varsa, dahil edebileceğiniz [ \<Netfx40_pınvokestackresilience >](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) yığınına olarak çözülmesi için arama hataları etkinleştirmek için uygulamanızın yapılandırma dosyasında öğesi önceki sürümleri. Ancak, bu uygulamanızın performansını etkileyebilir. |
| **Arabirimleri kaldırıldı** (yönetilmeyen API) | Geliştirici Karışıklığı önlemek için aşağıdaki arabirimlerinden, kullanışlı bir çalışma zamanı senaryoları sağlamadı ve CLR sağlamaz veya belirtilmesinden kabul kaldırıldı:<br><br>* **INativeImageINativeImageDependency**<br>* **INativeImageInstallInfo**<br>* **INativeImageEvaluate**<br>* **INativeImageConverter**<br>* **ICorModule**<br>* **IMetaDataConverter** | Yok. |

## <a name="data"></a>Veri

Bu bölümde, veri kümeleri ve SQL istemcilerinin, Entity Framework, LINQ to SQL ve WCF veri (eski adıyla ADO.NET Data Services da bilinir) sunucuları için geçiş sorunları açıklar.

### <a name="dataset-and-sql-client"></a>Veri kümesi ve SQL istemcisi

Aşağıdaki tabloda sınırlamaları veya diğer sorunlar vardı özelliklerinde geliştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient>; derlemeleri: System.Data (içinde System.Data.dll), (içinde System.Data.Entity.dll) System.Data.Entity

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **POCO senaryoları** | <xref:System.Data.Objects.DataClasses.IRelatedEnd> Arabirimi düz eski CLR nesnesi (POCO) senaryolarında kullanılabilirliğini artırmak için yeni yöntemler vardır. Bu yeni yöntemleri ele bir <xref:System.Object> yerine bir <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> varlık bir parametre olarak. |
| **Satırları düzenleme** | <xref:System.Collections.IList.IndexOf%2A> Tarafından uygulanan yöntem <xref:System.Data.DataView> sınıfı, artık -1 döndürmek yerine düzenleniyor bir satırın değerini doğru bir şekilde döndürür. |
| **Olaylar** | <xref:System.Data.DataRowView.PropertyChanged> Olayı bir satır değiştirilmiş bir durumda olduğunda artık oluşturulur ve <xref:System.Data.DataRow.RejectChanges%2A> yöntemi çağrılır. Bu değişiklik içeriğini kullanıma sunma UI denetimleri oluşturmak kolaylaştırır bir <xref:System.Data.DataSet> nesne. |
| **Özel Durumlar** | <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> Yöntemi şimdi oluşturur bir <xref:System.InvalidOperationException> bağlantı olmadığında ayarlayın veya yerine açık bir <xref:System.NullReferenceException>. |
| **Eşleme görünümleri** | Sorgu görünümü eşleme hataları tasarım zamanında özel durum atma yerine artık yakalanır bir <xref:System.NullReferenceException> çalışma zamanında.<br><br>Eşleme doğrulama artık iki hangi ilişkilendirmeyi kümeleri içinde kavramsal şema (CSDL) aynı sütuna eşlenmiş hata yakalar. |
| **İşlemler** | (İptal edilmiş ya da toplu geri), bir işlem tamamlandıktan sonra bir bağlantıda bir deyimi yürütmek bir uygulama çalıştığında bir <xref:System.InvalidOperationException> artık oluşturulur. Önceki sürümler değil bir özel durum ve bir işlem iptal edildi olsa bile ek komutlar yürütmek olanak verir. |

### <a name="entity-framework"></a>Varlık Çerçevesi

Aşağıdaki tabloda sınırlamaları veya diğer sorunlar vardı özelliklerinde geliştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses>; derleme: System.Data.Entity (içinde System.Data.Entity.dll)

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık nesnesi** | Artık arasındaki eşlik olan <xref:System.Data.Objects.ObjectContext.Detach%2A> yöntemi ve varlık nesnenin durumu, <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> yöntemi çağrılır. Bu geliştirilmiş tutarlılık oluşturulan öğesinden beklenmeyen özel durum engeller. |
| **Varlık SQL** | Kurallar, varlık SQL tanımlayıcısı çözümleri için geliştirilmiştir.<br><br>Çok parçalı tanımlayıcılar çözmek için mantıksal varlık SQL ayrıştırıcının geliştirdi. |
| **Yapısal ek açıklamaları** | Entity Framework, artık yapısal ek açıklamaları da tanır. |
| **Sorgular** | Sorgularda aşağıdaki geliştirmeler yapılmıştır:<br><br>* A `GroupBy` boş bir koleksiyon içinde null bir anahtar kullanarak sorgu değil döndürecektir herhangi bir satır bakılmaksızın herhangi bir ek seçer sorgu varsa.<br>* LINQ ve varlık SQL oluşturulan SQL şimdi kabul dizesi parametreleri Unicode olmayan değerler olarak varsayılan olarak sorgular. |

### <a name="linq-to-sql"></a>LINQ - SQL

Aşağıdaki tabloda sınırlamaları veya diğer sorunlar vardı özelliklerinde geliştirmeler açıklanmaktadır.

Namespace: <xref:System.Data.Linq>; derleme: System.Data.Linq (içinde System.Data.Linq.dll)

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Olaylar** | A <xref:System.Data.Linq.EntitySet%601> koleksiyonu artık harekete geçirirse <xref:System.Data.Linq.EntitySet%601.ListChanged> olay ekleme ve kaldırma işlemleri, <xref:System.Data.Linq.EntitySet%601> , koleksiyon yüklendiğinde olay oluşturma ek olarak, kaldırıldı. |
| **Sorgular** | `Skip(0)` artık LINQ to SQL sorguları göz ardı edilir. Sonuç olarak, bu yöntem sorguları farklı davranabilir. Örneğin bazı durumlarda, bir `OrderBy` yan tümcesi ile gerekli `Skip(0)`, ve sorgu artık throw bir <xref:System.NotSupportedException> özel durum, `OrderBy` yan tümcesi dahil değil. |

### <a name="wcf-data-services"></a>WCF Veri Hizmetleri

Aşağıdaki tabloda sınırlamaları veya diğer sorunlar vardı özelliklerinde geliştirmeler açıklanmaktadır.

Ad alanları: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers>; derlemeleri: System.Data.Services (içinde System.Data.Services.dll), (içinde System.Data.Services.Client.dll) System.Data.Services.Client

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Toplu ikili içerik** | WCF Veri Hizmetleri toplu ikili içerik istekleri ve yanıtları artık destekliyor. |
| **Değişiklik dinleyicileri** | Değişiklik dinleyicileri için bir silme isteği artık yürütülür.<br><br>Bir değişiklik dinleyiciyi bir istek varlık kümesindeki bir varlığı değiştirmek için sunucu tarafından alınan her başlatıldığında çalıştırılan bir yöntemdir. Gelen istek yürütülmeden önce onu çalışır. Değişiklik dinleyiciyi değiştirilirken varlık ve üzerinde gerçekleştirilen işlemin erişim sağlar. |
| **Özel Durumlar** | Aşağıdaki koşullar artık yerine daha kullanışlı özel durumlar bir <xref:System.NullReferenceException>:<br><br>* A <xref:System.ServiceProcess.TimeoutException> ne zaman bir veri hizmeti çağrısı zaman aşımına uğrar.<br>* A <xref:System.Data.Services.Client.DataServiceRequestException> hatalı istek bir veri hizmetine yapılan zaman.<br><br>Uygulamalarınız, yeni özel durumları yakalamak için özel durum işleme değiştirmeniz gerekir. |
| **Üst bilgileri** | Üst bilgiler için aşağıdaki geliştirmeler yapılmıştır:<br><br>* WCF Veri Hizmetleri artık doğru şekilde reddeder bir `eTag` belirtilmeyen bir değere sahip bir üstbilgi.<br>* WCF Veri Hizmetleri artık bir hata döndürür ve bir silme isteği için bir bağlantı isteği yürütülmüyor olduğunda bir `if-*` istekte başlığıdır.<br>* WCF Veri Hizmetleri istemci, istemci bir Accept üst bilgisinde belirtilen biçimde (Atom, JSON) artık bir hata döndürür. |
| **JSON okuyucusu** | Tek bir ters eğik çizgi okuduğunda JavaScript nesne gösterimi (JSON) okuyucu artık doğru bir şekilde bir hata döndürür ("\\") bir WCF veri hizmetine gönderilen JSON yükü işlerken kaçış karakteri. |
| **Birleştirir** | Aşağıdaki iyileştirmeler yapılmıştır <xref:System.Data.Services.Client.MergeOption> sabit listesi:<br><br>* <xref:System.Data.Services.Client.MergeOption> Birleştirme seçeneği artık sonraki herhangi bir veri hizmeti yanıtından istemci varlıkta değiştirir.<br>* <xref:System.Data.Services.Client.MergeOption> Seçeneği dinamik SQL saklı yordamı tabanlı güncelleştirmeleri arasında tutarlı sunuldu. |
| **İstekleri** | <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> Yöntemi artık veri hizmetleri için bir istek işlenmeden önce çağrılır. Bu istek için düzgün çalışması sağlar <xref:System.Data.Services.Providers.ServiceOperation> Hizmetleri. |
| **Akışları** | WCF Veri Hizmetleri artık için temel akışı kapatır okuma ve yazma işlemleri. |
| **URI'ler** | WCF Veri Hizmetleri istemci tarafından bir URI'leri kaçış düzeltildi. |

## <a name="windows-communication-foundation-wcf"></a>Windows Communication Foundation (WCF)

Aşağıdaki tabloda sınırlamaları veya diğer sorunlar vardı özelliklerinde geliştirmeler açıklanmaktadır.

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Yapılandırma dosyaları** | Yapılandırma dosyası hiyerarşisi aracılığıyla davranışların devralma etkinleştirmek için yapılandırma dosyaları arasında birleştirme WCF artık desteklemektedir.<br><br>Yapılandırma devralma modeli, bilgisayarda çalışan tüm hizmetler için uygulanacak davranışlarını tanımlamasına izin vermek için artık genişletilir.<br><br>Farklı hiyerarşi düzeylerinde aynı ada sahip davranışlar varsa davranış değişiklikleri karşılaşabilirsiniz. |
| **Barındırma hizmeti** | Artık belirtebilirsiniz `<serviceHostingEnvironment>` öznitelik ekleyerek hizmet düzeyinde yapılandırma öğesi `allowDefinition="MachineToApplication"` öğe tanımı için.<br><br>Belirtme `<serviceHostingEnvironment>` hizmet düzeyinde öğe teknik olarak yanlış ve tutarsız davranışa neden olur. |

## <a name="windows-presentation-foundation-wpf"></a>Windows Presentation Foundation (WPF)

### <a name="applications"></a>Uygulamalar

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>; derleme: PresentationFramework (içinde PresentationFramework.dll)

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Özel durum işleme** | Daha önce algılanan hataları etkinleştirmek için WPF oluşturur. bir <xref:System.Reflection.TargetInvocationException> ve ayarlar <xref:System.Exception.InnerException> özelliğini kritik özel durumlar gibi <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, ve <xref:System.Security.SecurityException>, özgün özel durum yakalama yerine. | Yok. |
| **Bağlı kaynaklar** | Uygulama oluşturulduğunda bağlama daha kolay, kaynak yapmak için projenin klasör yapısını dışında bir konumda bulunan dosyaları (örneğin, görüntüleri) kaynak dosyanın tam yolu yalnızca dosya adı yerine kaynak kimliği kullanın. Uygulama çalışma zamanında dosyalarını bulmak mümkün olacaktır. | Yok. |
| **Kısmi güven uygulamaları** | Kısmi çalışan Windows tabanlı uygulamalar için güvenlik konuları, güven ve içeren bir <xref:System.Windows.Controls.WebBrowser> denetim veya <xref:System.Windows.Controls.Frame> içeren HTML denetimi oluşturur bir <xref:System.Security.SecurityException> denetimi zaman oluşturulur.<br><br>Tarayıcı uygulamaları, bir özel durum ve aşağıdaki koşulların tümü karşılandığında bir ileti görüntüler:<br><br>* Uygulama Firefox'ta çalışıyor.<br>* Güvenilir olmayan sitelerden, kısmi güven Internet bölgesi uygulama çalışıyor.<br>* Uygulamayı içeren bir <xref:System.Windows.Controls.WebBrowser> denetim veya <xref:System.Windows.Controls.Frame> içeren HTML denetimi.<br><br>Güvenilen siteler veya intranet bölgeden çalışan uygulamalar etkilenmez unutmayın. | Aşağıdakilerden birini yaparak bu değişiklik, tarayıcı uygulamalarında kolaylaştırabilir:<br><br>* Tam güvende tarayıcı uygulamayı çalıştırın.<br>* Sahip müşteriler uygulamanın siteyi Güvenilen siteler bölgesine ekleyin.<br>* Sahip müşteriler Internet Explorer'da uygulamayı çalıştırın. |
| **Kaynak sözlükleri** | Tema düzeyinde kaynak sözlükleri geliştirmek ve bunları değiştirmesini önlemek için bir kaynak sözlüğünde tanımlanan ve birleştirilmiş bir tema düzeyinde sözlüğe freezable kaynaklar artık her zaman donuk olarak işaretlendi ve sabittir. Freezable kaynaklar için beklenen davranışı budur. | Bir tema düzey birleştirilmiş sözlükte tanımlı bir kaynağı değiştirme uygulamaları, kaynak kopyalama ve kopyaladığınız değiştirin. Alternatif olarak, kaynak işaretlenebilir `x:Shared="false"` böylece <xref:System.Windows.ResourceDictionary> kaynağı sorgulanır her seferinde yeni bir kopyasını oluşturur. |
| **Windows 7** | WPF uygulamaları Windows 7'de daha iyi çalışır hale getirmek için bir pencere davranışı düzeltmek için aşağıdaki geliştirmeler yapılmıştır:<br><br>* Dock ve durumları şimdi iş beklenen temel alınarak Kullanıcı etkileşimlerine hareket.<br>* Görev komutları **basamaklı windows, windows Yığılmış Göster**, ve **windows yan yana göster** artık doğru davranışa sahip ve uygun özelliklerini güncelleştirir.<br>* `Top`, `Left`, `Width`, Ve `Height` ekranı veya simge durumuna küçültülmüş pencerenin özellikleri penceresi İzleyici bağlı olarak diğer değerleri yerine doğru geri yükleme konumunu içerir. | Yok. |
| **Windows stili ve saydamlık** | Bir <xref:System.InvalidOperationException> ayarlamaya çalışırsanız durum <xref:System.Windows.Window.WindowStyle> dışında bir değere <xref:System.Windows.WindowStyle> olduğunda <xref:System.Windows.Window.AllowsTransparency> olduğu `true` ve <xref:System.Windows.WindowState> olduğu <xref:System.Windows.WindowState>. | Değiştirmeniz gerekiyorsa <xref:System.Windows.Window.WindowStyle> olduğunda <xref:System.Windows.Window.AllowsTransparency> olduğu `true`, Win32 çağırabilirsiniz `SetWindowLongPtr` işlevi. |
| **XPS Viewer** | WPF Microsoft XML Kağıt Belirtimi Essentials paketi (XPSEP) içermez. Windows 7 ve Windows Vista ile XPSEP dahildir.<br><br>.NET Framework 3.5 yüklü SP1 Windows XP çalıştıran bir bilgisayarda dışındaki bir WPF API'sini kullanarak yazdırma <xref:System.Windows.Controls.PrintDialog> üzerinde WINSPOOL güvenirsiniz. Bazı yazıcı özellikleri bildirilmez ve yazdırma sırasında bazı yazıcı ayarları uygulanmaz. | Gerekirse, yükleme [Microsoft XML Kağıt Belirtimi Essentials paketi](https://go.microsoft.com/fwlink/?LinkId=178895). |

### <a name="controls"></a>Denetimler

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; derlemeleri: PresentationFramework (içinde PresentationFramework.dll), (içinde PresentationCore.dll) PresentationCore WindowsBase (içinde WindowsBase.dll)

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **İletişim kutuları** | Güvenilirliği artırmak için <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> yöntemi oluşturulan aynı iş parçacığında çağrıldığında <xref:Microsoft.Win32.FileDialog> denetimi. | Oluşturduğunuzdan emin olun bir <xref:Microsoft.Win32.FileDialog> denetlemek ve çağrı <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> aynı iş parçacığında yöntem. |
| **Kayan windows** | (Bunu kalıcı bir iletişim kutusu gibi görünür yapmadan) kayan pencere yeniden etkinleştirme yanlış tutar odak geri mantıksal düzeltmek için odak geri aday penceresinin alt değilse artık engellenir. | Yok. |
| **Koleksiyon öğeleri** | Bir öğe taşınmış ya da temel alınan bir koleksiyona eklenen görünür <xref:System.Windows.Data.CollectionView> aynı göreli konumda değilse <xref:System.Windows.Data.CollectionView> sıralanmamış. Bu koleksiyondaki ve ilişkili öğenin konumu arasında tutarlılık sağlar <xref:System.Windows.Data.CollectionView>. | Kullanım <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> veya <xref:System.Windows.Data.CollectionView.IndexOf%2A> yöntemi içindeki bir öğenin konumunu bulmak üzere bir <xref:System.Windows.Data.CollectionView> sabit bir öğenin konumunu temel kalmak yerine. |
| **Düzenler** | Gereksiz re-değiştirme düzenleri, ortadan kaldırmak için <xref:System.Windows.Controls.Page.ShowsNavigationUI> artık Düzen geçersiz kılar veya başka bir düzen geçişi neden olur. | Bu değiştirme bekliyorsanız <xref:System.Windows.Controls.Page.ShowsNavigationUI> başka bir düzen neden olacak geçmek için çağrı <xref:System.Windows.UIElement.InvalidateVisual%2A> özelliği ayarlandıktan sonra. |
| **Menüler** | Menü açılır pencereleri ClearType metinde etkinleştirmek için değişiklikleri yapılan <xref:System.Windows.Controls.ControlTemplate> sınıfı ve <xref:System.Windows.Controls.MenuItem> ve diğer denetimi. | Uygulamalar, denetim şablonları visual yapısına güvenmemelisiniz. Yalnızca bölümlerini adlı bir <xref:System.Windows.Controls.ControlTemplate> genel sözleşmenin bir parçasıdır. Bir uygulama belirli bir nesneyi bulması gerekir, bir <xref:System.Windows.Controls.ControlTemplate>, sabit bir konum ağacında bir nesnenin güvenmek yerine belirli bir tür için görsel ağacı aramak. |
| **Gezinme** | Varsa bir <xref:System.Windows.Controls.Frame> doğrudan bir konuma gittiğinde <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> özelliği `true` ilk Gezinti sonra. Bu değişiklik, başlangıç senaryoları sırasında oluşturulan ek olaylar engeller. | Yok. |
| **Açılır pencereler** | <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> Temsilci artık çağrılabilir birden çok kez yalnızca bir kez yerine bir düzen geçişi sırasında. | Varsa, <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> temsilci konumunu hesaplar bir <xref:System.Windows.Controls.Primitives.Popup> önceki konumuna bağlı olarak, konum yalnızca şu durumlarda değerlerini yeniden hesaplar `popupSize`, `targetSize`, veya `offset` parametrelerini değiştirin. |
| **Özellik değerleri** | <xref:System.Windows.DependencyObject.SetCurrentValue%2A> Yöntemi artık bir özellik için geçerli bir değer, ayarlamanızı sağlar, herhangi bir bağlama, stil veya özellik etkiler tetikleyici uyar devam etse de. | Denetim yazarları kullanması gereken <xref:System.Windows.DependencyObject.SetCurrentValue%2A> kullanıcı işleme dahil olmak üzere her bir yan etkisi başka bir eylem özellik değeri değiştiğinde. |
| **Metin kutuları** | Güvenlik konuları için <xref:System.Windows.Forms.TextBoxBase.Copy%2A> ve <xref:System.Windows.Forms.TextBoxBase.Cut%2A> yöntemleri sessizce başarısız kısmi güvende çağrıldığında.<br><br>Ayrıca, programlı yürütülmesini <xref:System.Windows.Input.ApplicationCommands.Copy> veya <xref:System.Windows.Input.ApplicationCommands.Cut> devralınan bir denetim özelliği <xref:System.Windows.Controls.Primitives.TextBoxBase> kısmi güvende engellenir. Ancak, kullanıcı tarafından başlatılan kopyalama ve kesme komutlar, bir düğmeye tıklanması gibi <xref:System.Windows.Controls.Primitives.ButtonBase.Command> özelliği bu komutların birine bağlı, çalışır. Standart kopyalama ve klavye kısayolları ve bağlam menüsü aracılığıyla kesme önceki gibi kısmi güvende çalışmaya devam eder. | Bağlama <xref:System.Windows.Input.ApplicationCommands.Copy> veya <xref:System.Windows.Input.ApplicationCommands.Cut> bir düğmeye tıklanması gibi bir kullanıcı tarafından başlatılan eyleme komutu. |

### <a name="graphics"></a>Grafikler

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects>; derlemeleri: PresentationFramework (içinde PresentationFramework.dll), (içinde PresentationCore.dll) PresentationCore WindowsBase (içinde WindowsBase.dll)

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bit eşlem efektleri** | Performansı artırmak için <xref:System.Windows.Media.Effects.BitmapEffect> sınıfı ve devralınan sınıflar <xref:System.Windows.Media.Effects.BitmapEffect> hala mevcut olsa da, sınıf devre dışı bırakılır. Etkisi, aşağıdaki koşullar doğruysa, Donanım hızlandırmalı işleme işlem hattı kullanılarak işlenir:<br><br>* Uygulamanın kullandığı bir <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> veya <xref:System.Windows.Media.Effects.BlurBitmapEffect> RADIUS özelliği 100 DIU ayarladı.<br>* Uygulamayı çalıştıran bilgisayarda ekran kartı piksel gölgelendiricisi 2.0 destekler.<br><br>Bu koşullar karşılanmazsa bir <xref:System.Windows.Media.Effects.BitmapEffect> nesnesi, herhangi bir etkisi olacaktır.<br><br>Ayrıca, Visual Studio bu karşılaştığında bir derleyici uyarısı üreten <xref:System.Windows.Media.Effects.BitmapEffect> nesnesi veya bir alt sınıfı.<br><br><xref:System.Windows.Media.DrawingContext.PushEffect%2A> Yöntemi artık kullanılmıyor olarak işaretlenmiş. | Eski kullanmayı Sonlandırabileceğiniz <xref:System.Windows.Media.Effects.BitmapEffect> türetilmiş sınıflar ve bunun yerine yeni türetilmiş sınıfları kullanın <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, ve <xref:System.Windows.Media.Effects.ShaderEffect>.<br><br>Devralarak kendi etkileri oluşturabilirsiniz <xref:System.Windows.Media.Effects.ShaderEffect> sınıfı. |
| **Bit eşlem çerçeveler** | Kopyalanan <xref:System.Windows.Media.Imaging.BitmapFrame> nesneleri Şimdi Al <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, ve <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> olayları. Böylece Web'den indirdiğiniz ve uygulanan görüntüleri <xref:System.Windows.Controls.Image> aracılığıyla denetleyen bir <xref:System.Windows.Style> düzgün çalışması için.<br><br>Yalnızca aşağıdaki deyimleri tümünün doğru olması durumunda davranış değişikliği görürsünüz:<br><br>* Abone <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, veya <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> olay.<br>* Kaynağını <xref:System.Windows.Media.Imaging.BitmapFrame> Web'den olduğu.<br>* <xref:System.Windows.Media.Imaging.BitmapFrame> İndirme hala devam ederken kopyalanabilir. | Olay işleyicisi gönderici denetleyin ve gönderen özgün olduğunda harekete <xref:System.Windows.Media.Imaging.BitmapFrame>. |
| **Görüntülerinin kodunu çözme** | Önlemek için bir <xref:System.IO.IOException> görüntüleri çözemeyebilir, işlenen olmayan öğesinden <xref:System.Windows.Media.Imaging.BitmapSource> sınıfını yükseltmek <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> görüntü çözmüyor olayı tetiklenir. | Herhangi bir özel durum için işleme kaldırmak <xref:System.IO.IOException>ve <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> denetlemek için olay kod çözme hatası. |

### <a name="input"></a>Giriş

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; derlemeleri: PresentationFramework (içinde PresentationFramework.dll), (içinde PresentationCore.dll) PresentationCore WindowsBase (içinde WindowsBase.dll)

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Bağlama komut örnekleri** | Görünüm tabanlı giriş hareketleri görünüm Model tabanlı komut örnekleri bağlamak için bir mekanizma sağlamanız <xref:System.Windows.Input.InputBinding> artık sınıfından devralan <xref:System.Windows.Freezable> yerine <xref:System.Windows.DependencyObject>. Aşağıdaki özellikler artık bağımlılık özellikleri şunlardır:<br><br>* <xref:System.Windows.Input.InputBinding.Command><br>* <xref:System.Windows.Input.InputBinding.CommandParameter><br>* <xref:System.Windows.Input.InputBinding.CommandTarget><br><br>Bu değişiklik aşağıdaki sonuçları:<br><br>* Bir <xref:System.Windows.Input.InputBinding> nesne artık dondurulmuş değişebilir kalan yerine kaydedildiğinde.<br>* Örnek düzeyi erişemiyorsanız <xref:System.Windows.Input.InputBinding> kısıtlamaları nedeniyle birden çok iş parçacığı nesneleri <xref:System.Windows.DependencyObject> sınıfı.<br>* Sınıf düzeyi giriş bağlamaları, kısıtlamaları nedeniyle, kayıt sonrasında değiştirilemez <xref:System.Windows.Freezable> sınıfı.<br>* Giriş bağlamaları bir görünüm modelinde oluşturulmuş komut örneklerinde belirtemezsiniz. | Ayrı örneklerini oluşturmak bir <xref:System.Windows.Input.InputBinding> bağlamaları değişebilir veya aksi halde dondurun istenirse ayrı iş parçacıklarına sınıfı. Sınıf düzeyi statik bulunmamalıdır değil <xref:System.Windows.Input.InputBinding> kaydedildikten sonra. |
| **Tarayıcı uygulamaları** | WPF tarayıcı uygulamaları (. Nesneleri anahtar yönlendirilmiş olaylar doğru sırayla alması için bunları anahtar olayları işleme XBAP) artık tek başına WPF uygulamaları olduğu gibi. | Yok. |
| **Kullanılmayan tuş birleşimleri** | WPF görünür hiçbir karakter oluşturmak, ölü anahtarları bilgisayardan farklı gösterir, ancak bunun yerine anahtar bir karakter üretmek için İleri harf anahtarla birleştirilmek üzere olduğunu belirtir. Giriş olayları gibi anahtar <xref:System.Windows.Input.Keyboard.KeyDownEvent> olay, bir anahtar ayarlayarak konum atlatmayan bir tuşa olduğunda rapor <xref:System.Windows.Input.KeyEventArgs.Key> özelliğini <xref:System.Windows.Input.Key> değeri. Uygulamalar genellikle birleştirilmiş bir karakter oluşturan klavye girdisini yanıt istemediğiniz çünkü genellikle Beklenen davranış budur. | Birleşik karakterleri parçası olan anahtarları okumayı bekleyen uygulamalar, artık karıştırılmış anahtarı kullanarak alabilirsiniz <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> özelliği. |
| **Odak Yöneticisi** | Zaman <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> yönteme sahip bir öğe [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) ekli özellik kümesine `true`, bir son klavye odaklı öğe, odak kapsamı içinde ise öğe ve yalnızca yöntemi döndürür. öğenin ait olduğu aynı döndürülen <xref:System.Windows.PresentationSource> yöntemine geçirilen öğe olarak nesnesi. | Yok. |

### <a name="ui-automation"></a>UI Otomasyonu

Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; derlemeleri: PresentationFramework (içinde PresentationFramework.dll), (içinde PresentationCore.dll) PresentationCore, (içinde UIAutomationProvider.dll) UIAutomationProvider, WindowsBase (içinde WindowsBase.dll)

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **Sınıf hiyerarşisi görünümü** | <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> Ve <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> sınıfları <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> yerine <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>. | Gelen devralıyorsanız <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> sınıfları ve geçersiz kılma <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> yöntemi devralan yeni bir nesne döndürmeyi düşünün <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> sınıfı. |
| **Ekranın kapsayıcıları** | Yanlış bir dönüş değeri düzeltmek için <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> yöntemi artık doğru bir şekilde döndürür `false` görünümden kaydırılan bir öğe kapsayıcılar için. Ayrıca, yöntemin değerini kapatma diğer pencereleri veya öğenin belirli bir izleyicinin görünür olup etkilenmez. | Yok. |
| **Menüleri ve alt nesneleri** | UI otomasyonunu dışında alt öğeleri içerir menülere etkinleştirmek için <xref:System.Windows.Controls.MenuItem> nesneleri <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> yöntemi şimdi döndürür <xref:System.Windows.Automation.Peers.AutomationPeer> bir alt nesne <xref:System.Windows.UIElement> nesnesi yerine bir <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> nesne. | Yok. |
| **Yeni arabirimleri ve derleme** | UI Otomasyonu için yeni özellikleri etkinleştirmek için aşağıdaki arabirimlerinden eklendi:<br><br>* <xref:System.Windows.Automation.Provider.IItemContainerProvider><br>* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider><br>* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider> | WPF Otomasyon eşleri yapılar projeler UIAutomationProvider.dll açık bir başvuru eklemeniz gerekir. |
| **Thumbs** | <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> Yöntemi yerine null değeri döndürür. Bu nedenle, gibi denetimler <xref:System.Windows.Controls.GridSplitter> türünden devralınır <xref:System.Windows.Controls.Primitives.Thumb> sınıfı için UI Otomasyonu adları bildirir. | Yok. |
| **Sanallaştırılmış öğeleri** | Performansı artırmak için <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> yöntemi yalnızca alt olup sanallaştırılmış bağımsız olarak tüm alt nesneleri yerine görsel ağacı gerçekten bulunan nesneleri döndürür. | Kullanım <xref:System.Windows.Automation.ItemContainerPattern> tüm öğeleri üzerinde yinelemek için bir <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>. |

### <a name="xaml"></a>XAML

Ad alanları: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup>; derlemeleri: PresentationFramework (içinde PresentationFramework.dll), (içinde PresentationCore.dll) PresentationCore WindowsBase (içinde WindowsBase.dll)

| Özellik | 3.5 SP1 arasındaki farklar | Önerilen değişiklikler |
| ------- | ------------------------ | ------------------- |
| **İşaretleme uzantısı** | WPF artık doğru şekilde her zaman kullanan değerinden <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> döndürmek yerine yöntemi <xref:System.Windows.Markup.MarkupExtension> bazı durumlarda bir işaretleme uzantısı bir özelliği ayarlamak veya bir koleksiyondaki bir öğe oluşturmak için kullanılan nesne. Bazı durumlarda bir işaretleme uzantısı kendisini döndürebilir. | Uygulamanızı döndürülen kaynak erişiyorsa bir <xref:System.Windows.Markup.MarkupExtension> nesne önceki sürümlerinde, öğesinden döndürülen bir nesneye başvuruda <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, yerine <xref:System.Windows.Markup.MarkupExtension> nesne. |
| **Öznitelikleri ayrıştırma** | XAML öznitelik artık sadece tek bir nokta olabilir. Örneğin, geçerli şunlardır:<br><br>`<Button Background="Red"/>` (nokta yok)<br><br>`<Button Button.Background = "Red"/>` (bir nokta)<br><br>Aşağıdaki artık geçerli değil:<br><br>`<Button Control.Button.Background = "Red"/>` (birden fazla nokta) | Birden fazla nokta doğru XAML öznitelikleri. |

## <a name="xml"></a>XML

Bu tablodaki satırları sınırlamaları veya diğer sorunlar vardı özelliklerinde geliştirmeler açıklanmaktadır.

### <a name="schema-and-transforms"></a>Şema ve dönüşümler

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; derlemeleri: (System.Xml.dll) gelen System.Xml, System.Xml.Linq (içinde System.Xml.Linq.dll)

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Chameleon şemaları** | Birden çok şema ile birlikte olduklarında veri bozulmasını önlemek için chameleon şemalar artık doğru şekilde klonlanır.<br><br>Bir hedef ad alanı olmayan şemaları Chameleon şemaları olan ve içeri aktarma şema hedef ad alanı içinde başka bir XSD eklendiğinde aldıkları. Bunlar sık karşılaşılan bir şemasına dahil etmek için kullanılır. |
| **Kimliği işlevleri** | XSLT [kimliği işlevi](/sql/xquery/functions-on-sequences-id) artık doğru değeri null olduğunda yerine döndürür bir <xref:System.Xml.XmlReader> nesnesi, bir XLST için geçirilir.<br><br>Kullanıcı oluşturduysanız bir <xref:System.Xml.XmlReader> kullanarak XML sınıfına bir LINQ nesneden <xref:System.Xml.Linq.XNode.CreateReader%2A> yöntemi ve bu <xref:System.Xml.XmlReader> nesne bir XSLT, tüm örneklerini geçirildi `id` XSLT işlevi daha önce null döndürdü. Bunun için izin verilen bir dönüş değeri değil `id` işlevi. |
| **Namespace özniteliği** | Veri bozulmasını önlemek için bir <xref:System.Xml.XPath.XPathNavigator> nesne artık yerel adı döndürür `x:xmlns` doğru öznitelik. |
| **Namespace bildirimi** | Bir <xref:System.Xml.XmlReader> nesne üzerinde bir alt ağacı, artık bir XML öğesi içindeki yinelenen ad alanı bildirimi oluşturur. |
| **Şema doğrulaması** | Hatalı şema doğrulama önlemek için <xref:System.Xml.Schema.XmlSchemaSet> sınıfı, XSD şemaları doğru ve tutarlı bir şekilde derlenmesine olanak tanır. Bu şemaları diğer şemalar içerebilir. Örneğin, `A.xsd` içerebilir `B.xsd`, hangi içerebilir `C.xsd`. Bu nedenlerden biri, bu geçmesi için bağımlılık grafiği derleniyor. |
| **Betik işlevleri** | [İşlevi kullanılabilir işlev](https://msdn.microsoft.com/library/ms256124(v=vs.110).aspx) artık hatalı bir şekilde `false` işlevi olduğunda gerçekten kullanılabilir. |
| **URI'ler** | <xref:System.Xml.Linq.XElement.Load%2A> Yöntemi, LINQ sorgularında artık doğru BaseURI döndürür. |

### <a name="validation"></a>Doğrulama

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; derlemeleri: (System.Xml.dll) gelen System.Xml, System.Xml.Linq (içinde System.Xml.Linq.dll)

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Namespace çözümleyiciler** | <xref:System.Xml.XmlReader.ReadContentAs%2A> Yöntemi artık yok sayıyor <xref:System.Xml.IXmlNamespaceResolver> kendisine geçirilen çözümleyici.<br><br>Önceki sürümlerde, belirtilen ad alanı çözümleyici yoksayıldı ve <xref:System.Xml.XmlReader> yerine kullanıldı. |
| **Boşluk** | Bir okuyucu oluşturulurken, veri kaybını önlemek için <xref:System.Xml.XmlReader.Create%2A> yöntemi artık önemli boşluk çıkarır.<br><br>XML doğrulaması karışık içerik modu, burada metin XML biçimlendirmesi ile intermixed olabilir tanır. Karma modda tüm boşluk önemlidir ve bildirilmesi. |

### <a name="writing"></a>Yazma

Ad alanları: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; derlemeleri: (System.Xml.dll) gelen System.Xml, System.Xml.Linq (içinde System.Xml.Linq.dll)

| Özellik | 3.5 SP1 arasındaki farklar |
| ------- | ------------------------ |
| **Varlık başvuruları** | Veri bozulmasını önlemek için varlık başvuruları artık iki kez XML öznitelikleri entitized.<br><br>Kullanıcı bir varlığa yazma çalıştıysanız bir `xmlns` özniteliği veya bir `xml:lang` veya `xml:space` kullanarak özniteliği <xref:System.Xml.XmlWriter.WriteEntityRef%2A> yöntemi, varlık, bu nedenle verileri bozmasına iki kez çıktısında entitized. |
| **Yeni satır işleme** | Veri bozulmasını önlemek için <xref:System.Xml.XmlWriter> nesneleri saygı <xref:System.Xml.NewLineHandling> seçeneği. |

## <a name="see-also"></a>Ayrıca bkz.

### <a name="reference"></a>Başvuru

- [Yeni türler ve üyeler .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)

### <a name="concepts"></a>Kavramlar

- [.NET Framework 4 Geçiş Kılavuzu](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [.NET Framework 4 yenilikler](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [.NET Framework'te sürüm uyumluluğu](../../../docs/framework/migration-guide/version-compatibility.md)
- [Office çözümlerini .NET Framework 4 geçirme](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)

### <a name="other-resources"></a>Diğer kaynaklar

- [.NET Framework sınıf kitaplığında artık Kullanılmayanlar](../whats-new/whats-obsolete.md)
