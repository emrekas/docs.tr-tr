---
title: Hataları Tanımlama ve Belirtme
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- handling faults [WCF], specifying
- handling faults [WCF], defining
ms.assetid: c00c84f1-962d-46a7-b07f-ebc4f80fbfc1
ms.openlocfilehash: 24c05bf41152fba2f54636cd0c15dde6fa71aa2b
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59299338"
---
# <a name="defining-and-specifying-faults"></a><span data-ttu-id="36b73-102">Hataları Tanımlama ve Belirtme</span><span class="sxs-lookup"><span data-stu-id="36b73-102">Defining and Specifying Faults</span></span>
<span data-ttu-id="36b73-103">SOAP hatalarının istemciye ve birlikte çalışabilen bir yolla bir hizmete istemcinin çift yönlü çalışmasından hata durum bilgisini bir hizmetten aktarın.</span><span class="sxs-lookup"><span data-stu-id="36b73-103">SOAP faults convey error condition information from a service to a client and, in the duplex case, from a client to a service in an interoperable way.</span></span> <span data-ttu-id="36b73-104">Bu konuda ele alınmıştır ne zaman ve nasıl özel hata içeriğini tanımlamak ve hangi işlemlerin döndürülmeleri belirtin.</span><span class="sxs-lookup"><span data-stu-id="36b73-104">This topic discusses when and how to define custom fault content and specify which operations can return them.</span></span> <span data-ttu-id="36b73-105">Bir hizmet ya da çift yönlü istemci bu hataların nasıl gönderebilir ve bir istemci veya hizmet uygulaması bu hataların nasıl işlediği hakkında daha fazla bilgi için bkz. [gönderme ve alma hataları](../../../docs/framework/wcf/sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="36b73-105">For more information about how a service, or duplex client, can send those faults and how a client or service application handles these faults, see [Sending and Receiving Faults](../../../docs/framework/wcf/sending-and-receiving-faults.md).</span></span> <span data-ttu-id="36b73-106">Hata işleme Windows Communication Foundation (WCF) uygulamalarında genel bakış için bkz. [belirtme ve işleme hataları sözleşme ve hizmetlerde](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span><span class="sxs-lookup"><span data-stu-id="36b73-106">For an overview of error handling in Windows Communication Foundation (WCF) applications, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="36b73-107">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="36b73-107">Overview</span></span>  
 <span data-ttu-id="36b73-108">SOAP hataları olan bir işlem olan bildirilmiş bir <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> özel bir SOAP hatası türü belirtir.</span><span class="sxs-lookup"><span data-stu-id="36b73-108">Declared SOAP faults are those in which an operation has a <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> that specifies a custom SOAP fault type.</span></span> <span data-ttu-id="36b73-109">Bildirilmemiş SOAP hataları sözleşmenin bir işlem için belirtilen değil olanlardır.</span><span class="sxs-lookup"><span data-stu-id="36b73-109">Undeclared SOAP faults are those that are not specified in the contract for an operation.</span></span> <span data-ttu-id="36b73-110">Bu konuda bu hata koşullarını tanımlamak ve istemcilerin düzgün bir şekilde özel SOAP hataları bildirildiğinde bu hata koşullarını işlemek için kullanabileceği hizmetiniz için bir hata sözleşme oluşturmanıza yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="36b73-110">This topic helps you identify those error conditions and create a fault contract for your service that clients can use to properly handle those error conditions when notified by custom SOAP faults.</span></span> <span data-ttu-id="36b73-111">Temel görevleri sırayla şöyledir:</span><span class="sxs-lookup"><span data-stu-id="36b73-111">The basic tasks are, in order:</span></span>  
  
1. <span data-ttu-id="36b73-112">Bir istemci hizmeti hakkında bilmeniz gereken hata koşullarını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="36b73-112">Define the error conditions that a client of your service should know about.</span></span>  
  
2. <span data-ttu-id="36b73-113">Bu hata koşulları için SOAP hataları özel içeriği tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="36b73-113">Define the custom content of the SOAP faults for those error conditions.</span></span>  
  
3. <span data-ttu-id="36b73-114">Böylece oluştururlar belirli bir SOAP hatası WSDL istemcilere sunulan işlemlerinizi işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="36b73-114">Mark your operations so that the specific SOAP faults that they throw are exposed to clients in WSDL.</span></span>  
  
### <a name="defining-error-conditions-that-clients-should-know-about"></a><span data-ttu-id="36b73-115">İstemciler hakkında bilmeniz gereken hata koşulları tanımlama</span><span class="sxs-lookup"><span data-stu-id="36b73-115">Defining Error Conditions That Clients Should Know About</span></span>  
 <span data-ttu-id="36b73-116">SOAP, belirli bir işleme hata bilgileri taşıyan herkese açık şekilde açıklandığı gibi iletileri hatalarıdır.</span><span class="sxs-lookup"><span data-stu-id="36b73-116">SOAP faults are publicly described messages that carry fault information for a particular operation.</span></span> <span data-ttu-id="36b73-117">WSDL diğer işlem iletileri birlikte açıklanan olduğundan, istemciler bilmeniz ve bu nedenle, bir işlemi çağrılırken böyle arızları beklenir.</span><span class="sxs-lookup"><span data-stu-id="36b73-117">Because they are described along with other operation messages in WSDL, clients know and, therefore, expect to handle such faults when invoking an operation.</span></span> <span data-ttu-id="36b73-118">Ancak WCF hizmetleri hangi hata koşulları yönetilen kod hataları dönüştürülecek olan ve istemciye döndürülen hata koşulları ve hizmetinizdeki hataları biçimsel hata ayırmak için bir fırsat sağlar karar yönetilen kodda yazılır bir istemciye sahip konuşma.</span><span class="sxs-lookup"><span data-stu-id="36b73-118">But because WCF services are written in managed code, deciding which error conditions in managed code are to be converted into faults and returned to the client provides you the opportunity to separate error conditions and bugs in your service from the formal error conversation you have with a client.</span></span>  
  
 <span data-ttu-id="36b73-119">Örneğin, aşağıdaki kod örneği, iki tamsayı alır ve başka bir tamsayı döndüren bir işlem gösterilir.</span><span class="sxs-lookup"><span data-stu-id="36b73-119">For example, the following code example shows an operation that takes two integers and returns another integer.</span></span> <span data-ttu-id="36b73-120">Hatalı sözleşme tasarlarken hangi hata koşulları için istemcinizi önemli olduğunu belirlemeniz gerekir böylece birkaç özel durum burada atılabilir.</span><span class="sxs-lookup"><span data-stu-id="36b73-120">Several exceptions can be thrown here, so when designing the fault contract, you must determine which error conditions are important for your client.</span></span> <span data-ttu-id="36b73-121">Bu durumda, hizmet algılanmalıdır <xref:System.DivideByZeroException?displayProperty=nameWithType> özel durum.</span><span class="sxs-lookup"><span data-stu-id="36b73-121">In this case, the service should detect the <xref:System.DivideByZeroException?displayProperty=nameWithType> exception.</span></span>  
  
```csharp  
[ServiceContract]  
public class CalculatorService  
{  
    [OperationContract]   
    int Divide(int a, int b)  
    {  
      if (b==0) throw new Exception("Division by zero!");  
      return a/b;  
    }  
}  
```  
  
```vb  
<ServiceContract> _  
Public Class CalculatorService  
    <OperationContract]> _  
    Public Function Divide(ByVal a As Integer, ByVal b As Integer) _  
       As Integer  
      If (b==0) Then   
            Throw New Exception("Division by zero!")  
      Return a/b  
    End Function  
End Class  
```  
  
 <span data-ttu-id="36b73-122">Önceki örnekte işlemi ya da sıfıra bölme için özgü özel bir SOAP hatası, matematik işlemlerine özgü ancak, birden çok hataları için birkaç bölmek için özel bilgiler içeren özel bir hata farklı iade edebilir miyim hata durumları veya hiç bir SOAP hatası.</span><span class="sxs-lookup"><span data-stu-id="36b73-122">In the preceding example the operation can either return a custom SOAP fault that is specific to dividing by zero, a custom fault that is specific to math operations but that contains information specific to dividing by zero, multiple faults for several different error situations, or no SOAP fault at all.</span></span>  
  
### <a name="define-the-content-of-error-conditions"></a><span data-ttu-id="36b73-123">Hata koşulları içeriğini tanımlama</span><span class="sxs-lookup"><span data-stu-id="36b73-123">Define the Content of Error Conditions</span></span>  
 <span data-ttu-id="36b73-124">Bir hata koşulu özel bir SOAP hatası usefully döndürebilen biri belirlendikten sonra sonraki adım bu hataya içeriğini tanımlamak ve içerik yapısı seri hale getirilebilir olun sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="36b73-124">Once an error condition has been identified as one that can usefully return a custom SOAP fault, the next step is to define the contents of that fault and ensure that the content structure can be serialized.</span></span> <span data-ttu-id="36b73-125">Önceki bölümde kod örneği için belirli bir hata gösterir bir `Divide` varsa üzerinde başka işlemler ancak işlem, `Calculator` tek ve özel bir SOAP hatası tüm hesaplayıcı hata koşulları, istemci bilgilendirebilir sonra hizmet `Divide`dahil.</span><span class="sxs-lookup"><span data-stu-id="36b73-125">The code example in the preceding section shows an error specific to a `Divide` operation, but if there are other operations on the `Calculator` service, then a single custom SOAP fault can inform the client of all calculator error conditions, `Divide` included.</span></span> <span data-ttu-id="36b73-126">Aşağıdaki kod örneği, özel bir SOAP hatası oluşturulmasını gösterir `MathFault`, hangi hatalar dahil olmak üzere tüm matematik işlemleri kullanılarak yapılan rapor edebilir `Divide`.</span><span class="sxs-lookup"><span data-stu-id="36b73-126">The following code example shows the creation of a custom SOAP fault, `MathFault`, which can report errors made using all math operations, including `Divide`.</span></span> <span data-ttu-id="36b73-127">Sınıfı bir işlem belirtebilirsiniz ancak ( `Operation` özelliği) ve sorunu açıklayan bir değer ( `ProblemType` özelliği), sınıf ve bu özellikleri özel bir SOAP hatası istemciye aktarılacak öğesi Serileştirilebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="36b73-127">While the class can specify an operation (the `Operation` property) and a value that describes the problem (the `ProblemType` property), the class and these properties must be serializable to be transferred to the client in a custom SOAP fault.</span></span> <span data-ttu-id="36b73-128">Bu nedenle, <xref:System.Runtime.Serialization.DataContractAttribute?displayProperty=nameWithType> ve <xref:System.Runtime.Serialization.DataMemberAttribute?displayProperty=nameWithType> özniteliği, türü ve özelliklerini seri hale getirilebilir ve olarak çalışabilen yapmak için kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="36b73-128">Therefore, the <xref:System.Runtime.Serialization.DataContractAttribute?displayProperty=nameWithType> and <xref:System.Runtime.Serialization.DataMemberAttribute?displayProperty=nameWithType> attributes are used to make the type and its properties serializable and as interoperable as possible.</span></span>  
  
 [!code-csharp[Faults#2](../../../samples/snippets/csharp/VS_Snippets_CFX/faults/cs/service.cs#2)]
 [!code-vb[Faults#2](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faults/vb/service.vb#2)]  
  
 <span data-ttu-id="36b73-129">Hakkında daha fazla bilgi için verilerinizin nasıl serileştirilebilir için bkz. [hizmet sözleşmelerinde veri aktarımı belirtme](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="36b73-129">For more information about how to ensure your data is serializable, see [Specifying Data Transfer in Service Contracts](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span></span> <span data-ttu-id="36b73-130">Serileştirme bir listesi için destek <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType> sağlar, bkz: [veri sözleşme seri hale getirici tarafından desteklenen türleri](../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span><span class="sxs-lookup"><span data-stu-id="36b73-130">For a list of the serialization support that <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType> provides, see [Types Supported by the Data Contract Serializer](../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span></span>  
  
### <a name="mark-operations-to-establish-the-fault-contract"></a><span data-ttu-id="36b73-131">Hatalı Sözleşme'kurmak için işlemleri işaretlemek</span><span class="sxs-lookup"><span data-stu-id="36b73-131">Mark Operations to Establish the Fault Contract</span></span>  
 <span data-ttu-id="36b73-132">Özel bir SOAP hatası parçası tanımlanmadı'olarak döndüren bir seri hale getirilebilir veri yapısı işlemi sözleşmeniz, bu tür bir SOAP hatası atma olarak işaretlemek için son adımı olduğunda.</span><span class="sxs-lookup"><span data-stu-id="36b73-132">Once a serializable data structure that is returned as part of a custom SOAP fault is defined, the last step is to mark your operation contract as throwing a SOAP fault of that type.</span></span> <span data-ttu-id="36b73-133">Bunu yapmak için <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> özniteliği ve türü, oluşturulan özel veri türü.</span><span class="sxs-lookup"><span data-stu-id="36b73-133">To do this, use the <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> attribute and pass the type of the custom data type that you have constructed.</span></span> <span data-ttu-id="36b73-134">Aşağıdaki kod örneği kullanma işlemini gösterir <xref:System.ServiceModel.FaultContractAttribute> belirtmek için öznitelik `Divide` işlemi türünde bir SOAP hatasını döndürebilir `MathFault`.</span><span class="sxs-lookup"><span data-stu-id="36b73-134">The following code example shows how to use the <xref:System.ServiceModel.FaultContractAttribute> attribute to specify that the `Divide` operation can return a SOAP fault of type `MathFault`.</span></span> <span data-ttu-id="36b73-135">Diğer matematik tabanlı işlemler şimdi de bunlar döndürebilir belirtebilirsiniz bir `MathFault`.</span><span class="sxs-lookup"><span data-stu-id="36b73-135">Other math-based operations can now also specify that they can return a `MathFault`.</span></span>  
  
 [!code-csharp[Faults#1](../../../samples/snippets/csharp/VS_Snippets_CFX/faults/cs/service.cs#1)]
 [!code-vb[Faults#1](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faults/vb/service.vb#1)]  
  
 <span data-ttu-id="36b73-136">Bir işlem birden fazla bu işlemle işaretleyerek birden fazla özel hata döndürdüğünü belirtmek <xref:System.ServiceModel.FaultContractAttribute> özniteliği.</span><span class="sxs-lookup"><span data-stu-id="36b73-136">An operation can specify that it returns more than one custom fault by marking that operation with more than one <xref:System.ServiceModel.FaultContractAttribute> attribute.</span></span>  
  
 <span data-ttu-id="36b73-137">Hatalı anlaşma işlemi uygulamanızda uygulamak için bir sonraki adımda, konu başlığı altında açıklanan [gönderme ve alma hataları](../../../docs/framework/wcf/sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="36b73-137">The next step, to implement the fault contract in your operation implementation, is described in the topic [Sending and Receiving Faults](../../../docs/framework/wcf/sending-and-receiving-faults.md).</span></span>  
  
#### <a name="soap-wsdl-and-interoperability-considerations"></a><span data-ttu-id="36b73-138">SOAP, WSDL ve birlikte çalışabilirlik değerlendirmeleri</span><span class="sxs-lookup"><span data-stu-id="36b73-138">SOAP, WSDL, and Interoperability Considerations</span></span>  
 <span data-ttu-id="36b73-139">Bazı durumlarda, özellikle diğer platformları ile birlikte çalışırken bir SOAP ileti bir hataya görüntülenme şeklini denetlemek önemli olabilir veya biçimini WSDL meta verilerde açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="36b73-139">In some circumstances, especially when interoperating with other platforms, it may be important to control the way a fault appears in a SOAP message or the way it is described in the WSDL metadata.</span></span>  
  
 <span data-ttu-id="36b73-140"><xref:System.ServiceModel.FaultContractAttribute> Özniteliğine sahip bir <xref:System.ServiceModel.FaultContractAttribute.Name%2A> bu hata için meta verileri içinde oluşturulan WSDL hata öğe adı bir denetimin izin veren özellik.</span><span class="sxs-lookup"><span data-stu-id="36b73-140">The <xref:System.ServiceModel.FaultContractAttribute> attribute has a <xref:System.ServiceModel.FaultContractAttribute.Name%2A> property that allows control of the WSDL fault element name that is generated in the metadata for that fault.</span></span>  
  
 <span data-ttu-id="36b73-141">SOAP standardına göre bir hata olabilir bir `Action`, `Code`ve `Reason`.</span><span class="sxs-lookup"><span data-stu-id="36b73-141">According to the SOAP standard, a fault can have an `Action`, a `Code`, and a `Reason`.</span></span> <span data-ttu-id="36b73-142">`Action` Tarafından denetlenen <xref:System.ServiceModel.FaultContractAttribute.Action%2A> özelliği.</span><span class="sxs-lookup"><span data-stu-id="36b73-142">The `Action` is controlled by the <xref:System.ServiceModel.FaultContractAttribute.Action%2A> property.</span></span> <span data-ttu-id="36b73-143"><xref:System.ServiceModel.FaultException.Code%2A> Özelliği ve <xref:System.ServiceModel.FaultException.Reason%2A> özelliği olan iki özelliklerini <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> genel üst sınıfı olan sınıf <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="36b73-143">The <xref:System.ServiceModel.FaultException.Code%2A> property and <xref:System.ServiceModel.FaultException.Reason%2A> property are both properties of the <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> class, which is the parent class of the generic <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType>.</span></span> <span data-ttu-id="36b73-144">`Code` Özelliği içeren bir <xref:System.ServiceModel.FaultCode.SubCode%2A> üyesi.</span><span class="sxs-lookup"><span data-stu-id="36b73-144">The `Code` property includes a <xref:System.ServiceModel.FaultCode.SubCode%2A> member.</span></span>  
  
 <span data-ttu-id="36b73-145">Olmayan hatalar'ı oluşturan hizmetler erişirken belirli sınırlamaları vardır.</span><span class="sxs-lookup"><span data-stu-id="36b73-145">When accessing non-services that generate faults, certain limitations exist.</span></span> <span data-ttu-id="36b73-146">Yalnızca hataları ayrıntı türleriyle şemasını tanımlayan WCF destekler ve veri sözleşmeleri ile uyumludur.</span><span class="sxs-lookup"><span data-stu-id="36b73-146">WCF supports only faults with detail types that the schema describes and that are compatible with data contracts.</span></span> <span data-ttu-id="36b73-147">Örneğin, yukarıda belirtildiği gibi WCF ayrıntı türlerini XML özniteliklerini kullanın hataları veya birden çok en üst düzey öğe ayrıntısı bölümünde hataları desteklemez.</span><span class="sxs-lookup"><span data-stu-id="36b73-147">For example, as mentioned above, WCF does not support faults that use XML attributes in their detail types, or faults with more than one top-level element in the detail section.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="36b73-148">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="36b73-148">See also</span></span>

- <xref:System.ServiceModel.FaultContractAttribute>
- <xref:System.Runtime.Serialization.DataContractAttribute>
- <xref:System.Runtime.Serialization.DataMemberAttribute>
- [<span data-ttu-id="36b73-149">Sözleşme ve Hizmetlerde Hataları Belirtme ve İşleme</span><span class="sxs-lookup"><span data-stu-id="36b73-149">Specifying and Handling Faults in Contracts and Services</span></span>](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)
- [<span data-ttu-id="36b73-150">Hataları Gönderme ve Alma</span><span class="sxs-lookup"><span data-stu-id="36b73-150">Sending and Receiving Faults</span></span>](../../../docs/framework/wcf/sending-and-receiving-faults.md)
- [<span data-ttu-id="36b73-151">Nasıl yapılır: Hizmet sözleşmelerinde hata bildirme</span><span class="sxs-lookup"><span data-stu-id="36b73-151">How to: Declare Faults in Service Contracts</span></span>](../../../docs/framework/wcf/how-to-declare-faults-in-service-contracts.md)
- [<span data-ttu-id="36b73-152">Koruma Düzeylerini Anlama</span><span class="sxs-lookup"><span data-stu-id="36b73-152">Understanding Protection Level</span></span>](../../../docs/framework/wcf/understanding-protection-level.md)
- [<span data-ttu-id="36b73-153">Nasıl yapılır: ProtectionLevel özelliğini ayarlama</span><span class="sxs-lookup"><span data-stu-id="36b73-153">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="36b73-154">Hizmet Anlaşmalarında Veri Aktarımını Belirtme</span><span class="sxs-lookup"><span data-stu-id="36b73-154">Specifying Data Transfer in Service Contracts</span></span>](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)
