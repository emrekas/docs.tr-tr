---
title: Hataları Gönderme ve Alma
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- handling faults [WCF], sending
ms.assetid: 7be6fb96-ce2a-450b-aebe-f932c6a4bc5d
ms.openlocfilehash: f093229af96cba679959fa052bd6b5809d347f4b
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64606024"
---
# <a name="sending-and-receiving-faults"></a><span data-ttu-id="3bff7-102">Hataları Gönderme ve Alma</span><span class="sxs-lookup"><span data-stu-id="3bff7-102">Sending and Receiving Faults</span></span>
<span data-ttu-id="3bff7-103">SOAP hatalarının hata durum bilgisini bir hizmetten istemci ve hizmet için bir istemciden çift yönlü durumda birlikte çalışabilen bir biçimde aktarın.</span><span class="sxs-lookup"><span data-stu-id="3bff7-103">SOAP faults convey error condition information from a service to a client and in the duplex case from a client to a service in an interoperable way.</span></span> <span data-ttu-id="3bff7-104">Genellikle hizmet özel hata içeriği tanımlar ve hangi işlemlerin döndürülmeleri belirtir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-104">Typically a service defines custom fault content and specifies which operations can return them.</span></span> <span data-ttu-id="3bff7-105">(Daha fazla bilgi için [tanımlama ve belirtme hatası](../../../docs/framework/wcf/defining-and-specifying-faults.md).) Bu konu nasıl bir hizmet ya da çift yönlü istemci bu hataları karşılık gelen hata koşulu olduğunda ve bir istemci nasıl gönderebilir açıklar veya hizmet uygulaması bu hataların işler.</span><span class="sxs-lookup"><span data-stu-id="3bff7-105">(For more information, see [Defining and Specifying Faults](../../../docs/framework/wcf/defining-and-specifying-faults.md).) This topic discusses how a service or duplex client can send those faults when the corresponding error condition has occurred and how a client or service application handles these faults.</span></span> <span data-ttu-id="3bff7-106">Hata işleme Windows Communication Foundation (WCF) uygulamalarında genel bakış için bkz. [belirtme ve işleme hataları sözleşme ve hizmetlerde](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span><span class="sxs-lookup"><span data-stu-id="3bff7-106">For an overview of error handling in Windows Communication Foundation (WCF) applications, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span></span>  
  
## <a name="sending-soap-faults"></a><span data-ttu-id="3bff7-107">SOAP hataları gönderme</span><span class="sxs-lookup"><span data-stu-id="3bff7-107">Sending SOAP Faults</span></span>  
 <span data-ttu-id="3bff7-108">SOAP hataları olan bir işlem olan bildirilmiş bir <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> özel bir SOAP hatası türü belirtir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-108">Declared SOAP faults are those in which an operation has a <xref:System.ServiceModel.FaultContractAttribute?displayProperty=nameWithType> that specifies a custom SOAP fault type.</span></span> <span data-ttu-id="3bff7-109">Bildirilmemiş SOAP hataları sözleşmenin bir işlem için belirtilen değil olanlardır.</span><span class="sxs-lookup"><span data-stu-id="3bff7-109">Undeclared SOAP faults are those that are not specified in the contract for an operation.</span></span>  
  
### <a name="sending-declared-faults"></a><span data-ttu-id="3bff7-110">Bildirilen hataları gönderme</span><span class="sxs-lookup"><span data-stu-id="3bff7-110">Sending Declared Faults</span></span>  
 <span data-ttu-id="3bff7-111">Bildirilen bir SOAP hatası göndermek için bir SOAP hatası olduğu uygun hata koşulunu algılamak ve yeni bir throw <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> tür parametresi, belirtilen türde yeni bir nesne olduğu <xref:System.ServiceModel.FaultContractAttribute> bu işlem için.</span><span class="sxs-lookup"><span data-stu-id="3bff7-111">To send a declared SOAP fault, detect the error condition for which the SOAP fault is appropriate and throw a new <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> where the type parameter is a new object of the type specified in the <xref:System.ServiceModel.FaultContractAttribute> for that operation.</span></span> <span data-ttu-id="3bff7-112">Aşağıdaki kod örneği, kullanımını gösterir <xref:System.ServiceModel.FaultContractAttribute> belirtmek için `SampleMethod` işlemi ayrıntı türüne sahip bir SOAP hatasını döndürebilir `GreetingFault`.</span><span class="sxs-lookup"><span data-stu-id="3bff7-112">The following code example shows the use of <xref:System.ServiceModel.FaultContractAttribute> to specify that the `SampleMethod` operation can return a SOAP fault with the detail type of `GreetingFault`.</span></span>  
  
 [!code-csharp[FaultContractAttribute#4](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#4)]
 [!code-vb[FaultContractAttribute#4](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#4)]  
  
 <span data-ttu-id="3bff7-113">İletmek için `GreetingFault` hata bilgilerini istemciye uygun hata durumunu yakalamak ve yeni bir throw <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> türü `GreetingFault` yeni bir `GreetingFault` aşağıdaki kod örneğinde olduğu gibi bağımsız değişkeni olarak bir nesne.</span><span class="sxs-lookup"><span data-stu-id="3bff7-113">To convey the `GreetingFault` error information to the client, catch the appropriate error condition and throw a new <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> of type `GreetingFault` with a new `GreetingFault` object as the argument, as in the following code example.</span></span> <span data-ttu-id="3bff7-114">İstemci bir WCF istemci uygulaması ise, bu türü olduğu yönetilen bir istisnası olarak karşılaştığı <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> türü `GreetingFault`.</span><span class="sxs-lookup"><span data-stu-id="3bff7-114">If the client is an WCF client application, it experiences this as a managed exception where the type is <xref:System.ServiceModel.FaultException%601?displayProperty=nameWithType> of type `GreetingFault`.</span></span>  
  
 [!code-csharp[FaultContractAttribute#5](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/services.cs#5)]
 [!code-vb[FaultContractAttribute#5](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/services.vb#5)]  
  
### <a name="sending-undeclared-faults"></a><span data-ttu-id="3bff7-115">Bildirilmemiş hataları gönderme</span><span class="sxs-lookup"><span data-stu-id="3bff7-115">Sending Undeclared Faults</span></span>  
 <span data-ttu-id="3bff7-116">Bildirilmemiş gönderme hataları hızlı bir şekilde tanılayın ve hata ayıklama aracı sınırlı olduğu gibi WCF uygulamaları, ancak yararlılığını sorunlarında hata ayıklamak çok kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-116">Sending undeclared faults can be very useful to quickly diagnose and debug problems in WCF applications, but its usefulness as a debugging tool is limited.</span></span> <span data-ttu-id="3bff7-117">Daha genel olduğunda, hata ayıklama önerilir kullanmanızı <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="3bff7-117">More generally, when debugging it is recommended that you use the <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="3bff7-118">Bu değeri true olarak ayarlayın, istemciler bu tür hataları olarak deneyimi <xref:System.ServiceModel.FaultException%601> türündeki özel durumlardan <xref:System.ServiceModel.ExceptionDetail>.</span><span class="sxs-lookup"><span data-stu-id="3bff7-118">When you set this value to true, clients experience such faults as <xref:System.ServiceModel.FaultException%601> exceptions of type <xref:System.ServiceModel.ExceptionDetail>.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="3bff7-119">Yönetilen özel durumlar iç uygulama bilgileri kullanıma sunabileceğinden, ayarı <xref:System.ServiceModel.ServiceBehaviorAttribute.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> veya <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> için `true` kişisel dahil olmak üzere iç hizmet işlemi özel durumları hakkında daha fazla bilgi edinmek için WCF istemcileri izin verebilirsiniz veya diğer hassas bilgilerin.</span><span class="sxs-lookup"><span data-stu-id="3bff7-119">Because managed exceptions can expose internal application information, setting <xref:System.ServiceModel.ServiceBehaviorAttribute.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> or <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> to `true` can permit WCF clients to obtain information about internal service operation exceptions, including personally identifiable or other sensitive information.</span></span>  
>   
>  <span data-ttu-id="3bff7-120">Bu nedenle, ayarı <xref:System.ServiceModel.ServiceBehaviorAttribute.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> veya <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> için `true` yalnızca geçici olarak bir hizmet uygulaması hata ayıklama bir yolu olarak önerilir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-120">Therefore, setting <xref:System.ServiceModel.ServiceBehaviorAttribute.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> or <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> to `true` is only recommended as a way of temporarily debugging a service application.</span></span> <span data-ttu-id="3bff7-121">Bu şekilde özel durum işlenmemiş döndüren bir yöntem yönetilen ek olarak, WSDL sözleşmesini içermiyor <xref:System.ServiceModel.FaultException%601> türü <xref:System.ServiceModel.ExceptionDetail>.</span><span class="sxs-lookup"><span data-stu-id="3bff7-121">In addition, the WSDL for a method that returns unhandled managed exceptions in this way does not contain the contract for the <xref:System.ServiceModel.FaultException%601> of type <xref:System.ServiceModel.ExceptionDetail>.</span></span> <span data-ttu-id="3bff7-122">İstemciler, bilinmeyen bir SOAP hatası olasılığını beklemeniz gerekir (WCF istemcileri olarak döndürülen <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> nesneleri) düzgün bir şekilde hata ayıklama bilgileri edinmek için.</span><span class="sxs-lookup"><span data-stu-id="3bff7-122">Clients must expect the possibility of an unknown SOAP fault (returned to WCF clients as <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> objects) to obtain the debugging information properly.</span></span>  
  
 <span data-ttu-id="3bff7-123">Bildirilmemiş bir SOAP hatası göndermek için throw bir <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> nesne (diğer bir deyişle, genel tür değil <xref:System.ServiceModel.FaultException%601>) dize oluşturucuya geçirin.</span><span class="sxs-lookup"><span data-stu-id="3bff7-123">To send an undeclared SOAP fault, throw a <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> object (that is, not the generic type <xref:System.ServiceModel.FaultException%601>) and pass the string to the constructor.</span></span> <span data-ttu-id="3bff7-124">Bu bir oluşturulan olarak WCF istemci uygulamalarının Internet'e <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> dize kullanılabildiği çağırarak özel durum <xref:System.ServiceModel.FaultException%601.ToString%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="3bff7-124">This is exposed to the WCF client applications as a thrown <xref:System.ServiceModel.FaultException?displayProperty=nameWithType> exception where the string is available by calling the <xref:System.ServiceModel.FaultException%601.ToString%2A?displayProperty=nameWithType> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3bff7-125">Dize türünde bir SOAP hatasını bildirir ve hizmet bu durum bir <xref:System.ServiceModel.FaultException%601> tür parametresi olduğu bir <xref:System.String?displayProperty=nameWithType> dize değeri atanır <xref:System.ServiceModel.FaultException%601.Detail%2A?displayProperty=nameWithType> özelliği ve kullanılamaz <xref:System.ServiceModel.FaultException%601.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3bff7-125">If you declare a SOAP fault of type string, and then throw this in your service as a <xref:System.ServiceModel.FaultException%601> where the type parameter is a <xref:System.String?displayProperty=nameWithType> the string value is assigned to the <xref:System.ServiceModel.FaultException%601.Detail%2A?displayProperty=nameWithType> property, and is not available from <xref:System.ServiceModel.FaultException%601.ToString%2A?displayProperty=nameWithType>.</span></span>  
  
## <a name="handling-faults"></a><span data-ttu-id="3bff7-126">Hataları işleme</span><span class="sxs-lookup"><span data-stu-id="3bff7-126">Handling Faults</span></span>  
 <span data-ttu-id="3bff7-127">WCF istemcileri, iletişim sırasında oluşan SOAP hataları ilgilendiren istemci uygulamaları için yönetilen özel durumlar oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="3bff7-127">In WCF clients, SOAP faults that occur during communication that are of interest to client applications are raised as managed exceptions.</span></span> <span data-ttu-id="3bff7-128">Herhangi bir program yürütme sırasında oluşabilecek birçok özel durumları olsa da, iletişimin sonucu olarak aşağıdaki iki tür özel durumları işlemek WCF istemci programlama modelini kullanan uygulamalar bekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3bff7-128">While there are many exceptions that can occur during the execution of any program, applications using the WCF client programming model can expect to handle exceptions of the following two types as a result of communication.</span></span>  
  
- <xref:System.TimeoutException>  
  
- <xref:System.ServiceModel.CommunicationException>  
  
 <span data-ttu-id="3bff7-129"><xref:System.TimeoutException> Belirtilen zaman aşımı süresi işlem aştığında, nesne atılır.</span><span class="sxs-lookup"><span data-stu-id="3bff7-129"><xref:System.TimeoutException> objects are thrown when an operation exceeds the specified timeout period.</span></span>  
  
 <span data-ttu-id="3bff7-130"><xref:System.ServiceModel.CommunicationException> Hizmet veya istemci kurtarılabilir iletişim hata koşulu olduğunda, nesneler atılır.</span><span class="sxs-lookup"><span data-stu-id="3bff7-130"><xref:System.ServiceModel.CommunicationException> objects are thrown when there is some recoverable communication error condition on either the service or the client.</span></span>  
  
 <span data-ttu-id="3bff7-131"><xref:System.ServiceModel.CommunicationException> Sınıfında iki önemli türetilen türler, <xref:System.ServiceModel.FaultException> ve genel <xref:System.ServiceModel.FaultException%601> türü.</span><span class="sxs-lookup"><span data-stu-id="3bff7-131">The <xref:System.ServiceModel.CommunicationException> class has two important derived types, <xref:System.ServiceModel.FaultException> and the generic <xref:System.ServiceModel.FaultException%601> type.</span></span>  
  
 <span data-ttu-id="3bff7-132"><xref:System.ServiceModel.FaultException> Dinleyici değil beklenen ya da işlem anlaşması içinde belirtilen bir hata aldığında özel durumlar; Genellikle bu uygulamanın ayıklanmakta olan ve hizmetin ortaya çıkar <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> özelliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="3bff7-132"><xref:System.ServiceModel.FaultException> exceptions are thrown when a listener receives a fault that is not expected or specified in the operation contract; usually this occurs when the application is being debugged and the service has the <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> property set to `true`.</span></span>  
  
 <span data-ttu-id="3bff7-133"><xref:System.ServiceModel.FaultException%601> özel durumlar istemcide yanıt iki yönlü bir işlem olarak da işlem anlaşması içinde belirtilen bir hata alındığında (diğer bir deyişle, bir yöntemle bir <xref:System.ServiceModel.OperationContractAttribute> özniteliğini <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> kümesine `false`).</span><span class="sxs-lookup"><span data-stu-id="3bff7-133"><xref:System.ServiceModel.FaultException%601> exceptions are thrown on the client when a fault that is specified in the operation contract is received in response to a two-way operation (that is, a method with an <xref:System.ServiceModel.OperationContractAttribute> attribute with <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> set to `false`).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3bff7-134">Bir WCF Hizmeti olduğunda <xref:System.ServiceModel.ServiceBehaviorAttribute.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> veya <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> özelliğini `true` istemci bu bildirilmemiş bir deneyimleri <xref:System.ServiceModel.FaultException%601> türü <xref:System.ServiceModel.ExceptionDetail>.</span><span class="sxs-lookup"><span data-stu-id="3bff7-134">When an WCF service has the <xref:System.ServiceModel.ServiceBehaviorAttribute.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> or <xref:System.ServiceModel.Description.ServiceDebugBehavior.IncludeExceptionDetailInFaults%2A?displayProperty=nameWithType> property set to `true` the client experiences this as an undeclared <xref:System.ServiceModel.FaultException%601> of type <xref:System.ServiceModel.ExceptionDetail>.</span></span> <span data-ttu-id="3bff7-135">İstemciler bu belirli bir arıza catch veya işlemek için bir catch bloğu içinde hata <xref:System.ServiceModel.FaultException>.</span><span class="sxs-lookup"><span data-stu-id="3bff7-135">Clients can either catch this specific fault or handle the fault in a catch block for <xref:System.ServiceModel.FaultException>.</span></span>  
  
 <span data-ttu-id="3bff7-136">Genellikle, yalnızca <xref:System.ServiceModel.FaultException%601>, <xref:System.TimeoutException>, ve <xref:System.ServiceModel.CommunicationException> istisnaları istemcileri ve Hizmetleri.</span><span class="sxs-lookup"><span data-stu-id="3bff7-136">Typically, only <xref:System.ServiceModel.FaultException%601>, <xref:System.TimeoutException>, and <xref:System.ServiceModel.CommunicationException> exceptions are of interest to clients and services.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3bff7-137">Diğer özel durumlar, oluşur.</span><span class="sxs-lookup"><span data-stu-id="3bff7-137">Other exceptions, of course, do occur.</span></span> <span data-ttu-id="3bff7-138">Beklenmeyen özel durumları içerecek gibi yıkıcı hataları <xref:System.OutOfMemoryException?displayProperty=nameWithType>; uygulamaları bu tür yöntemler genellikle yakalamalısınız değil.</span><span class="sxs-lookup"><span data-stu-id="3bff7-138">Unexpected exceptions include catastrophic failures like <xref:System.OutOfMemoryException?displayProperty=nameWithType>; typically applications should not catch such methods.</span></span>  
  
### <a name="catch-fault-exceptions-in-the-correct-order"></a><span data-ttu-id="3bff7-139">Doğru sırayla hataya özel durumları Yakala</span><span class="sxs-lookup"><span data-stu-id="3bff7-139">Catch Fault Exceptions in the Correct Order</span></span>  
 <span data-ttu-id="3bff7-140">Çünkü <xref:System.ServiceModel.FaultException%601> türetildiği <xref:System.ServiceModel.FaultException>, ve <xref:System.ServiceModel.FaultException> türetildiği <xref:System.ServiceModel.CommunicationException>, uygun sırada bu özel durumları yakalamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-140">Because <xref:System.ServiceModel.FaultException%601> derives from <xref:System.ServiceModel.FaultException>, and <xref:System.ServiceModel.FaultException> derives from <xref:System.ServiceModel.CommunicationException>, it is important to catch these exceptions in the proper order.</span></span> <span data-ttu-id="3bff7-141">Örneğin, bir try/catch varsa, hangi, ilk catch içinde block <xref:System.ServiceModel.CommunicationException>, belirtilen tüm ve belirtilmeyen SOAP hatalarının işlenmesini vardır; herhangi bir sonraki yakalama bloğu özel işlemek için <xref:System.ServiceModel.FaultException%601> özel durumu hiçbir zaman çağrılır.</span><span class="sxs-lookup"><span data-stu-id="3bff7-141">If, for example, you have a try/catch block in which you first catch <xref:System.ServiceModel.CommunicationException>, all specified and unspecified SOAP faults are handled there; any subsequent catch blocks to handle a custom <xref:System.ServiceModel.FaultException%601> exception are never invoked.</span></span>  
  
 <span data-ttu-id="3bff7-142">Tek bir işlem herhangi bir sayıda belirtilen hataları döndürebilir unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3bff7-142">Remember that one operation can return any number of specified faults.</span></span> <span data-ttu-id="3bff7-143">Her hata benzersiz bir türüdür ve ayrı olarak ele alınması gerekir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-143">Each fault is a unique type and must be handled separately.</span></span>  
  
### <a name="handle-exceptions-when-closing-the-channel"></a><span data-ttu-id="3bff7-144">Kanal kapatılırken özel durumları işleme</span><span class="sxs-lookup"><span data-stu-id="3bff7-144">Handle Exceptions When Closing the Channel</span></span>  
 <span data-ttu-id="3bff7-145">Yukarıdaki açıklama çoğu uygulama iletileri, diğer bir deyişle, işleme aşamasında gönderilen hatalarıyla istemci uygulaması, WCF istemci nesnesi üzerinde işlemler çağırdığında açıkça istemci tarafından gönderilen iletileri yapmak vardır.</span><span class="sxs-lookup"><span data-stu-id="3bff7-145">Most of the preceding discussion has to do with faults sent in the course of processing application messages, that is, messages explicitly sent by the client when the client application calls operations on the WCF client object.</span></span>  
  
 <span data-ttu-id="3bff7-146">Bile yerel nesneleriyle nesne disposing yükseltmek veya dönüştürme işlemi sırasında oluşan özel durumları maskeleyebilir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-146">Even with local objects disposing the object can either raise or mask exceptions that occur during the recycling process.</span></span> <span data-ttu-id="3bff7-147">WCF istemci nesneleri kullandığınızda benzer bir sorun ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-147">Something similar can occur when you use WCF client objects.</span></span> <span data-ttu-id="3bff7-148">İşlemleri çağırdığınızda iletileri kurulan bir bağlantı gönderiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="3bff7-148">When you call operations you are sending messages over an established connection.</span></span> <span data-ttu-id="3bff7-149">Bağlantı düzgün bir şekilde kapatıldı veya zaten kapatılmış bile tüm işlemleri düzgün döndürülen kanal kapatma özel durumlar oluşturabilecek.</span><span class="sxs-lookup"><span data-stu-id="3bff7-149">Closing the channel can throw exceptions if the connection cannot be cleanly closed or is already closed, even if all the operations returned properly.</span></span>  
  
 <span data-ttu-id="3bff7-150">Genellikle, istemci nesnesi kanalları aşağıdaki yollardan biriyle kapalı:</span><span class="sxs-lookup"><span data-stu-id="3bff7-150">Typically, client object channels are closed in one of the following ways:</span></span>  
  
- <span data-ttu-id="3bff7-151">WCF istemci nesnesi zaman dönüştürülmeden.</span><span class="sxs-lookup"><span data-stu-id="3bff7-151">When the WCF client object is recycled.</span></span>  
  
- <span data-ttu-id="3bff7-152">İstemci uygulaması çağırdığında <xref:System.ServiceModel.ClientBase%601.Close%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3bff7-152">When the client application calls <xref:System.ServiceModel.ClientBase%601.Close%2A?displayProperty=nameWithType>.</span></span>  
  
- <span data-ttu-id="3bff7-153">İstemci uygulaması çağırdığında <xref:System.ServiceModel.ICommunicationObject.Close%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3bff7-153">When the client application calls <xref:System.ServiceModel.ICommunicationObject.Close%2A?displayProperty=nameWithType>.</span></span>  
  
- <span data-ttu-id="3bff7-154">İstemci uygulama bir işlem, çağırdığında, bir oturum için Sonlandırıcı bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-154">When the client application calls an operation that is a terminating operation for a session.</span></span>  
  
 <span data-ttu-id="3bff7-155">Her durumda, kanal kapatma, uygulama düzeyinde karmaşık işlevselliği desteklemek için iletileri gönderme temel alınan tüm kanalları kapatma başlamak için kanal bildirir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-155">In all cases, closing the channel instructs the channel to begin closing any underlying channels that may be sending messages to support complex functionality at the application level.</span></span> <span data-ttu-id="3bff7-156">Örneğin, bir sözleşme oturumları gerektirdiğinde bağlama bir oturumu yeniden kurulana kadar hizmet kanalı ile ileti değiş tokuşu ile oturum oluşturmak çalışır.</span><span class="sxs-lookup"><span data-stu-id="3bff7-156">For example, when a contract requires sessions a binding attempts to establish a session by exchanging messages with the service channel until a session is established.</span></span> <span data-ttu-id="3bff7-157">Kanal kapatıldığında, temel alınan oturum kanalı hizmeti, oturum sonlandırılır bildirir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-157">When the channel is closed, the underlying session channel notifies the service that the session is terminated.</span></span> <span data-ttu-id="3bff7-158">Bu durumda, kanal zaten, kapalı, iptal edilmiş ya da aksi takdirde (örneğin bir ağ kablosu) kullanılamıyor, istemci kanal oturumu sona erer ve bir özel durum sonuçlanabilir hizmet kanalı bildirin olamaz.</span><span class="sxs-lookup"><span data-stu-id="3bff7-158">In this case, if the channel has already aborted, closed, or is otherwise unusable (for example, when a network cable is unplugged), the client channel cannot inform the service channel that the session is terminated and an exception can result.</span></span>  
  
### <a name="abort-the-channel-if-necessary"></a><span data-ttu-id="3bff7-159">Gerekirse, kanal Durdur</span><span class="sxs-lookup"><span data-stu-id="3bff7-159">Abort the Channel If Necessary</span></span>  
 <span data-ttu-id="3bff7-160">Kanal kapatma ayrıca özel durumlar oluşturabilecek çünkü daha sonra doğru sırayla hataya özel durumları yakalama ek olarak, içindeki yakalama bloğunun çağrıyı yapan kullanılan kanalı durdurmak önemlidir, önerilir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-160">Because closing the channel can also throw exceptions, then, it is recommended that in addition to catching fault exceptions in the correct order, it is important to abort the channel that was used in making the call in the catch block.</span></span>  
  
 <span data-ttu-id="3bff7-161">Hata bilgisi için bir işlemi belirli hata iletmez ve başkalarının bunu kullanabilirsiniz olası kalır, (Bu gibi durumlarda nadir olmasına rağmen) kanal iptal etmek için gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="3bff7-161">If the fault conveys error information specific to an operation and it remains possible that others can use it, there is no need to abort the channel (although these cases are rare).</span></span> <span data-ttu-id="3bff7-162">Diğer durumlarda, kanal iptal önerilir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-162">In all other cases, it is recommended that you abort the channel.</span></span> <span data-ttu-id="3bff7-163">Bu noktaları gösteren bir örnek için bkz: [beklenen özel durumlar](../../../docs/framework/wcf/samples/expected-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="3bff7-163">For a sample that demonstrates all of these points, see [Expected Exceptions](../../../docs/framework/wcf/samples/expected-exceptions.md).</span></span>  
  
 <span data-ttu-id="3bff7-164">Aşağıdaki kod örneği, bildirilen hata ve bildirilmemiş bir hata da dahil olmak üzere bir temel istemci uygulaması, SOAP hatası özel durumları işlemek nasıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-164">The following code example shows how to handle SOAP fault exceptions in a basic client application, including a declared fault and an undeclared fault.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3bff7-165">Bu örnek kod kullanmaz `using` oluşturun.</span><span class="sxs-lookup"><span data-stu-id="3bff7-165">This sample code does not use the `using` construct.</span></span> <span data-ttu-id="3bff7-166">Kanal kapatma özel durumlar oluşturabilecek olduğundan, WCF istemci ve ardından açık kullanımı uygulamalar oluşturmak ve Kapat WCF istemcisini aynı blok deneyin önerilir.</span><span class="sxs-lookup"><span data-stu-id="3bff7-166">Because closing channels can throw exceptions, it is recommended that applications create a WCF client first, and then open, use, and close the WCF client in the same try block.</span></span> <span data-ttu-id="3bff7-167">Ayrıntılar için bkz [WCF istemcisi genel bakış](../../../docs/framework/wcf/wcf-client-overview.md) ve [kullanım Kapat ve iptal WCF istemci kaynaklar serbest bırakılacaksa](../../../docs/framework/wcf/samples/use-close-abort-release-wcf-client-resources.md).</span><span class="sxs-lookup"><span data-stu-id="3bff7-167">For details, see [WCF Client Overview](../../../docs/framework/wcf/wcf-client-overview.md) and [Use Close and Abort to release WCF client resources](../../../docs/framework/wcf/samples/use-close-abort-release-wcf-client-resources.md).</span></span>  
  
 [!code-csharp[FaultContractAttribute#3](../../../samples/snippets/csharp/VS_Snippets_CFX/faultcontractattribute/cs/client.cs#3)]
 [!code-vb[FaultContractAttribute#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/faultcontractattribute/vb/client.vb#3)]  
  
## <a name="see-also"></a><span data-ttu-id="3bff7-168">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="3bff7-168">See also</span></span>

- <xref:System.ServiceModel.FaultException>
- <xref:System.ServiceModel.FaultException%601>
- <xref:System.ServiceModel.CommunicationException?displayProperty=nameWithType>
- [<span data-ttu-id="3bff7-169">Beklenen Özel Durumlar</span><span class="sxs-lookup"><span data-stu-id="3bff7-169">Expected Exceptions</span></span>](../../../docs/framework/wcf/samples/expected-exceptions.md)
- [<span data-ttu-id="3bff7-170">WCF istemci kaynakları serbest bırakmak için iptal etmek ve kapatmak kullanın</span><span class="sxs-lookup"><span data-stu-id="3bff7-170">Use Close and Abort to release WCF client resources</span></span>](../../../docs/framework/wcf/samples/use-close-abort-release-wcf-client-resources.md)
