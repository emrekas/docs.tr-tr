---
title: 'En iyi uygulamalar: Veri Sözleşmesi Sürümü Oluşturma'
ms.date: 03/30/2017
helpviewer_keywords:
- data contracts
- service contracts
- best practices [WCF], data contract versioning
- Windows Communication Foundation, data contracts
ms.assetid: bf0ab338-4d36-4e12-8002-8ebfdeb346cb
ms.openlocfilehash: 544ecc3827a698f92ec29855f1e000fce1907386
ms.sourcegitcommit: 3630c2515809e6f4b7dbb697a3354efec105a5cd
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/25/2019
ms.locfileid: "58409477"
---
# <a name="best-practices-data-contract-versioning"></a><span data-ttu-id="b8adb-102">En iyi uygulamalar: Veri Sözleşmesi Sürümü Oluşturma</span><span class="sxs-lookup"><span data-stu-id="b8adb-102">Best Practices: Data Contract Versioning</span></span>
<span data-ttu-id="b8adb-103">Bu konu, zaman içinde kolayca geliştirebilirsiniz veri sözleşmeleri oluşturmak için en iyi uygulamaları listeler.</span><span class="sxs-lookup"><span data-stu-id="b8adb-103">This topic lists the best practices for creating data contracts that can evolve easily over time.</span></span> <span data-ttu-id="b8adb-104">Veri sözleşmeleri hakkında daha fazla bilgi için bkz: konularındaki [kullanarak veri sözleşmeleri](../../../docs/framework/wcf/feature-details/using-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="b8adb-104">For more information about data contracts, see the topics in [Using Data Contracts](../../../docs/framework/wcf/feature-details/using-data-contracts.md).</span></span>  
  
## <a name="note-on-schema-validation"></a><span data-ttu-id="b8adb-105">Şema doğrulaması ilgili not</span><span class="sxs-lookup"><span data-stu-id="b8adb-105">Note on Schema Validation</span></span>  
 <span data-ttu-id="b8adb-106">Veri sözleşmesi sürümü oluşturma görüştükten içinde Windows Communication Foundation (WCF) tarafından verilen veri sözleşmesi şema öğeleri varsayılan olarak isteğe bağlı olarak işaretlenmiş olgu dışındaki herhangi bir sürüm oluşturma desteği sahip olmadığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="b8adb-106">In discussing data contract versioning, it is important to note that the data contract schema exported by Windows Communication Foundation (WCF) does not have any versioning support, other than the fact that elements are marked as optional by default.</span></span>  
  
 <span data-ttu-id="b8adb-107">Başka bir deyişle, yeni bir veri üyesi ekleme gibi bile en yaygın sürüm oluşturma senaryosu, bir şema ile ilgili sorunsuz bir şekilde uygulanamaz.</span><span class="sxs-lookup"><span data-stu-id="b8adb-107">This means that even the most common versioning scenario, such as adding a new data member, cannot be implemented in a way that is seamless with regard to a given schema.</span></span> <span data-ttu-id="b8adb-108">Bir veri anlaşması (ile yeni veri üyesi, örneğin) daha yeni sürümleri eski şemayı kullanarak doğrulamaz.</span><span class="sxs-lookup"><span data-stu-id="b8adb-108">The newer versions of a data contract (with a new data member, for example) do not validate using the old schema.</span></span>  
  
 <span data-ttu-id="b8adb-109">Ancak, katı şema uyumluluk gerekli değil birçok senaryo vardır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-109">However, there are many scenarios in which strict schema compliance is not required.</span></span> <span data-ttu-id="b8adb-110">ASP.NET kullanılarak oluşturulan WCF ve XML Web Hizmetleri gibi birçok Web Hizmetleri platformları değil şema doğrulaması varsayılan olarak gerçekleştirin ve bu nedenle şema tarafından açıklanmayan ekstra öğeler tolerans.</span><span class="sxs-lookup"><span data-stu-id="b8adb-110">Many Web services platforms, including WCF and XML Web services created using ASP.NET, do not perform schema validation by default and therefore tolerate extra elements that are not described by the schema.</span></span> <span data-ttu-id="b8adb-111">Böyle platformları ile çalışırken, birçok sürüm oluşturma senaryoları uygulamak daha kolaydır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-111">When working with such platforms, many versioning scenarios are easier to implement.</span></span>  
  
 <span data-ttu-id="b8adb-112">Bu nedenle, var olan iki veri kümesi sözleşmesi sürümü oluşturma yönergeleri: Burada katı şema geçerlilik önemlidir ve başka ayarlayın senaryoları için olmadığında senaryolar için ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="b8adb-112">Thus, there are two sets of data contract versioning guidelines: one set for scenarios where strict schema validity is important, and another set for scenarios when it is not.</span></span>  
  
## <a name="versioning-when-schema-validation-is-required"></a><span data-ttu-id="b8adb-113">Şema doğrulaması gerektiğinde sürüm oluşturma</span><span class="sxs-lookup"><span data-stu-id="b8adb-113">Versioning When Schema Validation Is Required</span></span>  
 <span data-ttu-id="b8adb-114">Veri sözleşmeleri katı şema geçerlilik tüm yönde (eski yeni ve eski yeni) gerekiyorsa, sabit düşünülmelidir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-114">If strict schema validity is required in all directions (new-to-old and old-to-new), data contracts should be considered immutable.</span></span> <span data-ttu-id="b8adb-115">Sürüm oluşturma gerekiyorsa, yeni bir veri sözleşmesi, farklı bir ad veya ad alanı ile oluşturulmalıdır ve veri türü kullanan bir hizmet sözleşmesini uygun şekilde tutulan olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-115">If versioning is required, a new data contract should be created, with a different name or namespace, and the service contract using the data type should be versioned accordingly.</span></span>  
  
 <span data-ttu-id="b8adb-116">Örneğin, hizmet sözleşmesi adlı işleme satınalma siparişi `PoProcessing` ile bir `PostPurchaseOrder` işlemi uyan bir parametre alır bir `PurchaseOrder` veri anlaşması.</span><span class="sxs-lookup"><span data-stu-id="b8adb-116">For example, a purchase order processing service contract named `PoProcessing` with a `PostPurchaseOrder` operation takes a parameter that conforms to a `PurchaseOrder` data contract.</span></span> <span data-ttu-id="b8adb-117">Varsa `PurchaseOrder` sözleşme sahip değiştirmek, diğer bir deyişle, yeni bir veri anlaşması oluşturmalısınız `PurchaseOrder2`, değişiklikler içerir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-117">If the `PurchaseOrder` contract has to change, you must create a new data contract, that is, `PurchaseOrder2`, which includes the changes.</span></span> <span data-ttu-id="b8adb-118">Ardından, hizmet sözleşmesi düzeyinde sürüm işlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-118">You must then handle the versioning at the service contract level.</span></span> <span data-ttu-id="b8adb-119">Oluşturarak Örneğin, bir `PostPurchaseOrder2` alan işlemi `PurchaseOrder2` parametresi veya oluşturarak bir `PoProcessing2` hizmet sözleşmesini nereden `PostPurchaseOrder` işlemi alır bir `PurchaseOrder2` veri anlaşması.</span><span class="sxs-lookup"><span data-stu-id="b8adb-119">For example, by creating a `PostPurchaseOrder2` operation that takes the `PurchaseOrder2` parameter, or by creating a `PoProcessing2` service contract where the `PostPurchaseOrder` operation takes a `PurchaseOrder2` data contract.</span></span>  
  
 <span data-ttu-id="b8adb-120">Diğer veri sözleşmeleri tarafından başvurulan veri anlaşmalarında değişiklikler de için hizmet modeli katmanını genişletme unutmayın.</span><span class="sxs-lookup"><span data-stu-id="b8adb-120">Note that changes in data contracts that are referenced by other data contracts also extend to the service model layer.</span></span> <span data-ttu-id="b8adb-121">Örneğin, önceki senaryoda `PurchaseOrder` veri anlaşması değiştirmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="b8adb-121">For example, in the previous scenario the `PurchaseOrder` data contract does not need to change.</span></span> <span data-ttu-id="b8adb-122">Ancak, veri üyesi içerdiği bir `Customer` sırayla veri üyesi bulunan veri anlaşması `Address` değiştirilmesi gereken veri sözleşmesi,.</span><span class="sxs-lookup"><span data-stu-id="b8adb-122">However, it contains a data member of a `Customer` data contract, which in turn contained a data member of the `Address` data contract, which does need to be changed.</span></span> <span data-ttu-id="b8adb-123">Bu durumda, oluşturmanız gerekecektir bir `Address2` gerekli değişiklikleri ile veri anlaşması bir `Customer2` içeren veri anlaşması `Address2` veri üyesi ve `PurchaseOrder2` içeren veri anlaşması bir `Customer2` veri üyesi.</span><span class="sxs-lookup"><span data-stu-id="b8adb-123">In that case, you would need to create an `Address2` data contract with the required changes, a `Customer2` data contract that contains the `Address2` data member, and a `PurchaseOrder2` data contract that contains a `Customer2` data member.</span></span> <span data-ttu-id="b8adb-124">Önceki örnekte olduğu gibi hizmet sözleşmesi de tutulan olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-124">As in the previous case, the service contract would have to be versioned as well.</span></span>  
  
 <span data-ttu-id="b8adb-125">Bu örneklerde ("2" ekleyerek) adları değiştirildi olsa da, yeni ad alanları bir sürüm numarası veya bir tarih ile ekleyerek adları yerine ad alanlarını değiştirmek için kullanılması önerilir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-125">Although in these examples names are changed (by appending a "2"), the recommendation is to change namespaces instead of names by appending new namespaces with a version number or a date.</span></span> <span data-ttu-id="b8adb-126">Örneğin, `http://schemas.contoso.com/2005/05/21/PurchaseOrder` veri anlaşması değiştirmek `http://schemas.contoso.com/2005/10/14/PurchaseOrder` veri anlaşması.</span><span class="sxs-lookup"><span data-stu-id="b8adb-126">For example, the `http://schemas.contoso.com/2005/05/21/PurchaseOrder` data contract would change to the `http://schemas.contoso.com/2005/10/14/PurchaseOrder` data contract.</span></span>  
  
 <span data-ttu-id="b8adb-127">Daha fazla bilgi için bkz: [Hizmet sürümü oluşturma](../../../docs/framework/wcf/service-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="b8adb-127">For more information, see Best Practices: [Service Versioning](../../../docs/framework/wcf/service-versioning.md).</span></span>  
  
 <span data-ttu-id="b8adb-128">Bazen, uygulamanız tarafından gönderilen iletiler için katı şema uyumluluğu garanti gerekir ancak kesinlikle şema uyumlu olması için gelen iletiler güvenemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="b8adb-128">Occasionally, you must guarantee strict schema compliance for messages sent by your application, but cannot rely on the incoming messages to be strictly schema-compliant.</span></span> <span data-ttu-id="b8adb-129">Bu durumda, gelen ileti fazlalık veri içerebilir bir olma tehlikesi yoktur.</span><span class="sxs-lookup"><span data-stu-id="b8adb-129">In this case, there is a danger that an incoming message might contain extraneous data.</span></span> <span data-ttu-id="b8adb-130">Fazlalık değerler depolanabilir ve WCF tarafından döndürülen ve bu nedenle gönderilen iletileri şema geçersiz olur.</span><span class="sxs-lookup"><span data-stu-id="b8adb-130">The extraneous values are stored and returned by WCF and thus results in schema-invalid messages being sent.</span></span> <span data-ttu-id="b8adb-131">Bu sorunu önlemek için gidiş dönüşü özellik kapatılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-131">To avoid this problem, the round-tripping feature should be turned off.</span></span> <span data-ttu-id="b8adb-132">Bunu yapmanın iki yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-132">There are two ways to do this.</span></span>  
  
-   <span data-ttu-id="b8adb-133">Uygulamayın <xref:System.Runtime.Serialization.IExtensibleDataObject> tüm türleri arabirimi.</span><span class="sxs-lookup"><span data-stu-id="b8adb-133">Do not implement the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface on any of your types.</span></span>  
  
-   <span data-ttu-id="b8adb-134">Geçerli bir <xref:System.ServiceModel.ServiceBehaviorAttribute> öznitelik, hizmet sözleşmesi ile <xref:System.ServiceModel.ServiceBehaviorAttribute.IgnoreExtensionDataObject%2A> özelliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="b8adb-134">Apply a <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute to your service contract with the <xref:System.ServiceModel.ServiceBehaviorAttribute.IgnoreExtensionDataObject%2A> property set to `true`.</span></span>  
  
 <span data-ttu-id="b8adb-135">Gidiş dönüşü hakkında daha fazla bilgi için bkz: [İleri uyumlu veri sözleşmeleri](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="b8adb-135">For more information about round-tripping, see [Forward-Compatible Data Contracts](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span></span>  
  
## <a name="versioning-when-schema-validation-is-not-required"></a><span data-ttu-id="b8adb-136">Şema doğrulaması gerekmediğinde sürüm oluşturma</span><span class="sxs-lookup"><span data-stu-id="b8adb-136">Versioning When Schema Validation Is Not Required</span></span>  
 <span data-ttu-id="b8adb-137">Katı şema uyumluluk nadiren gereklidir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-137">Strict schema compliance is rarely required.</span></span> <span data-ttu-id="b8adb-138">Birçok platformda bir şema tarafından açıklanmayan ekstra öğeler tolerans.</span><span class="sxs-lookup"><span data-stu-id="b8adb-138">Many platforms tolerate extra elements not described by a schema.</span></span> <span data-ttu-id="b8adb-139">Bu izin sürece, özelliklerin tamamı açıklanan [veri sözleşmesi sürümü oluşturma](../../../docs/framework/wcf/feature-details/data-contract-versioning.md) ve [İleri uyumlu veri sözleşmeleri](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md) kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-139">As long as this is tolerated, the full set of features described in [Data Contract Versioning](../../../docs/framework/wcf/feature-details/data-contract-versioning.md) and [Forward-Compatible Data Contracts](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md) can be used.</span></span> <span data-ttu-id="b8adb-140">Aşağıdaki yönergeler önerilir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-140">The following guidelines are recommended.</span></span>  
  
 <span data-ttu-id="b8adb-141">Bazı yönergeler daha eski beklenirken yeni sürümleri bir türün tam olarak göndermek için izlenmesi gereken veya yeni bir tane beklenirken eski bir gönderin.</span><span class="sxs-lookup"><span data-stu-id="b8adb-141">Some of the guidelines must be followed exactly in order to send new versions of a type where an older one is expected or send an old one where the new one is expected.</span></span> <span data-ttu-id="b8adb-142">Diğer yönergeleri kati şekilde gerekli değildir, ancak şema sürümü geleceği tarafından etkilenebilir, çünkü burada listelenir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-142">Other guidelines are not strictly required, but are listed here because they may be affected by the future of schema versioning.</span></span>  
  
1.  <span data-ttu-id="b8adb-143">Sürüm veri sözleşmelerine göre türü devralma çalışmayın.</span><span class="sxs-lookup"><span data-stu-id="b8adb-143">Do not attempt to version data contracts by type inheritance.</span></span> <span data-ttu-id="b8adb-144">Sonraki sürümler oluşturmak için var olan bir türü veri anlaşması değiştirin veya yeni ilişkisiz türü oluşturun.</span><span class="sxs-lookup"><span data-stu-id="b8adb-144">To create later versions, either change the data contract on an existing type or create a new unrelated type.</span></span>  
  
2.  <span data-ttu-id="b8adb-145">Devralma, sürüm oluşturma mekanizması olarak kullanılmaz ve belirli kuralları takip koşuluyla devralma veri sözleşmeleri ile birlikte kullanımı verilmez.</span><span class="sxs-lookup"><span data-stu-id="b8adb-145">The use of inheritance together with data contracts is allowed, provided that inheritance is not used as a versioning mechanism and that certain rules are followed.</span></span> <span data-ttu-id="b8adb-146">Bir tür belirli temel türünden türer ise, gelecek sürümlerinden farklı bir temel tür türetilir yapmayın (aynı verilere sahip olmadığı sürece sözleşme).</span><span class="sxs-lookup"><span data-stu-id="b8adb-146">If a type derives from a certain base type, do not make it derive from a different base type in a future version (unless it has the same data contract).</span></span> <span data-ttu-id="b8adb-147">Bunun tek istisnası vardır: bir veri anlaşması türü kendi temel türü arasındaki hiyerarşi içine bir tür ekleyebilirsiniz, ancak yalnızca veri üyeleri ile içermiyorsa hiyerarşideki diğer türleri olası tüm sürümlerini diğer üyelerin aynı adları.</span><span class="sxs-lookup"><span data-stu-id="b8adb-147">There is one exception to this: you can insert a type into the hierarchy between a data contract type and its base type, but only if it does not contain data members with the same names as other members in any possible versions of the other types in the hierarchy.</span></span> <span data-ttu-id="b8adb-148">Genel olarak, farklı düzeylerde aynı aynı ada sahip veri üyeleri kullanarak Devralma Hiyerarşisi sürüm ciddi sorunlara yol açabilir ve kaçınılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-148">In general, using data members with the same names at different levels of the same inheritance hierarchy can lead to serious versioning problems and should be avoided.</span></span>  
  
3.  <span data-ttu-id="b8adb-149">Bir veri sözleşmesi ilk sürümünden itibaren her zaman uygulama <xref:System.Runtime.Serialization.IExtensibleDataObject> gidiş dönüşü etkinleştirmek için.</span><span class="sxs-lookup"><span data-stu-id="b8adb-149">Starting with the first version of a data contract, always implement <xref:System.Runtime.Serialization.IExtensibleDataObject> to enable round-tripping.</span></span> <span data-ttu-id="b8adb-150">Daha fazla bilgi için [İleri uyumlu veri sözleşmeleri](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="b8adb-150">For more information, see [Forward-Compatible Data Contracts](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md).</span></span> <span data-ttu-id="b8adb-151">Bu arabirim uygulamadan bir veya daha fazla sürümleri bir türün yayımlandı, türü bir sonraki sürümünde uygulayın.</span><span class="sxs-lookup"><span data-stu-id="b8adb-151">If you have released one or more versions of a type without implementing this interface, implement it in the next version of the type.</span></span>  
  
4.  <span data-ttu-id="b8adb-152">Sonraki sürümlerde, veri anlaşması adına veya ad alanı değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="b8adb-152">In later versions, do not change the data contract name or namespace.</span></span> <span data-ttu-id="b8adb-153">Adını veya temel alınan veri anlaşması türünün ad alanını değiştirme, ad alanı ve veri anlaşması adına gibi uygun mekanizmaları kullanarak doğru yazdığınızdan emin <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> özelliği <xref:System.Runtime.Serialization.DataContractAttribute>.</span><span class="sxs-lookup"><span data-stu-id="b8adb-153">If changing the name or namespace of the type underlying the data contract, be sure to preserve the data contract name and namespace by using the appropriate mechanisms, such as the <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> property of the <xref:System.Runtime.Serialization.DataContractAttribute>.</span></span> <span data-ttu-id="b8adb-154">Adlandırma hakkında daha fazla bilgi için bkz. [veri sözleşmesi adları](../../../docs/framework/wcf/feature-details/data-contract-names.md).</span><span class="sxs-lookup"><span data-stu-id="b8adb-154">For more information about naming, see [Data Contract Names](../../../docs/framework/wcf/feature-details/data-contract-names.md).</span></span>  
  
5.  <span data-ttu-id="b8adb-155">Sonraki sürümlerde, tüm veri üyelerinin adları değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="b8adb-155">In later versions, do not change the names of any data members.</span></span> <span data-ttu-id="b8adb-156">Alan, özelliği veya veri üyesi temel olay adının değiştirilmesi kullanırsanız `Name` özelliği <xref:System.Runtime.Serialization.DataMemberAttribute> mevcut veri üye adına korumak için.</span><span class="sxs-lookup"><span data-stu-id="b8adb-156">If changing the name of the field, property, or event underlying the data member, use the `Name` property of the <xref:System.Runtime.Serialization.DataMemberAttribute> to preserve the existing data member name.</span></span>  
  
6.  <span data-ttu-id="b8adb-157">Sonraki sürümlerde, herhangi bir alan, özelliği veya sağlayacak şekilde ilgili veri üye değişiklikleri için ortaya çıkan veri anlaşması veri üyesi temel olay türünü değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="b8adb-157">In later versions, do not change the type of any field, property, or event underlying a data member such that the resulting data contract for that data member changes.</span></span> <span data-ttu-id="b8adb-158">Arabirim türleri etkilenebileceğini eşdeğer <xref:System.Object> beklenen veri anlaşması belirleme amacıyla.</span><span class="sxs-lookup"><span data-stu-id="b8adb-158">Keep in mind that interface types are equivalent to <xref:System.Object> for the purposes of determining the expected data contract.</span></span>  
  
7.  <span data-ttu-id="b8adb-159">Sonraki sürümlerde, mevcut veri üyelerinin sırasını ayarlayarak değiştirmeyin <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> özelliği <xref:System.Runtime.Serialization.DataMemberAttribute> özniteliği.</span><span class="sxs-lookup"><span data-stu-id="b8adb-159">In later versions, do not change the order of the existing data members by adjusting the <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute.</span></span>  
  
8.  <span data-ttu-id="b8adb-160">Sonraki sürümlerde, yeni veri üyeleri eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-160">In later versions, new data members can be added.</span></span> <span data-ttu-id="b8adb-161">Bunlar, her zaman bu kuralları izlemelidir:</span><span class="sxs-lookup"><span data-stu-id="b8adb-161">They should always follow these rules:</span></span>  
  
    1.  <span data-ttu-id="b8adb-162"><xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> Özelliği her zaman sol varsayılan değerine `false`.</span><span class="sxs-lookup"><span data-stu-id="b8adb-162">The <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property should always be left at its default value of `false`.</span></span>  
  
    2.  <span data-ttu-id="b8adb-163">Varsayılan değeri, `null` veya üye için sıfır kabul edilemez, bir geri çağırma yöntemi kullanarak sağlanmalıdır <xref:System.Runtime.Serialization.OnDeserializingAttribute> üye gelen akışta mevcut değilse, makul bir varsayılan değer sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="b8adb-163">If a default value of `null` or zero for the member is unacceptable, a callback method should be provided using the <xref:System.Runtime.Serialization.OnDeserializingAttribute> to provide a reasonable default in case the member is not present in the incoming stream.</span></span> <span data-ttu-id="b8adb-164">Geri çağırma hakkında daha fazla bilgi için bkz: [sürüme dayanıklı serileştirme geri çağırmaları](../../../docs/framework/wcf/feature-details/version-tolerant-serialization-callbacks.md).</span><span class="sxs-lookup"><span data-stu-id="b8adb-164">For more information about the callback, see [Version-Tolerant Serialization Callbacks](../../../docs/framework/wcf/feature-details/version-tolerant-serialization-callbacks.md).</span></span>  
  
    3.  <span data-ttu-id="b8adb-165"><xref:System.Runtime.Serialization.DataMemberAttribute.Order?displayProperty=nameWithType> Özelliği, tüm yeni eklenen veri üyelerinin sonra var olan veri üyeleri göründüğünden emin olmak için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-165">The <xref:System.Runtime.Serialization.DataMemberAttribute.Order?displayProperty=nameWithType> property should be used to make sure that all of the newly added data members appear after the existing data members.</span></span> <span data-ttu-id="b8adb-166">Bu önerilen yöntem aşağıdaki gibidir: İlk veri sözleşmesi sürümü veri üyeleri hiçbiri olmalıdır, `Order` özellik kümesi.</span><span class="sxs-lookup"><span data-stu-id="b8adb-166">The recommended way of doing this is as follows: None of the data members in the first version of the data contract should have their `Order` property set.</span></span> <span data-ttu-id="b8adb-167">Tüm veri anlaşması 2 sürümünde eklenen veri üyelerinin olması gerekir, `Order` özelliği 2 olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="b8adb-167">All of the data members added in version 2 of the data contract should have their `Order` property set to 2.</span></span> <span data-ttu-id="b8adb-168">Tüm veri anlaşması 3. sürümüne eklenen veri üyelerinin olması gerekir, `Order` 3 olarak ayarlayın ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="b8adb-168">All of the data members added in version 3 of the data contract should have their `Order` set to 3, and so on.</span></span> <span data-ttu-id="b8adb-169">Birden fazla veri üyesi aynı ayarlamak için izin verilen `Order` sayı.</span><span class="sxs-lookup"><span data-stu-id="b8adb-169">It is permissible to have more than one data member set to the same `Order` number.</span></span>  
  
9. <span data-ttu-id="b8adb-170">Veri üyeleri, sonraki sürümlerde kaldırmayın bile <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> özelliği, varsayılan özellik sol `false` önceki sürümlerinde.</span><span class="sxs-lookup"><span data-stu-id="b8adb-170">Do not remove data members in later versions, even if the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property was left at its default property of `false` in prior versions.</span></span>  
  
10. <span data-ttu-id="b8adb-171">Değişmez `IsRequired` tüm var olan sürüm veri üyelerinin sürümünden özelliği.</span><span class="sxs-lookup"><span data-stu-id="b8adb-171">Do not change the `IsRequired` property on any existing data members from version to version.</span></span>  
  
11. <span data-ttu-id="b8adb-172">Gerekli veri üyeleri için (burada `IsRequired` olduğu `true`), değiştirmeyin `EmitDefaultValue` sürüm özelliğine sürümü.</span><span class="sxs-lookup"><span data-stu-id="b8adb-172">For required data members (where `IsRequired` is `true`), do not change the `EmitDefaultValue` property from version to version.</span></span>  
  
12. <span data-ttu-id="b8adb-173">Dallı sürüm hiyerarşileri oluşturmaya çalışmayın.</span><span class="sxs-lookup"><span data-stu-id="b8adb-173">Do not attempt to create branched versioning hierarchies.</span></span> <span data-ttu-id="b8adb-174">Diğer bir deyişle, her zaman olmalıdır bir yolu yalnızca bu yönergeleri tarafından izin verilen değişiklikleri kullanarak başka bir sürüm için herhangi bir sürümünden en az bir yönde.</span><span class="sxs-lookup"><span data-stu-id="b8adb-174">That is, there should always be a path in at least one direction from any version to any other version using only the changes permitted by these guidelines.</span></span>  
  
     <span data-ttu-id="b8adb-175">Bir kişi veri sözleşmesi sürümü 1 yalnızca adı veri üyesi içeriyorsa, örneğin, yalnızca yaş üye ve sürüm 2b ekleme Sözleşme sürümü 2a oluşturmamalısınız adresi üyesi ekleniyor.</span><span class="sxs-lookup"><span data-stu-id="b8adb-175">For example, if version 1 of a Person data contract contains only the Name data member, you should not create version 2a of the contract adding only the Age member and version 2b adding only the Address member.</span></span> <span data-ttu-id="b8adb-176">2a gitmeyi 2b yaş kaldırarak ve eklemenin içerir; diğer yönde giderek kaldırma adresi ve ekleme yaş gerektirdiği.</span><span class="sxs-lookup"><span data-stu-id="b8adb-176">Going from 2a to 2b would involve removing Age and adding Address; going in the other direction would entail removing Address and adding Age.</span></span> <span data-ttu-id="b8adb-177">Bu yönergelere göre üyeler kaldırılırken izin verilmez.</span><span class="sxs-lookup"><span data-stu-id="b8adb-177">Removing members is not permitted by these guidelines.</span></span>  
  
13. <span data-ttu-id="b8adb-178">Genellikle, uygulamanızın yeni bir sürümünde var olan veri anlaşması türleri yeni subtypes oluşturmamalısınız.</span><span class="sxs-lookup"><span data-stu-id="b8adb-178">You should generally not create new subtypes of existing data contract types in a new version of your application.</span></span> <span data-ttu-id="b8adb-179">Benzer şekilde, veri üyeleri yerine nesnesi veya arabirim türleri olarak kullanılan yeni veri sözleşmeleri oluşturmamalısınız.</span><span class="sxs-lookup"><span data-stu-id="b8adb-179">Likewise, you should not create new data contracts that are used in place of data members declared as Object or as interface types.</span></span> <span data-ttu-id="b8adb-180">Yeni türleri, eski uygulamanın tüm örneklerini bilinen türler listesine ekleyebilirsiniz bildiğinizde, bu yeni sınıflar oluşturma izin verilir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-180">Creating these new classes is allowed only when you know that you can add the new types to the known types list of all instances of your old application.</span></span> <span data-ttu-id="b8adb-181">Örneğin, sürümünde uygulamanızı 1 LibraryItem veri sözleşme türü Defterinizle ve subtypes sözleşme gazete veri olabilir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-181">For example, in version 1 of your application, you may have the LibraryItem data contract type with the Book and Newspaper data contract subtypes.</span></span> <span data-ttu-id="b8adb-182">LibraryItem ardından kitap ve gazete içeren bilinen türleri listesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-182">LibraryItem would then have a known types list that contains Book and Newspaper.</span></span> <span data-ttu-id="b8adb-183">Bir alt LibraryItem olan sürüm 2 şimdi Magazine türü ekleyin varsayalım.</span><span class="sxs-lookup"><span data-stu-id="b8adb-183">Suppose you now add a Magazine type in version 2 which is a subtype of LibraryItem.</span></span> <span data-ttu-id="b8adb-184">Sürüm 2 ' sürüm 1 Magazine örneği gönderirseniz, dergi veri sözleşme bilinen türleri listesinde bulunamadı ve bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="b8adb-184">If you send a Magazine instance from version 2 to version 1, the Magazine data contract is not found in the list of known types and an exception is thrown.</span></span>  
  
14. <span data-ttu-id="b8adb-185">Değil ekleyin veya sürümleri arasında numaralandırma üyelerini kaldırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-185">You should not add or remove enumeration members between versions.</span></span> <span data-ttu-id="b8adb-186">Name özelliği kullanmıyorsanız, ayrıca numaralandırma üyelerini değiştirmemeniz gerekir `EnumMemberAttribute` adlarını aynı veri anlaşması modelinde tutmak için özniteliği.</span><span class="sxs-lookup"><span data-stu-id="b8adb-186">You should also not rename enumeration members, unless you use the Name property on the `EnumMemberAttribute` attribute to keep their names in the data contract model the same.</span></span>  
  
15. <span data-ttu-id="b8adb-187">Koleksiyonları açıklanan veri sözleşme modelinde birbirinin yerine [veri anlaşmalarında koleksiyon türleri](../../../docs/framework/wcf/feature-details/collection-types-in-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="b8adb-187">Collections are interchangeable in the data contract model as described in [Collection Types in Data Contracts](../../../docs/framework/wcf/feature-details/collection-types-in-data-contracts.md).</span></span> <span data-ttu-id="b8adb-188">Bu işlem için önemli ölçüde esneklik sağlar.</span><span class="sxs-lookup"><span data-stu-id="b8adb-188">This allows for a great degree of flexibility.</span></span> <span data-ttu-id="b8adb-189">Ancak, yanlışlıkla bir olmayan-birbirinin yerine bir koleksiyon türü şekilde sürümü sürümü değiştirmemenizi emin olun.</span><span class="sxs-lookup"><span data-stu-id="b8adb-189">However, make sure that you do not inadvertently change a collection type in a non-interchangeable way from version to version.</span></span> <span data-ttu-id="b8adb-190">Örneğin, özelleştirilmiş olmayan bir koleksiyondan değiştirme (olmadan, diğer bir deyişle, `CollectionDataContractAttribute` özniteliği) özelleştirilmiş bir ya da özelleştirilmiş olmayan bir özelleştirilmiş bir koleksiyon.</span><span class="sxs-lookup"><span data-stu-id="b8adb-190">For example, do not change from a non-customized collection (that is, without the `CollectionDataContractAttribute` attribute) to a customized one or a customized collection to a non-customized one.</span></span> <span data-ttu-id="b8adb-191">Ayrıca, özelliklerini değiştirmeyin `CollectionDataContractAttribute` sürümü başka bir sürümü.</span><span class="sxs-lookup"><span data-stu-id="b8adb-191">Also, do not change the properties on the `CollectionDataContractAttribute` from version to version.</span></span> <span data-ttu-id="b8adb-192">İzin verilen tek değişiklik bir Name ya da Namespace özelliği temel alınan koleksiyon türün adı veya ad alanı değişmişse ve verilerini yapmanız ekliyor ve ad alanına sözleşme önceki bir sürümü ile aynıdır.</span><span class="sxs-lookup"><span data-stu-id="b8adb-192">The only allowed change is adding a Name or Namespace property if the underlying collection type's name or namespace has changed and you need to make its data contract name and namespace the same as in a previous version.</span></span>  
  
 <span data-ttu-id="b8adb-193">Burada listelenen yönergeleri bazı özel durumlar uygulandığında güvenle yoksayılabilir.</span><span class="sxs-lookup"><span data-stu-id="b8adb-193">Some of the guidelines listed here can be safely ignored when special circumstances apply.</span></span> <span data-ttu-id="b8adb-194">Seri hale getirme, seri durumundan çıkarma ve şema mekanizmaları ilgili yönergeleri'ndeki deviating önce tam olarak anladığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="b8adb-194">Make sure you fully understand the serialization, deserialization, and schema mechanisms involved before deviating from the guidelines.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b8adb-195">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="b8adb-195">See also</span></span>
- <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A>
- <xref:System.Runtime.Serialization.DataContractAttribute>
- <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A>
- <xref:System.Runtime.Serialization.IExtensibleDataObject>
- <xref:System.ServiceModel.ServiceBehaviorAttribute>
- <xref:System.Runtime.Serialization.IExtensibleDataObject.ExtensionData%2A>
- <xref:System.Runtime.Serialization.ExtensionDataObject>
- <xref:System.Runtime.Serialization.OnDeserializingAttribute>
- [<span data-ttu-id="b8adb-196">Veri Anlaşmalarını Kullanma</span><span class="sxs-lookup"><span data-stu-id="b8adb-196">Using Data Contracts</span></span>](../../../docs/framework/wcf/feature-details/using-data-contracts.md)
- [<span data-ttu-id="b8adb-197">Veri Anlaşması Sürümü Oluşturma</span><span class="sxs-lookup"><span data-stu-id="b8adb-197">Data Contract Versioning</span></span>](../../../docs/framework/wcf/feature-details/data-contract-versioning.md)
- [<span data-ttu-id="b8adb-198">Veri Anlaşması Adları</span><span class="sxs-lookup"><span data-stu-id="b8adb-198">Data Contract Names</span></span>](../../../docs/framework/wcf/feature-details/data-contract-names.md)
- [<span data-ttu-id="b8adb-199">İleri Uyumlu Veri Anlaşmaları</span><span class="sxs-lookup"><span data-stu-id="b8adb-199">Forward-Compatible Data Contracts</span></span>](../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md)
- [<span data-ttu-id="b8adb-200">Sürüm Toleranslı Seri Hale Getirme Geri Çağrıları</span><span class="sxs-lookup"><span data-stu-id="b8adb-200">Version-Tolerant Serialization Callbacks</span></span>](../../../docs/framework/wcf/feature-details/version-tolerant-serialization-callbacks.md)
