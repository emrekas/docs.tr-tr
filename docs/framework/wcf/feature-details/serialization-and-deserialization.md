---
title: Seri Hale Getirme ve Seri Durumdan Çıkarma
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 3d71814c-bda7-424b-85b7-15084ff9377a
ms.openlocfilehash: 085186eae034314437d5a0c1fe90e6cdf6902c5e
ms.sourcegitcommit: 581ab03291e91983459e56e40ea8d97b5189227e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/27/2019
ms.locfileid: "70045847"
---
# <a name="serialization-and-deserialization"></a><span data-ttu-id="142a7-102">Seri Hale Getirme ve Seri Durumdan Çıkarma</span><span class="sxs-lookup"><span data-stu-id="142a7-102">Serialization and Deserialization</span></span>
<span data-ttu-id="142a7-103">Windows Communication Foundation (WCF) yeni bir serileştirme altyapısı içerir, <xref:System.Runtime.Serialization.DataContractSerializer>.</span><span class="sxs-lookup"><span data-stu-id="142a7-103">Windows Communication Foundation (WCF) includes a new serialization engine, the <xref:System.Runtime.Serialization.DataContractSerializer>.</span></span> <span data-ttu-id="142a7-104">.NET Framework nesneleri ve XML arasında her iki yönde çevirir.<xref:System.Runtime.Serialization.DataContractSerializer></span><span class="sxs-lookup"><span data-stu-id="142a7-104">The <xref:System.Runtime.Serialization.DataContractSerializer> translates between .NET Framework objects and XML, in both directions.</span></span> <span data-ttu-id="142a7-105">Bu konuda, serileştiricinin nasıl çalıştığı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="142a7-105">This topic explains how the serializer works.</span></span>  
  
 <span data-ttu-id="142a7-106">.NET Framework nesneleri serileştirilirken, serileştirici, yeni *veri sözleşmesi* modeli de dahil olmak üzere çeşitli serileştirme programlama modellerini anlamıştır.</span><span class="sxs-lookup"><span data-stu-id="142a7-106">When serializing .NET Framework objects, the serializer understands a variety of serialization programming models, including the new *data contract* model.</span></span> <span data-ttu-id="142a7-107">Desteklenen türlerin tam listesi için bkz. [veri sözleşmesi serileştiricisi tarafından desteklenen türler](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span><span class="sxs-lookup"><span data-stu-id="142a7-107">For a full list of supported types, see [Types Supported by the Data Contract Serializer](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md).</span></span> <span data-ttu-id="142a7-108">Veri sözleşmelerine giriş için bkz. [Veri Sözleşmelerini Kullanma](../../../../docs/framework/wcf/feature-details/using-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="142a7-108">For an introduction to data contracts, see [Using Data Contracts](../../../../docs/framework/wcf/feature-details/using-data-contracts.md).</span></span>  
  
 <span data-ttu-id="142a7-109">XML serisi kaldırılırken, serileştirici <xref:System.Xml.XmlReader> ve <xref:System.Xml.XmlWriter> sınıflarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="142a7-109">When deserializing XML, the serializer uses the <xref:System.Xml.XmlReader> and <xref:System.Xml.XmlWriter> classes.</span></span> <span data-ttu-id="142a7-110">Ayrıca, <xref:System.Xml.XmlDictionaryReader> WCF ikili XML <xref:System.Xml.XmlDictionaryWriter> biçimi kullanılırken olduğu gibi bazı durumlarda iyileştirilmiş XML üretmesine olanak tanımak için ve sınıflarını destekler.</span><span class="sxs-lookup"><span data-stu-id="142a7-110">It also supports the <xref:System.Xml.XmlDictionaryReader> and <xref:System.Xml.XmlDictionaryWriter> classes to enable it to produce optimized XML in some cases, such as when using the WCF binary XML format.</span></span>  
  
 <span data-ttu-id="142a7-111">WCF Ayrıca bir yardımcı seri hale getirici <xref:System.Runtime.Serialization.NetDataContractSerializer>içerir.</span><span class="sxs-lookup"><span data-stu-id="142a7-111">WCF also includes a companion serializer, the <xref:System.Runtime.Serialization.NetDataContractSerializer>.</span></span> <span data-ttu-id="142a7-112"><xref:System.Runtime.Serialization.NetDataContractSerializer> <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> , Ve<xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> serileştiricilerle benzerdir çünkü Ayrıca, seri hale getirilmiş verilerin bir parçası olarak .NET Framework tür adları da yayar.</span><span class="sxs-lookup"><span data-stu-id="142a7-112">The <xref:System.Runtime.Serialization.NetDataContractSerializer> is similar to the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> serializers because it also emits .NET Framework type names as part of the serialized data.</span></span> <span data-ttu-id="142a7-113">Aynı türler serileştirilmede paylaşıldığında ve seri durumdan çıkarma bittikten sonra kullanılır.</span><span class="sxs-lookup"><span data-stu-id="142a7-113">It is used when the same types are shared on the serializing and the deserializing ends.</span></span> <span data-ttu-id="142a7-114">Hem hem de ,<xref:System.Runtime.Serialization.XmlObjectSerializer>ortak bir temel sınıftan türet,.<xref:System.Runtime.Serialization.NetDataContractSerializer> <xref:System.Runtime.Serialization.DataContractSerializer></span><span class="sxs-lookup"><span data-stu-id="142a7-114">Both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Runtime.Serialization.NetDataContractSerializer> derive from a common base class, the <xref:System.Runtime.Serialization.XmlObjectSerializer>.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="142a7-115">, <xref:System.Runtime.Serialization.DataContractSerializer> Denetim karakterlerini içeren dizeleri xml varlıkları olarak 20 ' nin altında olan onaltılık bir değerle seri hale getirir.</span><span class="sxs-lookup"><span data-stu-id="142a7-115">The <xref:System.Runtime.Serialization.DataContractSerializer> serializes strings containing control characters with a hexadecimal value below 20 as XML entities.</span></span> <span data-ttu-id="142a7-116">Bu, bir WCF hizmetine bu tür veriler gönderilirken WCF olmayan bir istemciyle ilgili soruna neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-116">This may cause a problem with a non-WCF client when sending such data to a WCF service.</span></span>  
  
## <a name="creating-a-datacontractserializer-instance"></a><span data-ttu-id="142a7-117">DataContractSerializer örneği oluşturma</span><span class="sxs-lookup"><span data-stu-id="142a7-117">Creating a DataContractSerializer Instance</span></span>  
 <span data-ttu-id="142a7-118">Öğesinin <xref:System.Runtime.Serialization.DataContractSerializer> bir örneğini oluşturmak önemli bir adımdır.</span><span class="sxs-lookup"><span data-stu-id="142a7-118">Constructing an instance of the <xref:System.Runtime.Serialization.DataContractSerializer> is an important step.</span></span> <span data-ttu-id="142a7-119">Oluşturma işleminden sonra ayarları değiştiremezsiniz.</span><span class="sxs-lookup"><span data-stu-id="142a7-119">After construction, you cannot change any of the settings.</span></span>  
  
### <a name="specifying-the-root-type"></a><span data-ttu-id="142a7-120">Kök türünü belirtme</span><span class="sxs-lookup"><span data-stu-id="142a7-120">Specifying the Root Type</span></span>  
 <span data-ttu-id="142a7-121">*Kök türü* , örnekleri seri hale getirilen veya seri durumdan çıkarılan türüdür.</span><span class="sxs-lookup"><span data-stu-id="142a7-121">The *root type* is the type of which instances are serialized or deserialized.</span></span> <span data-ttu-id="142a7-122">Birçok Oluşturucu aşırı yüküne `type` sahiptir,ancakenazından,parametresikullanılarakbirköktürüsağlanmalıdır.<xref:System.Runtime.Serialization.DataContractSerializer></span><span class="sxs-lookup"><span data-stu-id="142a7-122">The <xref:System.Runtime.Serialization.DataContractSerializer> has many constructor overloads, but, at a minimum, a root type must be supplied using the `type` parameter.</span></span>  
  
 <span data-ttu-id="142a7-123">Belirli bir kök türü için oluşturulan serileştirici, tür kök türünden türetilmediği takdirde, başka bir türü seri hale getirmek (veya serisini kaldırmak) için kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="142a7-123">A serializer created for a certain root type cannot be used to serialize (or deserialize) another type, unless the type is derived from the root type.</span></span> <span data-ttu-id="142a7-124">Aşağıdaki örnekte iki sınıf gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="142a7-124">The following example shows two classes.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#1)]
 [!code-vb[c_StandaloneDataContractSerializer#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#1)]  
  
 <span data-ttu-id="142a7-125">Bu kod, `DataContractSerializer` yalnızca `Person` sınıfının örneklerini seri hale getirmek veya seri durumdan çıkarmak için kullanılabilen bir örneğini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="142a7-125">This code constructs an instance of the `DataContractSerializer` that can be used only to serialize or deserialize instances of the `Person` class.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#2)]
 [!code-vb[c_StandaloneDataContractSerializer#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#2)]  
  
### <a name="specifying-known-types"></a><span data-ttu-id="142a7-126">Bilinen türleri belirtme</span><span class="sxs-lookup"><span data-stu-id="142a7-126">Specifying Known Types</span></span>  
 <span data-ttu-id="142a7-127">Bir çok biçimlilik, seri hale getirilen veya başka bir mekanizmayla işlenmemiş <xref:System.Runtime.Serialization.KnownTypeAttribute> olan türlere dahilse, olası bilinen türlerin bir listesi `knownTypes` parametresi kullanılarak seri hale getirici oluşturucusuna geçirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="142a7-127">If polymorphism is involved in the types being serialized that is not already handled using the <xref:System.Runtime.Serialization.KnownTypeAttribute> attribute or some other mechanism, a list of possible known types must be passed to the serializer’s constructor using the `knownTypes` parameter.</span></span> <span data-ttu-id="142a7-128">Bilinen türler hakkında daha fazla bilgi için bkz. [veri sözleşmesi bilinen türler](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span><span class="sxs-lookup"><span data-stu-id="142a7-128">For more information about known types, see [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span></span>  
  
 <span data-ttu-id="142a7-129">Aşağıdaki örnek, belirli bir türünün `LibraryPatron` `LibraryItem`bir koleksiyonunu içeren sınıfını gösterir,.</span><span class="sxs-lookup"><span data-stu-id="142a7-129">The following example shows a class, `LibraryPatron`, that includes a collection of a specific type, the `LibraryItem`.</span></span> <span data-ttu-id="142a7-130">İkinci sınıf `LibraryItem` türü tanımlar.</span><span class="sxs-lookup"><span data-stu-id="142a7-130">The second class defines the `LibraryItem` type.</span></span> <span data-ttu-id="142a7-131">Üçüncü ve dört Sınıf (`Book` ve `Newspaper`) `LibraryItem` sınıfından devralınır.</span><span class="sxs-lookup"><span data-stu-id="142a7-131">The third and four classes (`Book` and `Newspaper`) inherit from the `LibraryItem` class.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#3)]  
 [!code-vb[c_StandaloneDataContractSerializer#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#3)]  
  
 <span data-ttu-id="142a7-132">Aşağıdaki kod, `knownTypes` parametresini kullanarak seri hale getirici örneğini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="142a7-132">The following code constructs an instance of the serializer using the `knownTypes` parameter.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#4)]
 [!code-vb[c_StandaloneDataContractSerializer#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#4)]  
  
### <a name="specifying-the-default-root-name-and-namespace"></a><span data-ttu-id="142a7-133">Varsayılan kök adı ve ad alanını belirtme</span><span class="sxs-lookup"><span data-stu-id="142a7-133">Specifying the Default Root Name and Namespace</span></span>  
 <span data-ttu-id="142a7-134">Normalde, bir nesne serileştirildiğinde, en dıştaki XML öğesinin varsayılan adı ve ad alanı veri sözleşmesinin adı ve ad alanına göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="142a7-134">Normally, when an object is serialized, the default name and namespace of the outermost XML element are determined according to the data contract name and namespace.</span></span> <span data-ttu-id="142a7-135">Tüm iç öğelerin adları, veri üyesi adlarından belirlenir ve ad alanı veri sözleşmesinin ad alanıdır.</span><span class="sxs-lookup"><span data-stu-id="142a7-135">The names of all inner elements are determined from data member names, and their namespace is the data contract’s namespace.</span></span> <span data-ttu-id="142a7-136">Aşağıdaki örnek, `Name` <xref:System.Runtime.Serialization.DataContractAttribute> ve `Namespace` sınıflarının<xref:System.Runtime.Serialization.DataMemberAttribute> oluşturucularında ve değerlerini ayarlar.</span><span class="sxs-lookup"><span data-stu-id="142a7-136">The following example sets `Name` and `Namespace` values in the constructors of the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> classes.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#5)]
 [!code-vb[c_StandaloneDataContractSerializer#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#5)]  
  
 <span data-ttu-id="142a7-137">`Person` Sınıfının bir örneğini seri hale getirmek aşağıdakine benzer bir XML üretir.</span><span class="sxs-lookup"><span data-stu-id="142a7-137">Serializing an instance of the `Person` class produces XML similar to the following.</span></span>  
  
```xml  
<PersonContract xmlns="http://schemas.contoso.com">  
  <AddressMember>  
    <StreetMember>123 Main Street</StreetMember>  
   </AddressMember>  
</PersonContract>  
```  
  
 <span data-ttu-id="142a7-138">Ancak, `rootName` ve `rootNamespace` parametrelerinin <xref:System.Runtime.Serialization.DataContractSerializer> değerlerini oluşturucuya geçirerek kök öğenin varsayılan adını ve ad alanını özelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="142a7-138">However, you can customize the default name and namespace of the root element by passing the values of the `rootName` and `rootNamespace` parameters to the <xref:System.Runtime.Serialization.DataContractSerializer> constructor.</span></span> <span data-ttu-id="142a7-139">Öğesinin, `rootNamespace` veri üyelerine karşılık gelen içerilen öğelerin ad alanını etkilemediğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-139">Note that the `rootNamespace` does not affect the namespace of the contained elements that correspond to data members.</span></span> <span data-ttu-id="142a7-140">Yalnızca en dıştaki öğenin ad alanını etkiler.</span><span class="sxs-lookup"><span data-stu-id="142a7-140">It affects only the namespace of the outermost element.</span></span>  
  
 <span data-ttu-id="142a7-141">Bu değerler, ikili xml biçimi kullanılarak en iyi duruma getirilmesini <xref:System.Xml.XmlDictionaryString> sağlamak için sınıfın dizeleri veya örnekleri olarak geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-141">These values can be passed as strings or instances of the <xref:System.Xml.XmlDictionaryString> class to allow for their optimization using the binary XML format.</span></span>  
  
### <a name="setting-the-maximum-objects-quota"></a><span data-ttu-id="142a7-142">En fazla nesne kotasını ayarlama</span><span class="sxs-lookup"><span data-stu-id="142a7-142">Setting the Maximum Objects Quota</span></span>  
 <span data-ttu-id="142a7-143">Bazı `DataContractSerializer` Oluşturucu aşırı yüklemeleri bir `maxItemsInObjectGraph` parametreye sahip.</span><span class="sxs-lookup"><span data-stu-id="142a7-143">Some `DataContractSerializer` constructor overloads have a `maxItemsInObjectGraph` parameter.</span></span> <span data-ttu-id="142a7-144">Bu parametre, seri hale getirici tarafından seri hale getirilen veya seri hale getirilen en fazla nesne sayısını, <xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> tek bir yöntem çağrısında belirler.</span><span class="sxs-lookup"><span data-stu-id="142a7-144">This parameter determines the maximum number of objects the serializer serializes or deserializes in a single <xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> method call.</span></span> <span data-ttu-id="142a7-145">(Yöntem her zaman bir kök nesneyi okur, ancak bu nesnenin veri üyelerinde başka nesneleri olabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-145">(The method always reads one root object, but this object may have other objects in its data members.</span></span> <span data-ttu-id="142a7-146">Bu nesneler başka nesneler içerebilir ve bu şekilde devam eder.) Varsayılan değer 65536 ' dir.</span><span class="sxs-lookup"><span data-stu-id="142a7-146">Those objects may have other objects, and so on.) The default is 65536.</span></span> <span data-ttu-id="142a7-147">Dizileri serileştirmek veya seri durumdan çıkarma sırasında her dizi girişinin ayrı bir nesne olarak sayımlarını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-147">Note that when serializing or deserializing arrays, every array entry counts as a separate object.</span></span> <span data-ttu-id="142a7-148">Ayrıca, bazı nesnelerin büyük bir bellek temsili olabileceğini ve bu kotanın tek başına hizmet reddi saldırısını engellemek için yeterli olamayacağını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-148">Also, note that some objects may have a large memory representation, and so this quota alone may not be sufficient to prevent a denial of service attack.</span></span> <span data-ttu-id="142a7-149">Daha fazla bilgi için bkz. [veriler Için güvenlik konuları](../../../../docs/framework/wcf/feature-details/security-considerations-for-data.md).</span><span class="sxs-lookup"><span data-stu-id="142a7-149">For more information, see [Security Considerations for Data](../../../../docs/framework/wcf/feature-details/security-considerations-for-data.md).</span></span> <span data-ttu-id="142a7-150">Bu kotayı varsayılan değerin ötesinde artırmanız gerekiyorsa, bunu hem gönderme (serileştirme) hem de alma (serisini kaldırma) tarafında yapmak önemlidir çünkü her ikisi de verileri okurken ve yazarken geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="142a7-150">If you need to increase this quota beyond the default value, it is important to do so both on the sending (serializing) and receiving (deserializing) sides because it applies to both when reading and writing data.</span></span>  
  
### <a name="round-trips"></a><span data-ttu-id="142a7-151">Gidiş dönüşler</span><span class="sxs-lookup"><span data-stu-id="142a7-151">Round Trips</span></span>  
 <span data-ttu-id="142a7-152">Bir nesne seri durumdan çıkarılmışsa ve bir işlemde yeniden serileştirildiğinde *gidiş dönüş* oluşur.</span><span class="sxs-lookup"><span data-stu-id="142a7-152">A *round trip* occurs when an object is deserialized and re-serialized in one operation.</span></span> <span data-ttu-id="142a7-153">Bu nedenle, XML 'den bir nesne örneğine gider ve bir XML akışına geri döner.</span><span class="sxs-lookup"><span data-stu-id="142a7-153">Thus, it goes from XML to an object instance, and back again into an XML stream.</span></span>  
  
 <span data-ttu-id="142a7-154">Bazı `DataContractSerializer` Oluşturucu aşırı yüklemeleri, `ignoreExtensionDataObject` varsayılan olarak olarak `false` ayarlanmış bir parametreye sahiptir.</span><span class="sxs-lookup"><span data-stu-id="142a7-154">Some `DataContractSerializer` constructor overloads have an `ignoreExtensionDataObject` parameter, which is set to `false` by default.</span></span> <span data-ttu-id="142a7-155">Bu varsayılan modda, veri sözleşmesi <xref:System.Runtime.Serialization.IExtensibleDataObject> Arabirimi uyguladığı sürece veriler, daha eski bir sürüm aracılığıyla bir veri sözleşmesinin daha yeni bir sürümüne, kayıp olmadan daha yeni sürüme geri gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-155">In this default mode, data can be sent on a round trip from a newer version of a data contract through an older version and back to the newer version without loss, as long as the data contract implements the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface.</span></span> <span data-ttu-id="142a7-156">Örneğin, `Person` veri sözleşmesinin sürüm 1 ' i `Name` ve `PhoneNumber` veri üyelerini içerdiğini varsayın ve sürüm 2 bir `Nickname` üye ekler.</span><span class="sxs-lookup"><span data-stu-id="142a7-156">For example, suppose version 1 of the `Person` data contract contains the `Name` and `PhoneNumber` data members, and version 2 adds a `Nickname` member.</span></span> <span data-ttu-id="142a7-157">Uygulanmışsa, sürüm 2 ' den sürüm 1 `Nickname` ' e bilgi gönderirken veriler depolanır ve sonra veriler tekrar serileştirildiğinde yeniden oluşturulur; bu nedenle, gidiş yolculuğuna hiçbir veri kaybolmaz. `IExtensibleDataObject`</span><span class="sxs-lookup"><span data-stu-id="142a7-157">If `IExtensibleDataObject` is implemented, when sending information from version 2 to version 1, the `Nickname` data is stored, and then re-emitted when the data is serialized again; therefore, no data is lost in the round trip.</span></span> <span data-ttu-id="142a7-158">Daha fazla bilgi için bkz. [Ileri uyumlu veri sözleşmeleri](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md) ve [veri sözleşmesi sürümü oluşturma](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="142a7-158">For more information, see [Forward-Compatible Data Contracts](../../../../docs/framework/wcf/feature-details/forward-compatible-data-contracts.md) and [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).</span></span>  
  
#### <a name="security-and-schema-validity-concerns-with-round-trips"></a><span data-ttu-id="142a7-159">Güvenlik ve şema geçerliliği gidiş dönüşlerle Ilgilidir</span><span class="sxs-lookup"><span data-stu-id="142a7-159">Security and Schema Validity Concerns with Round Trips</span></span>  
 <span data-ttu-id="142a7-160">Gidiş dönüşlerin güvenliği olumsuz etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-160">Round trips may have security implications.</span></span> <span data-ttu-id="142a7-161">Örneğin, büyük miktarlarda gereksiz verileri seri durumdan çıkarmak ve depolamak bir güvenlik riski oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-161">For example, deserializing and storing large amounts of extraneous data may be a security risk.</span></span> <span data-ttu-id="142a7-162">Özellikle dijital imzalar dahil edilmişse, bu verileri doğrulamak için bir yol olmadığı konusunda güvenlik sorunları olabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-162">There may be security concerns about re-emitting this data that there is no way to verify, especially if digital signatures are involved.</span></span> <span data-ttu-id="142a7-163">Örneğin, önceki senaryoda sürüm 1 uç noktası kötü amaçlı veriler içeren bir `Nickname` değeri imzalamada olabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-163">For example, in the previous scenario, the version 1 endpoint could be signing a `Nickname` value that contains malicious data.</span></span> <span data-ttu-id="142a7-164">Son olarak, şema geçerliliği sorunları olabilir: bir uç nokta, belirtilen sözleşmeye tamamen bağlı olan ve ek değer içermeyen verileri her zaman göstermek isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-164">Finally, there may be schema validity concerns: an endpoint may want to always emit data that strictly adheres to its stated contract and not any extra values.</span></span> <span data-ttu-id="142a7-165">Önceki örnekte, sürüm 1 uç noktasının sözleşmesi yalnızca `Name` ve `PhoneNumber`olduğunu söyler ve şema doğrulamasının kullanılıyorsa, ek `Nickname` değerin yaymasının başarısız olmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="142a7-165">In the previous example, the version 1 endpoint’s contract says that it emits only `Name` and `PhoneNumber`, and if schema validation is being used, emitting the extra `Nickname` value causes validation to fail.</span></span>  
  
#### <a name="enabling-and-disabling-round-trips"></a><span data-ttu-id="142a7-166">Gidiş dönüşleri etkinleştirme ve devre dışı bırakma</span><span class="sxs-lookup"><span data-stu-id="142a7-166">Enabling and Disabling Round Trips</span></span>  
 <span data-ttu-id="142a7-167">Gidiş dönüşlerin devre dışı bırakmak için <xref:System.Runtime.Serialization.IExtensibleDataObject> arabirimi uygulamayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-167">To turn off round trips, do not implement the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface.</span></span> <span data-ttu-id="142a7-168">Türler üzerinde denetiminiz yoksa, `ignoreExtensionDataObject` parametresini aynı etkiyi elde etmek için olarak `true` ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-168">If you have no control over the types, set the `ignoreExtensionDataObject` parameter to `true` to achieve the same effect.</span></span>  
  
### <a name="object-graph-preservation"></a><span data-ttu-id="142a7-169">Nesne grafiği koruması</span><span class="sxs-lookup"><span data-stu-id="142a7-169">Object Graph Preservation</span></span>  
 <span data-ttu-id="142a7-170">Normal olarak, seri hale getirici aşağıdaki kodda olduğu gibi nesne kimliğiyle ilgilenmez.</span><span class="sxs-lookup"><span data-stu-id="142a7-170">Normally, the serializer does not care about object identity, as in the following code.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#6)]
 [!code-vb[c_StandaloneDataContractSerializer#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#6)]  
  
 <span data-ttu-id="142a7-171">Aşağıdaki kod bir satınalma siparişi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="142a7-171">The following code creates a purchase order.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#7)]
 [!code-vb[c_StandaloneDataContractSerializer#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#7)]  
  
 <span data-ttu-id="142a7-172">`billTo` Ve`shipTo` alanlarının aynı nesne örneğine ayarlandığına dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="142a7-172">Notice that `billTo` and `shipTo` fields are set to the same object instance.</span></span> <span data-ttu-id="142a7-173">Ancak oluşturulan XML, bilgilerin yinelenenleri yinelemeyor ve aşağıdaki XML 'e benzer şekilde görünür.</span><span class="sxs-lookup"><span data-stu-id="142a7-173">However, the generated XML duplicates the information duplicated, and looks similar to the following XML.</span></span>  
  
```xml  
<PurchaseOrder>  
  <billTo><street>123 Main St.</street></billTo>  
  <shipTo><street>123 Main St.</street></shipTo>  
</PurchaseOrder>  
```  
  
 <span data-ttu-id="142a7-174">Ancak, bu yaklaşım, istenmeyen olabilecek aşağıdaki özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="142a7-174">However, this approach has the following characteristics, which may be undesirable:</span></span>  
  
- <span data-ttu-id="142a7-175">Mının.</span><span class="sxs-lookup"><span data-stu-id="142a7-175">Performance.</span></span> <span data-ttu-id="142a7-176">Verilerin çoğaltılması verimsiz.</span><span class="sxs-lookup"><span data-stu-id="142a7-176">Replicating data is inefficient.</span></span>  
  
- <span data-ttu-id="142a7-177">Döngüsel başvurular.</span><span class="sxs-lookup"><span data-stu-id="142a7-177">Circular references.</span></span> <span data-ttu-id="142a7-178">Nesneler, diğer nesneler aracılığıyla bile kendilerine başvursa, çoğaltma tarafından serileştirilmesi sonsuz bir döngüye neden olur.</span><span class="sxs-lookup"><span data-stu-id="142a7-178">If objects refer to themselves, even through other objects, serializing by replication results in an infinite loop.</span></span> <span data-ttu-id="142a7-179">(Bu durumda serileştirici <xref:System.Runtime.Serialization.SerializationException> bir oluşturur.)</span><span class="sxs-lookup"><span data-stu-id="142a7-179">(The serializer throws a <xref:System.Runtime.Serialization.SerializationException> if this happens.)</span></span>  
  
- <span data-ttu-id="142a7-180">İçeriyor.</span><span class="sxs-lookup"><span data-stu-id="142a7-180">Semantics.</span></span> <span data-ttu-id="142a7-181">Bazen iki başvuruyu aynı nesneye ait olan ve iki özdeş nesne için değil, bu olguyu korumak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="142a7-181">Sometimes it is important to preserve the fact that two references are to the same object, and not to two identical objects.</span></span>  
  
 <span data-ttu-id="142a7-182">Bu nedenlerden dolayı, bazı `DataContractSerializer` Oluşturucu aşırı yüklemeleri bir `preserveObjectReferences` parametreye sahiptir (varsayılan olarak `false`).</span><span class="sxs-lookup"><span data-stu-id="142a7-182">For these reasons, some `DataContractSerializer` constructor overloads have a `preserveObjectReferences` parameter (the default is `false`).</span></span> <span data-ttu-id="142a7-183">Bu parametre olarak `true`ayarlandığında, yalnızca WCF 'nin anladığı nesne başvurularını kodlamaya yönelik özel bir yöntem kullanılır.</span><span class="sxs-lookup"><span data-stu-id="142a7-183">When this parameter is set to `true`, a special method of encoding object references, which only WCF understands, is used.</span></span> <span data-ttu-id="142a7-184">Olarak `true`ayarlandığında, XML kodu örneği şimdi aşağıdakine benzer.</span><span class="sxs-lookup"><span data-stu-id="142a7-184">When set to `true`, the XML code example now resembles the following.</span></span>  
  
```xml  
<PurchaseOrder ser:id="1">  
  <billTo ser:id="2"><street ser:id="3">123 Main St.</street></billTo>  
  <shipTo ser:ref="2"/>  
</PurchaseOrder>  
```  
  
 <span data-ttu-id="142a7-185">"Ser" ad alanı, `http://schemas.microsoft.com/2003/10/Serialization/`standart serileştirme ad alanını ifade eder.</span><span class="sxs-lookup"><span data-stu-id="142a7-185">The "ser" namespace refers to the standard serialization namespace, `http://schemas.microsoft.com/2003/10/Serialization/`.</span></span> <span data-ttu-id="142a7-186">Her veri parçası yalnızca bir kez serileştirilir ve KIMLIK numarası verilir ve sonraki kullanımlar, zaten serileştirilmiş veriler için bir başvuruya neden olur.</span><span class="sxs-lookup"><span data-stu-id="142a7-186">Each piece of data is serialized only once and given an ID number, and subsequent uses result in a reference to the already serialized data.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="142a7-187">Veri sözleşmesinde `XMLElement`hem "kimlik" hem de "ref" öznitelikleri varsa, "ref" özniteliği kabul edilir ve "id" özniteliği yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="142a7-187">If both "id" and "ref" attributes are present in the data contract `XMLElement`, then the "ref" attribute is honored and the "id" attribute is ignored.</span></span>  
  
 <span data-ttu-id="142a7-188">Bu modun sınırlamalarını anlamak önemlidir:</span><span class="sxs-lookup"><span data-stu-id="142a7-188">It is important to understand the limitations of this mode:</span></span>  
  
- <span data-ttu-id="142a7-189">Tarafından `DataContractSerializer` `DataContractSerializer` `true` `preserveObjectReferences` ayarlandığı XML, diğer teknolojilerle birlikte kullanılamaz ve yalnızca başka bir örnek tarafından, olarak ayarlanmış olarak erişilebilir. `true` `preserveObjectReferences`</span><span class="sxs-lookup"><span data-stu-id="142a7-189">The XML the `DataContractSerializer` produces with `preserveObjectReferences` set to `true` is not interoperable with any other technologies, and can be accessed only by another `DataContractSerializer` instance, also with `preserveObjectReferences` set to `true`.</span></span>  
  
- <span data-ttu-id="142a7-190">Bu özellik için meta veri (şema) desteği yok.</span><span class="sxs-lookup"><span data-stu-id="142a7-190">There is no metadata (schema) support for this feature.</span></span> <span data-ttu-id="142a7-191">Oluşturulan şema yalnızca `preserveObjectReferences` , olarak `false`ayarlandığında geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="142a7-191">The schema that is produced is valid only for the case when `preserveObjectReferences` is set to `false`.</span></span>  
  
- <span data-ttu-id="142a7-192">Bu özellik serileştirme ve seri durumdan çıkarma işleminin daha yavaş çalışmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-192">This feature may cause the serialization and deserialization process to run slower.</span></span> <span data-ttu-id="142a7-193">Verilerin çoğaltılması gerekmese de, bu modda ek nesne karşılaştırmalarının gerçekleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="142a7-193">Although data does not have to be replicated, extra object comparisons must be performed in this mode.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="142a7-194">Mod etkinleştirildiğinde, özellikle doğru kotanın `maxItemsInObjectGraph` değeri ayarlamanız önemlidir. `preserveObjectReferences`</span><span class="sxs-lookup"><span data-stu-id="142a7-194">When the `preserveObjectReferences` mode is enabled, it is especially important to set the `maxItemsInObjectGraph` value to the correct quota.</span></span> <span data-ttu-id="142a7-195">Dizilerin bu modda işlenme yöntemi nedeniyle, bir saldırganın büyük bellek tüketimine yalnızca `maxItemsInObjectGraph` kotayla sınırlı olan küçük bir kötü amaçlı ileti oluşturmasıyla kolay bir durum oluşturur.</span><span class="sxs-lookup"><span data-stu-id="142a7-195">Due to the way arrays are handled in this mode, it is easy for an attacker to construct a small malicious message that results in large memory consumption limited only by the `maxItemsInObjectGraph` quota.</span></span>  
  
### <a name="specifying-a-data-contract-surrogate"></a><span data-ttu-id="142a7-196">Veri anlaşması yedeği belirtme</span><span class="sxs-lookup"><span data-stu-id="142a7-196">Specifying a Data Contract Surrogate</span></span>  
 <span data-ttu-id="142a7-197">Bazı `DataContractSerializer` Oluşturucu aşırı yüklemeleri, `dataContractSurrogate` olarak `null`ayarlanmış olabilecek bir parametreye sahiptir.</span><span class="sxs-lookup"><span data-stu-id="142a7-197">Some `DataContractSerializer` constructor overloads have a `dataContractSurrogate` parameter, which may be set to `null`.</span></span> <span data-ttu-id="142a7-198">Aksi takdirde, <xref:System.Runtime.Serialization.IDataContractSurrogate> arabirimini uygulayan bir tür olan bir *veri anlaşması yedeği*belirtmek için bunu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="142a7-198">Otherwise, you can use it to specify a *data contract surrogate*, which is a type that implements the <xref:System.Runtime.Serialization.IDataContractSurrogate> interface.</span></span> <span data-ttu-id="142a7-199">Daha sonra, serileştirme ve seri kaldırma işlemini özelleştirmek için arabirimini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="142a7-199">You can then use the interface to customize the serialization and deserialization process.</span></span> <span data-ttu-id="142a7-200">Daha fazla bilgi için bkz. [veri sözleşmesi yedeklerin kapıları](../../../../docs/framework/wcf/extending/data-contract-surrogates.md).</span><span class="sxs-lookup"><span data-stu-id="142a7-200">For more information, see [Data Contract Surrogates](../../../../docs/framework/wcf/extending/data-contract-surrogates.md).</span></span>  
  
## <a name="serialization"></a><span data-ttu-id="142a7-201">Serileştirme</span><span class="sxs-lookup"><span data-stu-id="142a7-201">Serialization</span></span>  
 <span data-ttu-id="142a7-202">Aşağıdaki bilgiler, <xref:System.Runtime.Serialization.XmlObjectSerializer> <xref:System.Runtime.Serialization.DataContractSerializer> ve <xref:System.Runtime.Serialization.NetDataContractSerializer> sınıfları dahil, öğesinden devralan tüm sınıflar için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="142a7-202">The following information applies to any class that inherits from the <xref:System.Runtime.Serialization.XmlObjectSerializer>, including the <xref:System.Runtime.Serialization.DataContractSerializer> and <xref:System.Runtime.Serialization.NetDataContractSerializer> classes.</span></span>  
  
### <a name="simple-serialization"></a><span data-ttu-id="142a7-203">Basit serileştirme</span><span class="sxs-lookup"><span data-stu-id="142a7-203">Simple Serialization</span></span>  
 <span data-ttu-id="142a7-204">Bir nesneyi seri hale getirmenin en temel yolu <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObject%2A> yöntemine geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="142a7-204">The most basic way to serialize an object is to pass it to the <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObject%2A> method.</span></span> <span data-ttu-id="142a7-205">Her biri, bir veya <xref:System.IO.Stream> <xref:System.Xml.XmlDictionaryWriter>' a <xref:System.Xml.XmlWriter>yazmak için üç aşırı yükleme vardır.</span><span class="sxs-lookup"><span data-stu-id="142a7-205">There are three overloads, one each for writing to a <xref:System.IO.Stream>, an <xref:System.Xml.XmlWriter>, or an <xref:System.Xml.XmlDictionaryWriter>.</span></span> <span data-ttu-id="142a7-206"><xref:System.IO.Stream> Aşırı yüklemede, çıktı UTF-8 kodlamasında XML 'dir.</span><span class="sxs-lookup"><span data-stu-id="142a7-206">With the <xref:System.IO.Stream> overload, the output is XML in the UTF-8 encoding.</span></span> <span data-ttu-id="142a7-207"><xref:System.Xml.XmlDictionaryWriter> Aşırı yükleme ile serileştirici, ikili XML için çıkışını en iyi duruma getirir.</span><span class="sxs-lookup"><span data-stu-id="142a7-207">With the <xref:System.Xml.XmlDictionaryWriter> overload, the serializer optimizes its output for binary XML.</span></span>  
  
 <span data-ttu-id="142a7-208"><xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObject%2A> Yöntemi kullanılırken, serileştirici sarmalayıcı öğesi için varsayılan ad ve ad alanını kullanır ve içeriği (varsayılan kök adı ve ad alanını belirtme "bölümüne bakın).</span><span class="sxs-lookup"><span data-stu-id="142a7-208">When using the <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObject%2A> method, the serializer uses the default name and namespace for the wrapper element and writes it out along with the contents (see the previous "Specifying the Default Root Name and Namespace" section).</span></span>  
  
 <span data-ttu-id="142a7-209">Aşağıdaki örnek, ile <xref:System.Xml.XmlDictionaryWriter>yazmayı gösterir.</span><span class="sxs-lookup"><span data-stu-id="142a7-209">The following example demonstrates writing with an <xref:System.Xml.XmlDictionaryWriter>.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#8)]
 [!code-vb[c_StandaloneDataContractSerializer#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#8)]  
  
 <span data-ttu-id="142a7-210">Bu, aşağıdakine benzer bir XML üretir.</span><span class="sxs-lookup"><span data-stu-id="142a7-210">This produces XML similar to the following.</span></span>  
  
```xml  
<Person>  
  <Name>Jay Hamlin</Name>  
  <Address>123 Main St.</Address>  
</Person>  
```  
  
### <a name="step-by-step-serialization"></a><span data-ttu-id="142a7-211">Adım adım serileştirme</span><span class="sxs-lookup"><span data-stu-id="142a7-211">Step-By-Step Serialization</span></span>  
 <span data-ttu-id="142a7-212">Son öğesini yazmak <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObjectContent%2A>, nesne <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteEndObject%2A> içeriğini yazmak ve sarmalayıcı öğesini sırasıyla kapatmak için ,,veyöntemlerinikullanın.<xref:System.Runtime.Serialization.XmlObjectSerializer.WriteStartObject%2A></span><span class="sxs-lookup"><span data-stu-id="142a7-212">Use the <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteStartObject%2A>, <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObjectContent%2A>, and <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteEndObject%2A> methods to write the end element, write the object contents, and close the wrapper element, respectively.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="142a7-213">Bu yöntemlerin aşırı <xref:System.IO.Stream> yüklemesi yoktur.</span><span class="sxs-lookup"><span data-stu-id="142a7-213">There are no <xref:System.IO.Stream> overloads of these methods.</span></span>  
  
 <span data-ttu-id="142a7-214">Bu adım adım serileştirme iki ortak kullanımı vardır.</span><span class="sxs-lookup"><span data-stu-id="142a7-214">This step-by-step serialization has two common uses.</span></span> <span data-ttu-id="142a7-215">Bunlardan biri, aşağıdaki örnekte gösterildiği gibi, ve `WriteStartObject` `WriteObjectContent`arasında öznitelikler veya açıklamalar gibi içerikler eklemedir.</span><span class="sxs-lookup"><span data-stu-id="142a7-215">One is to insert contents such as attributes or comments between `WriteStartObject` and `WriteObjectContent`,  as shown in the following example.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#9)]
 [!code-vb[c_StandaloneDataContractSerializer#9](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#9)]  
  
 <span data-ttu-id="142a7-216">Bu, aşağıdakine benzer bir XML üretir.</span><span class="sxs-lookup"><span data-stu-id="142a7-216">This produces XML similar to the following.</span></span>  
  
```xml  
<Person serializedBy="myCode">  
  <Name>Jay Hamlin</Name>  
  <Address>123 Main St.</Address>  
</Person>  
```  
  
 <span data-ttu-id="142a7-217">Aşağıdaki kodda gösterildiği gibi, başka bir <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteStartObject%2A> yaygın <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteEndObject%2A> kullanım, ve tamamen kullanmaktan ve kendi özel sarmalayıcı öğesini yazmak (ya da sarmalayıcı yazmanın tamamen atlanmak).</span><span class="sxs-lookup"><span data-stu-id="142a7-217">Another common use is to avoid using <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteStartObject%2A> and <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteEndObject%2A> entirely, and to write your own custom wrapper element (or even skip writing a wrapper altogether), as shown in the following code.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#10)]
 [!code-vb[c_StandaloneDataContractSerializer#10](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#10)]  
  
 <span data-ttu-id="142a7-218">Bu, aşağıdakine benzer bir XML üretir.</span><span class="sxs-lookup"><span data-stu-id="142a7-218">This produces XML similar to the following.</span></span>  
  
```xml  
<MyCustomWrapper>  
  <Name>Jay Hamlin</Name>  
  <Address>123 Main St.</Address>  
</MyCustomWrapper>  
```  
  
> [!NOTE]
> <span data-ttu-id="142a7-219">Adım adım serileştirme kullanma, şemaya geçersiz XML ile sonuçlanabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-219">Using step-by-step serialization may result in schema-invalid XML.</span></span>  
  
## <a name="deserialization"></a><span data-ttu-id="142a7-220">Seri</span><span class="sxs-lookup"><span data-stu-id="142a7-220">Deserialization</span></span>  
 <span data-ttu-id="142a7-221">Aşağıdaki bilgiler, <xref:System.Runtime.Serialization.XmlObjectSerializer> <xref:System.Runtime.Serialization.DataContractSerializer> ve <xref:System.Runtime.Serialization.NetDataContractSerializer> sınıfları dahil, öğesinden devralan tüm sınıflar için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="142a7-221">The following information applies to any class that inherits from the <xref:System.Runtime.Serialization.XmlObjectSerializer>, including the <xref:System.Runtime.Serialization.DataContractSerializer> and <xref:System.Runtime.Serialization.NetDataContractSerializer> classes.</span></span>  
  
 <span data-ttu-id="142a7-222">Bir nesneyi seri durumdan çıkarmak için en temel yol, <xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> yöntem aşırı yüklerinden birini çağırmanız olur.</span><span class="sxs-lookup"><span data-stu-id="142a7-222">The most basic way to deserialize an object is to call one of the <xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> method overloads.</span></span> <span data-ttu-id="142a7-223">Her biri, bir veya <xref:System.Xml.XmlDictionaryReader> `Stream`bir ile `XmlReader`okumak için üç aşırı yükleme vardır.</span><span class="sxs-lookup"><span data-stu-id="142a7-223">There are three overloads, one each for reading with a <xref:System.Xml.XmlDictionaryReader>, an `XmlReader`, or a `Stream`.</span></span> <span data-ttu-id="142a7-224">Aşırı yüklemenin hiçbir kota tarafından korunmayan bir <xref:System.Xml.XmlDictionaryReader> metin oluşturduğunu ve yalnızca güvenilen verileri okumak için kullanılması gerektiğini unutmayın. `Stream`</span><span class="sxs-lookup"><span data-stu-id="142a7-224">Note that the `Stream` overload creates a textual <xref:System.Xml.XmlDictionaryReader> that is not protected by any quotas, and should be used only to read trusted data.</span></span>  
  
 <span data-ttu-id="142a7-225">Ayrıca, `ReadObject` yöntemin döndürdüğü nesnenin uygun türe dönüştürülmesi gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-225">Also note that the object the `ReadObject` method returns must be cast to the appropriate type.</span></span>  
  
 <span data-ttu-id="142a7-226">Aşağıdaki kod, <xref:System.Runtime.Serialization.DataContractSerializer> <xref:System.Xml.XmlDictionaryReader>ve ' ın bir örneğini oluşturur, sonra bir `Person` örneği serileştirir.</span><span class="sxs-lookup"><span data-stu-id="142a7-226">The following code constructs an instance of the <xref:System.Runtime.Serialization.DataContractSerializer> and an <xref:System.Xml.XmlDictionaryReader>, then deserializes a `Person` instance.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#11)]
 [!code-vb[c_StandaloneDataContractSerializer#11](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#11)]  
  
 <span data-ttu-id="142a7-227"><xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> Yöntemini çağırmadan önce sarmalayıcı öğesine veya sarmalayıcı öğesinden önce gelen içerik olmayan bir düğüme XML okuyucuyu konumlandırın.</span><span class="sxs-lookup"><span data-stu-id="142a7-227">Before calling the <xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> method, position the XML reader on the wrapper element or on a non-content node that precedes the wrapper element.</span></span> <span data-ttu-id="142a7-228">Bunu, <xref:System.Xml.XmlReader.Read%2A> <xref:System.Xml.XmlReader> veya türetmesininyönteminiçağırarakveöğesiniaşağıdakikoddagösterildiğigibitestederekyapabilirsiniz.<xref:System.Xml.XmlReader.NodeType%2A></span><span class="sxs-lookup"><span data-stu-id="142a7-228">You can do this by calling the <xref:System.Xml.XmlReader.Read%2A> method of the <xref:System.Xml.XmlReader> or its derivation, and testing the <xref:System.Xml.XmlReader.NodeType%2A>, as shown in the following code.</span></span>  
  
 [!code-csharp[c_StandaloneDataContractSerializer#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_standalonedatacontractserializer/cs/source.cs#12)]
 [!code-vb[c_StandaloneDataContractSerializer#12](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_standalonedatacontractserializer/vb/source.vb#12)]  
  
 <span data-ttu-id="142a7-229">Okuyucuyu öğesine `ReadObject`teslim etmeden önce bu sarmalayıcı öğesinde öznitelikleri okuyabileceğinizi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-229">Note that you can read attributes on this wrapper element before handing the reader to `ReadObject`.</span></span>  
  
 <span data-ttu-id="142a7-230">Basit `ReadObject` aşırı yüklerden birini kullanırken, seri hale getirici sarmalayıcı öğesinde varsayılan adı ve ad alanını arar ("varsayılan kök adı ve ad alanını belirtme" başlığına bakın) ve bilinmeyen bulursa bir özel durum oluşturur dosyalarında.</span><span class="sxs-lookup"><span data-stu-id="142a7-230">When using one of the simple `ReadObject` overloads, the deserializer looks for the default name and namespace on the wrapper element (see the preceding section, "Specifying the Default Root Name and Namespace") and throws an exception if it finds an unknown element.</span></span> <span data-ttu-id="142a7-231">Önceki örnekte `<Person>` sarmalayıcı öğesi beklenmektedir.</span><span class="sxs-lookup"><span data-stu-id="142a7-231">In the preceding example, the `<Person>` wrapper element is expected.</span></span> <span data-ttu-id="142a7-232"><xref:System.Runtime.Serialization.XmlObjectSerializer.IsStartObject%2A> Yöntemi, okuyucunun beklenen olarak adlandırılan bir öğede konumlandığını doğrulamak için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="142a7-232">The <xref:System.Runtime.Serialization.XmlObjectSerializer.IsStartObject%2A> method is called to verify that the reader is positioned on an element that is named as expected.</span></span>  
  
 <span data-ttu-id="142a7-233">Bu sarmalayıcı öğe adı denetimini devre dışı bırakmak için bir yol vardır; `ReadObject` metodun bazı aşırı yüklemeleri, varsayılan olarak olarak `true` ayarlanan `verifyObjectName`Boolean parametresini alır.</span><span class="sxs-lookup"><span data-stu-id="142a7-233">There is a way to disable this wrapper element name check; some overloads of the `ReadObject` method take the Boolean parameter `verifyObjectName`, which is set to `true` by default.</span></span> <span data-ttu-id="142a7-234">Olarak `false`ayarlandığında, sarmalayıcı öğesinin adı ve ad alanı yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="142a7-234">When set to `false`, the name and namespace of the wrapper element is ignored.</span></span> <span data-ttu-id="142a7-235">Bu, daha önce açıklanan adım adım serileştirme mekanizması kullanılarak yazılmış XML 'yi okumak için yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="142a7-235">This is useful for reading XML that was written using the step-by-step serialization mechanism described previously.</span></span>  
  
## <a name="using-the-netdatacontractserializer"></a><span data-ttu-id="142a7-236">NetDataContractSerializer kullanma</span><span class="sxs-lookup"><span data-stu-id="142a7-236">Using the NetDataContractSerializer</span></span>  
 <span data-ttu-id="142a7-237">Ve arasındaki birincil fark, `NetDataContractSerializer` veri anlaşması adlarını kullanır,ancakçıktılartam.NETFrameworkderlemeveserileştirilmişXMLiçindetüradlarıdır.`DataContractSerializer` <xref:System.Runtime.Serialization.NetDataContractSerializer> `DataContractSerializer`</span><span class="sxs-lookup"><span data-stu-id="142a7-237">The primary difference between the `DataContractSerializer` and the <xref:System.Runtime.Serialization.NetDataContractSerializer> is that the `DataContractSerializer` uses data contract names, whereas the `NetDataContractSerializer` outputs full .NET Framework assembly and type names in the serialized XML.</span></span> <span data-ttu-id="142a7-238">Bu, tam olarak aynı türlerin serileştirme ve seri kaldırma uç noktaları arasında paylaşılması gerektiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="142a7-238">This means that the exact same types must be shared between the serialization and deserialization endpoints.</span></span> <span data-ttu-id="142a7-239">Bu, seri durumdan çıkarılacak kesin türler her zaman bilindiğinden, `NetDataContractSerializer` bilinen türler mekanizmasının ile gerekmediği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="142a7-239">This means that the known types mechanism is not required with the `NetDataContractSerializer` because the exact types to be deserialized are always known.</span></span>  
  
 <span data-ttu-id="142a7-240">Bununla birlikte, çeşitli sorunlar meydana gelebilir:</span><span class="sxs-lookup"><span data-stu-id="142a7-240">However, several problems can occur:</span></span>  
  
- <span data-ttu-id="142a7-241">Güven.</span><span class="sxs-lookup"><span data-stu-id="142a7-241">Security.</span></span> <span data-ttu-id="142a7-242">Seri durumdan çıkarılan XML 'de bulunan herhangi bir tür yüklenir.</span><span class="sxs-lookup"><span data-stu-id="142a7-242">Any type found in the XML being deserialized is loaded.</span></span> <span data-ttu-id="142a7-243">Kötü amaçlı türlerin yüklenmesine zorlamak için bu açıktan yararlanılabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-243">This can be exploited to force the loading of malicious types.</span></span> <span data-ttu-id="142a7-244">' Nin güvenilmeyen verilerle kullanılması yalnızca bir *serileştirme Bağlayıcısı* <xref:System.Runtime.Serialization.NetDataContractSerializer.Binder%2A> kullanılıyorsa (özellik veya Oluşturucu parametresi kullanılarak) yapılmalıdır. `NetDataContractSerializer`</span><span class="sxs-lookup"><span data-stu-id="142a7-244">Using the `NetDataContractSerializer` with untrusted data should be done only if a *Serialization Binder* is used (using the <xref:System.Runtime.Serialization.NetDataContractSerializer.Binder%2A> property or constructor parameter).</span></span> <span data-ttu-id="142a7-245">Bağlayıcı yalnızca güvenli türlerin yüklenmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="142a7-245">The binder permits only safe types to be loaded.</span></span> <span data-ttu-id="142a7-246">Ciltçi mekanizması, <xref:System.Runtime.Serialization> ad alanı kullanan bir tür ile aynıdır.</span><span class="sxs-lookup"><span data-stu-id="142a7-246">The Binder mechanism is identical to the one that types in the <xref:System.Runtime.Serialization> namespace use.</span></span>  
  
- <span data-ttu-id="142a7-247">Sürümü.</span><span class="sxs-lookup"><span data-stu-id="142a7-247">Versioning.</span></span> <span data-ttu-id="142a7-248">XML 'de tam tür ve derleme adlarının kullanılması, türlerin nasıl sürümlendirilemez olduğunu önemli ölçüde kısıtlar.</span><span class="sxs-lookup"><span data-stu-id="142a7-248">Using full type and assembly names in the XML severely restricts how types can be versioned.</span></span> <span data-ttu-id="142a7-249">Aşağıdakiler değiştirilemez: tür adları, ad alanları, derleme adları ve derleme sürümleri.</span><span class="sxs-lookup"><span data-stu-id="142a7-249">The following cannot be changed: type names, namespaces, assembly names, and assembly versions.</span></span> <span data-ttu-id="142a7-250">Özellik veya Oluşturucu parametresinin varsayılan değeri <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle.Full> yerine <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle.Simple> olarak ayarlanması, derleme sürümü değişikliklerine izin verir, ancak genel parametre türleri için kullanılamaz. <xref:System.Runtime.Serialization.NetDataContractSerializer.AssemblyFormat%2A></span><span class="sxs-lookup"><span data-stu-id="142a7-250">Setting the <xref:System.Runtime.Serialization.NetDataContractSerializer.AssemblyFormat%2A> property or constructor parameter to <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle.Simple> instead of the default value of <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle.Full> allows for assembly version changes, but not for generic parameter types.</span></span>  
  
- <span data-ttu-id="142a7-251">Liğin.</span><span class="sxs-lookup"><span data-stu-id="142a7-251">Interoperability.</span></span> <span data-ttu-id="142a7-252">.NET Framework türü ve derleme adları XML 'ye eklendiğinden, .NET Framework dışındaki platformlar elde edilen verilere erişemez.</span><span class="sxs-lookup"><span data-stu-id="142a7-252">Because .NET Framework type and assembly names are included in the XML, platforms other than the .NET Framework cannot access the resulting data.</span></span>  
  
- <span data-ttu-id="142a7-253">Mının.</span><span class="sxs-lookup"><span data-stu-id="142a7-253">Performance.</span></span> <span data-ttu-id="142a7-254">Tür ve derleme adlarının yazılması, sonuçta elde edilen XML 'in boyutunu önemli ölçüde artırır.</span><span class="sxs-lookup"><span data-stu-id="142a7-254">Writing out the type and assembly names significantly increases the size of the resulting XML.</span></span>  
  
 <span data-ttu-id="142a7-255">Bu mekanizma, .NET Framework uzaktan iletişim tarafından kullanılan ikili veya soap serileştirmesine benzer (özellikle <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> , <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>ve).</span><span class="sxs-lookup"><span data-stu-id="142a7-255">This mechanism is similar to binary or SOAP serialization used by .NET Framework remoting (specifically, the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>).</span></span>  
  
 <span data-ttu-id="142a7-256">`DataContractSerializer`' Ninkullanımı,aşağıdaki`NetDataContractSerializer` farklılıklarla ile benzerdir:</span><span class="sxs-lookup"><span data-stu-id="142a7-256">Using the `NetDataContractSerializer` is similar to using the `DataContractSerializer`, with the following differences:</span></span>  
  
- <span data-ttu-id="142a7-257">Oluşturucular için bir kök türü belirtmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="142a7-257">The constructors do not require you to specify a root type.</span></span> <span data-ttu-id="142a7-258">Aynı örneği `NetDataContractSerializer`ile herhangi bir türü seri hale getirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="142a7-258">You can serialize any type with the same instance of the `NetDataContractSerializer`.</span></span>  
  
- <span data-ttu-id="142a7-259">Oluşturucular bilinen türlerin bir listesini kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="142a7-259">The constructors do not accept a list of known types.</span></span> <span data-ttu-id="142a7-260">Tür adları XML içine serileştirildiğinde bilinen türler mekanizması gereksizdir.</span><span class="sxs-lookup"><span data-stu-id="142a7-260">The known types mechanism is unnecessary if type names are serialized into the XML.</span></span>  
  
- <span data-ttu-id="142a7-261">Oluşturucular, bir veri sözleşmesi yedeği kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="142a7-261">The constructors do not accept a data contract surrogate.</span></span> <span data-ttu-id="142a7-262">Bunun yerine, adlı <xref:System.Runtime.Serialization.ISurrogateSelector> `surrogateSelector` bir parametresini kabul ederler <xref:System.Runtime.Serialization.NetDataContractSerializer.SurrogateSelector%2A> (özelliği ile eşlenir).</span><span class="sxs-lookup"><span data-stu-id="142a7-262">Instead, they accept an <xref:System.Runtime.Serialization.ISurrogateSelector> parameter called `surrogateSelector` (which maps to the <xref:System.Runtime.Serialization.NetDataContractSerializer.SurrogateSelector%2A> property).</span></span> <span data-ttu-id="142a7-263">Bu, eski bir vekil mekanizmasıdır.</span><span class="sxs-lookup"><span data-stu-id="142a7-263">This is a legacy surrogate mechanism.</span></span>  
  
- <span data-ttu-id="142a7-264">Oluşturucular, `assemblyFormat` özelliği<xref:System.Runtime.Serialization.NetDataContractSerializer.AssemblyFormat%2A> ile eşleşen bir parametresini <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle> kabul eder.</span><span class="sxs-lookup"><span data-stu-id="142a7-264">The constructors accept a parameter called `assemblyFormat` of the <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle> that maps to the <xref:System.Runtime.Serialization.NetDataContractSerializer.AssemblyFormat%2A> property.</span></span> <span data-ttu-id="142a7-265">Daha önce anlatıldığı gibi, bu, serileştiricinin sürüm oluşturma yeteneklerini geliştirmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="142a7-265">As discussed previously, this can be used to enhance the versioning capabilities of the serializer.</span></span> <span data-ttu-id="142a7-266">Bu, ikili veya SOAP <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle> serileştirme içindeki mekanizmaya eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="142a7-266">This is identical to the <xref:System.Runtime.Serialization.Formatters.FormatterAssemblyStyle> mechanism in binary or SOAP serialization.</span></span>  
  
- <span data-ttu-id="142a7-267">Oluşturucular, <xref:System.Runtime.Serialization.StreamingContext> özelliği<xref:System.Runtime.Serialization.NetDataContractSerializer.Context%2A> ile eşleşen adlı `context` bir parametre kabul eder.</span><span class="sxs-lookup"><span data-stu-id="142a7-267">The constructors accept a <xref:System.Runtime.Serialization.StreamingContext> parameter called `context` that maps to the <xref:System.Runtime.Serialization.NetDataContractSerializer.Context%2A> property.</span></span> <span data-ttu-id="142a7-268">Bunu, serileştirilmiş olan türlere bilgi geçirmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="142a7-268">You can use this to pass information into types being serialized.</span></span> <span data-ttu-id="142a7-269">Bu kullanım, diğer <xref:System.Runtime.Serialization.StreamingContext> <xref:System.Runtime.Serialization> sınıflarda kullanılan mekanizmaya benzer.</span><span class="sxs-lookup"><span data-stu-id="142a7-269">This usage is identical to that of the <xref:System.Runtime.Serialization.StreamingContext> mechanism used in other <xref:System.Runtime.Serialization> classes.</span></span>  
  
- <span data-ttu-id="142a7-270">Ve yöntemleri, <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObject%2A> ve yöntemleri<xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> için diğer adlardır. <xref:System.Runtime.Serialization.NetDataContractSerializer.Serialize%2A> <xref:System.Runtime.Serialization.NetDataContractSerializer.Deserialize%2A></span><span class="sxs-lookup"><span data-stu-id="142a7-270">The <xref:System.Runtime.Serialization.NetDataContractSerializer.Serialize%2A> and <xref:System.Runtime.Serialization.NetDataContractSerializer.Deserialize%2A> methods are aliases for the <xref:System.Runtime.Serialization.XmlObjectSerializer.WriteObject%2A> and <xref:System.Runtime.Serialization.XmlObjectSerializer.ReadObject%2A> methods.</span></span> <span data-ttu-id="142a7-271">Bunlar, ikili veya SOAP serileştirmesi ile daha tutarlı bir programlama modeli sağlamak için mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="142a7-271">These exist to provide a more consistent programming model with binary or SOAP serialization.</span></span>  
  
 <span data-ttu-id="142a7-272">Bu özellikler hakkında daha fazla bilgi için bkz. [Ikili serileştirme](../../../standard/serialization/binary-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="142a7-272">For more information about these features, see [Binary Serialization](../../../standard/serialization/binary-serialization.md).</span></span>  
  
 <span data-ttu-id="142a7-273">`NetDataContractSerializer` Ve kullananXMLbiçimlerinormaldeuyumludeğildir.`DataContractSerializer`</span><span class="sxs-lookup"><span data-stu-id="142a7-273">The XML formats that the `NetDataContractSerializer` and the `DataContractSerializer` use are normally not compatible.</span></span> <span data-ttu-id="142a7-274">Diğer bir deyişle, bu serileştiricilerin biriyle Serileştirmeye çalışılması ve diğeri ile seri durumdan çıkarma desteklenen bir senaryo değildir.</span><span class="sxs-lookup"><span data-stu-id="142a7-274">That is, attempting to serialize with one of these serializers and deserialize with the other is not a supported scenario.</span></span>  
  
 <span data-ttu-id="142a7-275">Ayrıca, nesnesinin, `NetDataContractSerializer` nesne grafiğindeki her bir düğüm için tam .NET Framework türü ve derleme adını çıkmadığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="142a7-275">Also, note that the `NetDataContractSerializer` does not output the full .NET Framework type and assembly name for each node in the object graph.</span></span> <span data-ttu-id="142a7-276">Bu bilgiler yalnızca belirsiz olduğunda çıktı verir.</span><span class="sxs-lookup"><span data-stu-id="142a7-276">It outputs that information only where it is ambiguous.</span></span> <span data-ttu-id="142a7-277">Yani, kök nesne düzeyinde ve çok biçimli durumlar için çıkış yapılır.</span><span class="sxs-lookup"><span data-stu-id="142a7-277">That is, it outputs at the root object level and for any polymorphic cases.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="142a7-278">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="142a7-278">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.Runtime.Serialization.NetDataContractSerializer>
- <xref:System.Runtime.Serialization.XmlObjectSerializer>
- [<span data-ttu-id="142a7-279">İkili Serileştirme</span><span class="sxs-lookup"><span data-stu-id="142a7-279">Binary Serialization</span></span>](../../../standard/serialization/binary-serialization.md)
- [<span data-ttu-id="142a7-280">Veri Anlaşması Seri Hale Getirici Tarafından Desteklenen Türler</span><span class="sxs-lookup"><span data-stu-id="142a7-280">Types Supported by the Data Contract Serializer</span></span>](../../../../docs/framework/wcf/feature-details/types-supported-by-the-data-contract-serializer.md)
