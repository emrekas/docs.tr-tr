---
title: Windows Hizmet Uygulamasında Barındırma
ms.date: 03/30/2017
ms.assetid: f4199998-27f3-4dd9-aee4-0a4addfa9f24
ms.openlocfilehash: 8e50c39955f9ab72dfa1d52cbc37ab90f1ab0a8a
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61855968"
---
# <a name="hosting-in-a-windows-service-application"></a><span data-ttu-id="7c9df-102">Windows Hizmet Uygulamasında Barındırma</span><span class="sxs-lookup"><span data-stu-id="7c9df-102">Hosting in a Windows Service Application</span></span>
<span data-ttu-id="7c9df-103">(Eski adıyla Windows NT Hizmetleri da bilinir) Windows hizmetleri sağlayan bir işlem modeli özellikle uzun süre çalışan bir yürütülebilir dosya bulunmalıdır ve herhangi bir biçimde kullanıcı arabirimi gösterme uygulamalar için uygundur.</span><span class="sxs-lookup"><span data-stu-id="7c9df-103">Windows services (formerly known as Windows NT services) provide a process model particularly suited to applications that must live in a long-running executable and do not display any form of user interface.</span></span> <span data-ttu-id="7c9df-104">Hizmet uygulaması başlatmaya olanak tanıyan hizmet denetimi yöneticisi tarafından (SCM), yönetilen bir Windows işlem ömrü durdurun ve Windows hizmeti uygulamalarını duraklatma.</span><span class="sxs-lookup"><span data-stu-id="7c9df-104">The process lifetime of a Windows service application is managed by the service control manager (SCM), which allows you to start, stop, and pause Windows service applications.</span></span> <span data-ttu-id="7c9df-105">"Always on" uygulamalar için uygun bir barındırma ortamı yapmadan bilgisayar başlatıldığında otomatik olarak başlayacak şekilde bir Windows hizmeti işlemi yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7c9df-105">You can configure a Windows service process to start automatically when the computer starts, making it a suitable hosting environment for "always on" applications.</span></span> <span data-ttu-id="7c9df-106">Windows hizmeti uygulamaları hakkında daha fazla bilgi için bkz: [Windows hizmet uygulamaları](https://go.microsoft.com/fwlink/?LinkId=89450).</span><span class="sxs-lookup"><span data-stu-id="7c9df-106">For more information about Windows service applications, see [Windows Service Applications](https://go.microsoft.com/fwlink/?LinkId=89450).</span></span>  
  
 <span data-ttu-id="7c9df-107">Uzun süre çalışan Windows Communication Foundation (WCF) hizmetlerini barındıran uygulamalar, Windows Hizmetleri ile birçok ortak özelliklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-107">Applications that host long-running Windows Communication Foundation (WCF) services share many characteristics with Windows services.</span></span> <span data-ttu-id="7c9df-108">Özellikle, WCF hizmetleri doğrudan kullanıcı ile etkileşimde bulunmazlar ve herhangi bir biçimde kullanıcı arabirimini uygulamayan uzun süre çalışan sunucu yürütülebilir dosyaları oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="7c9df-108">In particular, WCF services are long-running server executables that do not interact directly with the user and therefore do not implement any form of user interface.</span></span> <span data-ttu-id="7c9df-109">Bu nedenle, bir Windows hizmeti uygulaması içinde WCF hizmetlerini barındıran sağlam, uzun süre çalışan, WCF uygulamaları oluşturmaya yönelik bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-109">As such, hosting WCF services inside of a Windows service application is one option for building robust, long-running, WCF applications.</span></span>  
  
 <span data-ttu-id="7c9df-110">Genellikle, WCF geliştiricileri içinde bir Windows hizmeti uygulaması veya Internet Information Services (IIS) veya Windows İşlem Etkinleştirme Hizmeti (WAS) barındırma ortamı içinde WCF uygulamalarını barındırmak karar vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-110">Often, WCF developers must decide whether to host their WCF application inside of a Windows service application or inside of the Internet Information Services (IIS) or Windows Process Activation Service (WAS) hosting environment.</span></span> <span data-ttu-id="7c9df-111">Windows hizmet uygulamaları aşağıdaki koşullarda kullanmayı düşünmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="7c9df-111">You should consider using Windows service applications under the following conditions:</span></span>  
  
- <span data-ttu-id="7c9df-112">Uygulamanızı açık etkinleştirme gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-112">Your application requires explicit activation.</span></span> <span data-ttu-id="7c9df-113">Örneğin, dinamik olarak ilk gelen iletiye yanıt olarak Başlatılmakta olan yerine sunucu başlatıldığında yapılacak uygulamanızı otomatik olarak başlamalıdır, Windows Hizmetleri kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-113">For example, you should use Windows services when your application must start automatically when the server starts instead of being dynamically started in response to the first incoming message.</span></span>  
  
- <span data-ttu-id="7c9df-114">Uygulamanızı barındıran işlem başlatıldığında çalışır durumda kalması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-114">The process that hosts your application must remain running once started.</span></span> <span data-ttu-id="7c9df-115">Başladıktan sonra bir Windows hizmeti işlemi sürece çalışmaya devam açıkça kapatma hizmeti Denetim Yöneticisi'ni kullanarak yöneticiler tarafından.</span><span class="sxs-lookup"><span data-stu-id="7c9df-115">Once started, a Windows service process remains running unless explicitly shut down by a server administrator using the service control manager.</span></span> <span data-ttu-id="7c9df-116">IIS ya da WAS içinde barındırılan uygulamaları kullanmaya ve sistem kaynakları en iyi kullanılmasını sağlamak için dinamik olarak durduruldu.</span><span class="sxs-lookup"><span data-stu-id="7c9df-116">Applications hosted in IIS or WAS may be started and stopped dynamically to make optimal use of system resources.</span></span> <span data-ttu-id="7c9df-117">Kendi barındırma işlemi ömrü boyunca açık denetim gerektiren uygulamalar, IIS veya WAS yerine Windows Hizmetleri kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-117">Applications that require explicit control over the lifetime of their hosting process should use Windows services instead of IIS or WAS.</span></span>  
  
- <span data-ttu-id="7c9df-118">WCF hizmetinizi, Windows Server 2003'te çalıştırmak ve dışındaki HTTP taşımaları kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-118">Your WCF service must run on Windows Server 2003 and use transports other than HTTP.</span></span> <span data-ttu-id="7c9df-119">Windows Server 2003'te [!INCLUDE[iis601](../../../../includes/iis601-md.md)] barındırma ortamı yalnızca HTTP iletişimi için Yasak.</span><span class="sxs-lookup"><span data-stu-id="7c9df-119">On Windows Server 2003, the [!INCLUDE[iis601](../../../../includes/iis601-md.md)] hosting environment is restricted to HTTP communication only.</span></span> <span data-ttu-id="7c9df-120">Windows hizmet uygulamaları, bu kısıtlama tabi olmayan ve net.tcp net.pipe ve net.msmq dahil olmak üzere tüm aktarım WCF destekler kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7c9df-120">Windows service applications are not subject to this restriction and can use any transport WCF supports, including net.tcp, net.pipe, and net.msmq.</span></span>  
  
### <a name="to-host-wcf-inside-of-a-windows-service-application"></a><span data-ttu-id="7c9df-121">İçinde bir Windows hizmeti uygulaması WCF barındırmak için</span><span class="sxs-lookup"><span data-stu-id="7c9df-121">To host WCF inside of a Windows service application</span></span>  
  
1. <span data-ttu-id="7c9df-122">Bir Windows hizmet uygulaması oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7c9df-122">Create a Windows service application.</span></span> <span data-ttu-id="7c9df-123">Windows hizmet uygulamaları sınıfları kullanarak yönetilen kod yazabileceğiniz <xref:System.ServiceProcess> ad alanı.</span><span class="sxs-lookup"><span data-stu-id="7c9df-123">You can write Windows service applications in managed code using the classes in the <xref:System.ServiceProcess> namespace.</span></span> <span data-ttu-id="7c9df-124">Bu uygulama öğesinden devralınan bir sınıf içermelidir <xref:System.ServiceProcess.ServiceBase>.</span><span class="sxs-lookup"><span data-stu-id="7c9df-124">This application must include one class that inherits from <xref:System.ServiceProcess.ServiceBase>.</span></span>  
  
2. <span data-ttu-id="7c9df-125">WCF hizmetleri ömrünü Windows hizmet uygulaması ömrünü bağlayın.</span><span class="sxs-lookup"><span data-stu-id="7c9df-125">Link the lifetime of the WCF services to the lifetime of the Windows service application.</span></span> <span data-ttu-id="7c9df-126">Genellikle, barındırma hizmeti başlatıldığında etkinleşir, barındırma hizmeti durduruldu ve barındırma işlemi WCF hizmeti bir hatayla karşılaştığında Kapat iletileri için dinleyecek şekilde bir Windows hizmet uygulamasında barındırılan WCF hizmetleri için istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="7c9df-126">Typically, you want WCF services hosted in a Windows service application to become active when the hosting service starts, stop listening for messages when the hosting service is stopped, and shut down the hosting process when the WCF service encounters an error.</span></span> <span data-ttu-id="7c9df-127">Bu şekilde gerçekleştirilebilir:</span><span class="sxs-lookup"><span data-stu-id="7c9df-127">This can be accomplished as follows:</span></span>  
  
    - <span data-ttu-id="7c9df-128">Geçersiz kılma <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> bir veya daha fazla örneğini açmayı <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="7c9df-128">Override <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> to open one or more instances of <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="7c9df-129">Tek bir Windows hizmet uygulaması, bir grup olarak başlatıp birden çok WCF hizmetlerini barındırabilirler.</span><span class="sxs-lookup"><span data-stu-id="7c9df-129">A single Windows service application can host multiple WCF services that start and stop as a group.</span></span>  
  
    - <span data-ttu-id="7c9df-130">Geçersiz kılma <xref:System.ServiceProcess.ServiceBase.OnStop%2A> çağrılacak <xref:System.ServiceModel.Channels.CommunicationObject.Closed> üzerinde <xref:System.ServiceModel.ServiceHost> sırasında başlatılan çalışan tüm WCF hizmetleri <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>.</span><span class="sxs-lookup"><span data-stu-id="7c9df-130">Override <xref:System.ServiceProcess.ServiceBase.OnStop%2A> to call <xref:System.ServiceModel.Channels.CommunicationObject.Closed> on the <xref:System.ServiceModel.ServiceHost> any running WCF services that were started during <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>.</span></span>  
  
    - <span data-ttu-id="7c9df-131">Abone <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> olayı <xref:System.ServiceModel.ServiceHost> ve <xref:System.ServiceProcess.ServiceController> hata durumunda Windows hizmet uygulamasını kapatmak için sınıf.</span><span class="sxs-lookup"><span data-stu-id="7c9df-131">Subscribe to the <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> event of <xref:System.ServiceModel.ServiceHost> and use the <xref:System.ServiceProcess.ServiceController> class to shut down the Windows service application in case of error.</span></span>  
  
     <span data-ttu-id="7c9df-132">WCF hizmetleri barındıran Windows hizmeti uygulamaları dağıtılır ve haline getirmez Windows hizmet uygulamaları WCF kullanmak gibi aynı şekilde yönetilir.</span><span class="sxs-lookup"><span data-stu-id="7c9df-132">Windows service applications that host WCF services are deployed and managed in the same way as Windows service applications that do not make use of WCF.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7c9df-133">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="7c9df-133">See also</span></span>

- <xref:System.ServiceProcess>
- [<span data-ttu-id="7c9df-134">İzlenecek yol: Bileşen tasarımcısında Windows hizmeti uygulaması oluşturma</span><span class="sxs-lookup"><span data-stu-id="7c9df-134">Walkthrough: Creating a Windows Service Application in the Component Designer</span></span>](https://go.microsoft.com/fwlink/?LinkId=94875)
- [<span data-ttu-id="7c9df-135">Nasıl yapılır: Yönetilen bir Windows hizmetinde bir WCF Hizmeti barındırma</span><span class="sxs-lookup"><span data-stu-id="7c9df-135">How to: Host a WCF Service in a Managed Windows Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md)
- [<span data-ttu-id="7c9df-136">Windows Hizmet Konağı</span><span class="sxs-lookup"><span data-stu-id="7c9df-136">Windows Service Host</span></span>](../../../../docs/framework/wcf/samples/windows-service-host.md)
- [<span data-ttu-id="7c9df-137">Hizmet Uygulaması Programlama Mimarisi</span><span class="sxs-lookup"><span data-stu-id="7c9df-137">Service Application Programming Architecture</span></span>](https://go.microsoft.com/fwlink/?LinkId=94876)
- [<span data-ttu-id="7c9df-138">Windows Server App Fabric barındırma özellikleri</span><span class="sxs-lookup"><span data-stu-id="7c9df-138">Windows Server App Fabric Hosting Features</span></span>](https://go.microsoft.com/fwlink/?LinkId=201276)
