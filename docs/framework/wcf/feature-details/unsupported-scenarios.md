---
title: Desteklenmeyen Senaryolar
ms.date: 03/30/2017
ms.assetid: 72027d0f-146d-40c5-9d72-e94392c8bb40
ms.openlocfilehash: 381175a95b696145df8a1e19b9a40f2e697eef1e
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54631279"
---
# <a name="unsupported-scenarios"></a><span data-ttu-id="ca93b-102">Desteklenmeyen Senaryolar</span><span class="sxs-lookup"><span data-stu-id="ca93b-102">Unsupported Scenarios</span></span>
<span data-ttu-id="ca93b-103">Çeşitli nedenlerden dolayı Windows Communication Foundation (WCF) bazı belirli güvenlik senaryoları desteklemez.</span><span class="sxs-lookup"><span data-stu-id="ca93b-103">For various reasons, Windows Communication Foundation (WCF) does not support some specific security scenarios.</span></span> <span data-ttu-id="ca93b-104">Örneğin, [!INCLUDE[wxp](../../../../includes/wxp-md.md)] Home Edition SSPI veya Kerberos kimlik doğrulama protokolleri uygulamaz ve bu nedenle WCF hizmet Windows kimlik doğrulaması ile bu platform üzerinde çalıştırılmasını desteklemez.</span><span class="sxs-lookup"><span data-stu-id="ca93b-104">For example, [!INCLUDE[wxp](../../../../includes/wxp-md.md)] Home Edition does not implement the SSPI or Kerberos authentication protocols, and therefore WCF does not support running a service with Windows authentication on that platform.</span></span> <span data-ttu-id="ca93b-105">Kullanıcı adı/parola ve HTTP/HTTPS tümleşik kimlik doğrulaması gibi diğer kimlik doğrulama mekanizmaları, WCF, Windows XP Home Edition altında çalışırken desteklenir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-105">Other authentication mechanisms, such as username/password and HTTP/HTTPS integrated authentication are supported when running WCF under Windows XP Home Edition.</span></span>  
  
## <a name="impersonation-scenarios"></a><span data-ttu-id="ca93b-106">Kimliğe bürünme senaryoları</span><span class="sxs-lookup"><span data-stu-id="ca93b-106">Impersonation Scenarios</span></span>  
  
### <a name="impersonated-identity-might-not-flow-when-clients-make-asynchronous-calls"></a><span data-ttu-id="ca93b-107">İstemciler, zaman uyumsuz çağrı yaptığınızda başkasının kimliğine bürünülerek gerçekleştirilen kimlik akış değil</span><span class="sxs-lookup"><span data-stu-id="ca93b-107">Impersonated Identity Might Not Flow When Clients Make Asynchronous Calls</span></span>  
 <span data-ttu-id="ca93b-108">Bir WCF istemcisi bürünmeyle Windows kimlik doğrulaması kullanarak bir WCF hizmetini zaman uyumsuz çağrılar, kimlik doğrulaması başkasının kimliğine bürünülerek gerçekleştirilen kimlik yerine istemci işlem kimliği ile gerçekleşebilir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-108">When a WCF client makes asynchronous calls to a WCF service using Windows authentication under impersonation, authentication might occur with the identity of the client process instead of the impersonated identity.</span></span>  
  
### <a name="windows-xp-and-secure-context-token-cookie-enabled"></a><span data-ttu-id="ca93b-109">Windows XP ve etkin güvenli bağlam belirteci tanımlama bilgisi</span><span class="sxs-lookup"><span data-stu-id="ca93b-109">Windows XP and Secure Context Token Cookie Enabled</span></span>  
 <span data-ttu-id="ca93b-110">WCF kimliğe bürünme desteklemez ve bir <xref:System.InvalidOperationException> aşağıdaki koşulların oluşturulur:</span><span class="sxs-lookup"><span data-stu-id="ca93b-110">WCF does not support impersonation and an <xref:System.InvalidOperationException> is thrown when the following conditions exist:</span></span>  
  
-   <span data-ttu-id="ca93b-111">İşletim sistemi [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca93b-111">The operating system is [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
-   <span data-ttu-id="ca93b-112">Bir Windows kimliği kimlik doğrulama modu sonuçları.</span><span class="sxs-lookup"><span data-stu-id="ca93b-112">The authentication mode results in a Windows identity.</span></span>  
  
-   <span data-ttu-id="ca93b-113"><xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> Özelliği <xref:System.ServiceModel.OperationBehaviorAttribute> ayarlanır <xref:System.ServiceModel.ImpersonationOption.Required>.</span><span class="sxs-lookup"><span data-stu-id="ca93b-113">The <xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> property of the <xref:System.ServiceModel.OperationBehaviorAttribute> is set to <xref:System.ServiceModel.ImpersonationOption.Required>.</span></span>  
  
-   <span data-ttu-id="ca93b-114">Bir durum tabanlı güvenlik bağlamı belirteci (SCT) oluşturulur (oluşturma, varsayılan olarak devre dışıdır).</span><span class="sxs-lookup"><span data-stu-id="ca93b-114">A state-based security context token (SCT) is created (by default, creation is disabled).</span></span>  
  
 <span data-ttu-id="ca93b-115">Durum tabanlı SCT yalnızca özel bir bağlama kullanarak oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-115">The state-based SCT can only be created using a custom binding.</span></span> <span data-ttu-id="ca93b-116">Daha fazla bilgi için [nasıl yapılır: Bir güvenlik bağlamı oluşturmak için güvenli bir oturum belirteci](../../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).) Bir güvenlik bağlama öğesi oluşturarak, kod içinde belirtecinin etkinleştirilip etkinleştirilmediğini (ya da <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> veya <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>) kullanarak <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%28System.Boolean%29?displayProperty=nameWithType> veya <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%28System.ServiceModel.Channels.SecurityBindingElement%2CSystem.Boolean%29?displayProperty=nameWithType> yöntemi ve ayarı `requireCancellation` parametresi `false`.</span><span class="sxs-lookup"><span data-stu-id="ca93b-116">For more information, see [How to: Create a Security Context Token for a Secure Session](../../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).) In code, the token is enabled by creating a security binding element (either <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> or <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>) using the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement%28System.Boolean%29?displayProperty=nameWithType> or the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateSecureConversationBindingElement%28System.ServiceModel.Channels.SecurityBindingElement%2CSystem.Boolean%29?displayProperty=nameWithType> method and setting the `requireCancellation` parameter to `false`.</span></span> <span data-ttu-id="ca93b-117">Parametresi SCT önbelleğe almayı gösterir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-117">The parameter refers to the caching of the SCT.</span></span> <span data-ttu-id="ca93b-118">Değerini `false` durum tabanlı SCT özelliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="ca93b-118">Setting the value to `false` enables the state-based SCT feature.</span></span>  
  
 <span data-ttu-id="ca93b-119">Alternatif olarak, yapılandırmada belirteci oluşturarak etkin bir <`customBinding`>, ardından ekleyerek bir <`security`> öğesi ve ayarı `authenticationMode` özniteliği için SecureConversation ve `requireSecurityContextCancellation` özniteliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="ca93b-119">Alternatively, in configuration, the token is enabled by creating a <`customBinding`>, then adding a <`security`> element, and setting the `authenticationMode` attribute to SecureConversation and the `requireSecurityContextCancellation` attribute to `true`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ca93b-120">Yukarıdaki gereksinimlerine özgüdür.</span><span class="sxs-lookup"><span data-stu-id="ca93b-120">The preceding requirements are specific.</span></span> <span data-ttu-id="ca93b-121">Örneğin, <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A> yer alan bir Windows kimliği, ancak bir SCT belirlemez bir bağlama öğesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ca93b-121">For example, the <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateKerberosBindingElement%2A> creates a binding element that results in a Windows identity, but does not establish an SCT.</span></span> <span data-ttu-id="ca93b-122">Bu nedenle, kendisiyle kullanabilirsiniz `Required` seçeneğini [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca93b-122">Therefore, you can use it with the `Required` option on [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
### <a name="possible-aspnet-conflict"></a><span data-ttu-id="ca93b-123">Olası bir ASP.NET çakışma</span><span class="sxs-lookup"><span data-stu-id="ca93b-123">Possible ASP.NET Conflict</span></span>  
 <span data-ttu-id="ca93b-124">WCF ve [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] her ikisini de etkinleştirmek veya kimliğe bürünme devre dışı bırakabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ca93b-124">WCF and [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] can both enable or disable impersonation.</span></span> <span data-ttu-id="ca93b-125">Zaman [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] barındıran bir WCF uygulaması, WCF arasında bir çakışma mevcut olabilir ve [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] yapılandırma ayarları.</span><span class="sxs-lookup"><span data-stu-id="ca93b-125">When [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] hosts an WCF application, a conflict may exist between the WCF and [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] configuration settings.</span></span> <span data-ttu-id="ca93b-126">Çakışma olması durumunda, WCF ayarı, sürece önceliklidir <xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> özelliği <xref:System.ServiceModel.ImpersonationOption.NotAllowed>, bu durumda [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] kimliğe bürünme ayarı öncelik kazanır.</span><span class="sxs-lookup"><span data-stu-id="ca93b-126">In case of conflict, the WCF setting takes precedence, unless the <xref:System.ServiceModel.OperationBehaviorAttribute.Impersonation%2A> property is set to <xref:System.ServiceModel.ImpersonationOption.NotAllowed>, in which case the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] impersonation setting takes precedence.</span></span>  
  
### <a name="assembly-loads-may-fail-under-impersonation"></a><span data-ttu-id="ca93b-127">Derleme yüklerini altında kimliğe bürünme başarısız olabilir</span><span class="sxs-lookup"><span data-stu-id="ca93b-127">Assembly Loads May Fail Under Impersonation</span></span>  
 <span data-ttu-id="ca93b-128">Başkasının kimliğine bürünülerek gerçekleştirilen bağlamı bir derlemeyi yüklemek için erişim haklarına sahip değil ve ilk kez ise ortak dil çalışma zamanı (CLR), AppDomain için derlemeyi yüklenmeye çalışılıyor <xref:System.AppDomain> hatası önbelleğe alır.</span><span class="sxs-lookup"><span data-stu-id="ca93b-128">If the impersonated context does not have access rights to load an assembly and if it is the first time the common language runtime (CLR) is attempting to load the assembly for that AppDomain, the <xref:System.AppDomain> caches the failure.</span></span> <span data-ttu-id="ca93b-129">Bu derleme (veya derlemeleri) yüklemek için sonraki denemeler başarısız, bile kimliğe bürünme ve bile geri döndürdükten sonra dönüştürülen içerik derlemesini yüklemek için erişim haklarına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-129">Subsequent attempts to load that assembly (or assemblies) fail, even after reverting the impersonation, and even if the reverted context has access rights to load the assembly.</span></span> <span data-ttu-id="ca93b-130">Kullanıcı bağlamı değiştirildikten sonra CLR yük yeniden denemez olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="ca93b-130">This is because the CLR does not re-attempt the load after the user context is changed.</span></span> <span data-ttu-id="ca93b-131">Hatadan kurtarmak için uygulama etki alanını yeniden başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-131">You must restart the application domain to recover from the failure.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ca93b-132">İçin varsayılan değer <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> özelliği <xref:System.ServiceModel.Security.WindowsClientCredential> sınıfı <xref:System.Security.Principal.TokenImpersonationLevel.Identification>.</span><span class="sxs-lookup"><span data-stu-id="ca93b-132">The default value for the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowedImpersonationLevel%2A> property of the <xref:System.ServiceModel.Security.WindowsClientCredential> class is <xref:System.Security.Principal.TokenImpersonationLevel.Identification>.</span></span> <span data-ttu-id="ca93b-133">Çoğu durumda, bir kimlik düzeyinde kimliğe bürünülmüş bağlamdaki herhangi bir ek derlemeler yüklemek için herhangi bir hak vardır.</span><span class="sxs-lookup"><span data-stu-id="ca93b-133">In most cases, an identification-level impersonation context has no rights to load any additional assemblies.</span></span> <span data-ttu-id="ca93b-134">Bu farkında olması çok yaygın bir durumdur için varsayılan değer budur.</span><span class="sxs-lookup"><span data-stu-id="ca93b-134">This is the default value, so this is a very common condition to be aware of.</span></span> <span data-ttu-id="ca93b-135">Kimlik düzeyinde kimliğe bürünme özellikleri alınırken işlem olmadığı zaman da oluşur `SeImpersonate` ayrıcalık.</span><span class="sxs-lookup"><span data-stu-id="ca93b-135">Identification-level impersonation also occurs when the impersonating process does not have the `SeImpersonate` privilege.</span></span> <span data-ttu-id="ca93b-136">Daha fazla bilgi için [temsilcilik ve kimliğe bürünme](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="ca93b-136">For more information, see [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
### <a name="delegation-requires-credential-negotiation"></a><span data-ttu-id="ca93b-137">Kimlik bilgileri görüşmesi temsilci gerektirir</span><span class="sxs-lookup"><span data-stu-id="ca93b-137">Delegation Requires Credential Negotiation</span></span>  
 <span data-ttu-id="ca93b-138">Temsilci ile Kerberos kimlik doğrulama protokolünü kullanmak için Kerberos protokolü ile kimlik bilgileri görüşmesi (bazen çok oluşturan veya çok adımlı Kerberos denir) uygulamalıdır.</span><span class="sxs-lookup"><span data-stu-id="ca93b-138">To use the Kerberos authentication protocol with delegation, you must implement the Kerberos protocol with credential negotiation (sometimes called multi-leg or multi-step Kerberos).</span></span> <span data-ttu-id="ca93b-139">Kerberos kimlik doğrulaması (Kerberos kesin veya tek oluşturan denir) kimlik bilgileri görüşmesi uygularsanız, bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="ca93b-139">If you implement Kerberos authentication without credential negotiation (sometimes called one-shot or single-leg Kerberos), an exception is thrown.</span></span> <span data-ttu-id="ca93b-140">Kimlik bilgileri görüşmesi gerçekleştirme hakkında daha fazla bilgi için bkz. [Windows kimlik doğrulama hatalarını hata ayıklama](../../../../docs/framework/wcf/feature-details/debugging-windows-authentication-errors.md).</span><span class="sxs-lookup"><span data-stu-id="ca93b-140">For more information about how to implement credential negotiation, see [Debugging Windows Authentication Errors](../../../../docs/framework/wcf/feature-details/debugging-windows-authentication-errors.md).</span></span>  
  
## <a name="cryptography"></a><span data-ttu-id="ca93b-141">Şifreleme</span><span class="sxs-lookup"><span data-stu-id="ca93b-141">Cryptography</span></span>  
  
### <a name="sha-256-supported-only-for-symmetric-key-usages"></a><span data-ttu-id="ca93b-142">SHA-256 yalnızca simetrik anahtar kullanımları için desteklenir</span><span class="sxs-lookup"><span data-stu-id="ca93b-142">SHA-256 Supported Only for Symmetric Key Usages</span></span>  
 <span data-ttu-id="ca93b-143">WCF çeşitli şifreleme ve sistem tarafından sağlanan bağlamalar algoritma paketini kullanarak belirtebilirsiniz imza Özet oluşturma algoritmaları destekler.</span><span class="sxs-lookup"><span data-stu-id="ca93b-143">WCF supports a variety of encryption and signature digest creation algorithms that you can specify using the algorithm suite in the system-provided bindings.</span></span> <span data-ttu-id="ca93b-144">Gelişmiş güvenlik için imza Özet karmaları oluşturmak için güvenli karma algoritması (SHA) 2 algoritmalarını, özellikle SHA-256, WCF destekler.</span><span class="sxs-lookup"><span data-stu-id="ca93b-144">For improved security, WCF supports Secure Hash Algorithm (SHA) 2 algorithms, specifically SHA-256, for creating signature digest hashes.</span></span> <span data-ttu-id="ca93b-145">Bu sürüm yalnızca Kerberos anahtarları gibi simetrik anahtar kullanımları için SHA-256 destekler ve burada bir X.509 sertifikası iletiyi imzalamak üzere kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="ca93b-145">This release supports SHA-256 only for symmetric key usages, such as Kerberos keys, and where an X.509 certificate is not used to sign the message.</span></span> <span data-ttu-id="ca93b-146">WCF RSA imzalar (X.509 sertifikaları kullanılır) desteklemediği için RSA-SHA256 SHA-256 karma destek geçerli olmaması nedeniyle kullanarak [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ca93b-146">WCF does not support RSA signatures (used in X.509 certificates) using SHA-256 hash due to the current lack of support for RSA-SHA256 in the [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span></span>  
  
### <a name="fips-compliant-sha-256-hashes-not-supported"></a><span data-ttu-id="ca93b-147">FIPS uyumlu SHA-256 karma desteklenmiyor</span><span class="sxs-lookup"><span data-stu-id="ca93b-147">FIPS-Compliant SHA-256 Hashes not Supported</span></span>  
 <span data-ttu-id="ca93b-148">SHA-256 kullanan algoritması paketleri WCF tarafından FIPS uyumlu algoritmaları kullanımını gerekli olduğu sistemlerde desteklenmez bu nedenle, WCF SHA-256'yı FIPS uyumlu karmaları desteklemez.</span><span class="sxs-lookup"><span data-stu-id="ca93b-148">WCF does not support SHA-256 FIPS-compliant hashes, so algorithm suites that use SHA-256 are not supported by WCF on systems where use of FIPS compliant algorithms is required.</span></span>  
  
### <a name="fips-compliant-algorithms-may-fail-if-registry-is-edited"></a><span data-ttu-id="ca93b-149">Kayıt defteri düzenlediyseniz FIPS uyumlu algoritmaları başarısız olabilir</span><span class="sxs-lookup"><span data-stu-id="ca93b-149">FIPS-Compliant Algorithms May Fail if Registry Is Edited</span></span>  
 <span data-ttu-id="ca93b-150">Etkinleştirebilir ve Federal Bilgi işleme standartları (FIPS) - yerel güvenlik ayarları Microsoft Yönetim Konsolu (MMC) ek bileşeni kullanılarak uyumlu algoritmalar - devre dışı bırak.</span><span class="sxs-lookup"><span data-stu-id="ca93b-150">You can enable and disable Federal Information Processing Standards (FIPS)-compliant algorithms by using the Local Security Settings Microsoft Management Console (MMC) snap-in.</span></span> <span data-ttu-id="ca93b-151">Kayıt defteri ayarı da erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ca93b-151">You can also access the setting in the registry.</span></span> <span data-ttu-id="ca93b-152">Ancak, WCF ayarını sıfırlamak için kayıt defterini kullanarak desteklemiyor unutmayın.</span><span class="sxs-lookup"><span data-stu-id="ca93b-152">Note, however, that WCF does not support using the registry to reset the setting.</span></span> <span data-ttu-id="ca93b-153">Değeri için herhangi bir şey dışında 1 veya 0 olarak ayarlanırsa CLR ve işletim sistemi arasında tutarsız sonuçlar ortaya çıkabilir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-153">If the value is set to anything other than 1 or 0, inconsistent results can occur between the CLR and the operating system.</span></span>  
  
### <a name="fips-compliant-aes-encryption-limitation"></a><span data-ttu-id="ca93b-154">FIPS uyumlu AES şifreleme sınırlama</span><span class="sxs-lookup"><span data-stu-id="ca93b-154">FIPS-Compliant AES Encryption Limitation</span></span>  
 <span data-ttu-id="ca93b-155">FIPS uyumlu AES şifreleme çift yönlü geri çağırmalar düzeyi kimliğe bürünme kimlik altında çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="ca93b-155">FIPS compliant AES encryption does not work in duplex callbacks under identification level impersonation.</span></span>  
  
### <a name="cngksp-certificates"></a><span data-ttu-id="ca93b-156">CNG/KSP sertifikaları</span><span class="sxs-lookup"><span data-stu-id="ca93b-156">CNG/KSP Certificates</span></span>  
 <span data-ttu-id="ca93b-157">*Şifreleme API'si: Yeni nesil (CNG)* CryptoAPI uzun vadeli yerini alır.</span><span class="sxs-lookup"><span data-stu-id="ca93b-157">*Cryptography API: Next Generation (CNG)* is the long-term replacement for the CryptoAPI.</span></span> <span data-ttu-id="ca93b-158">Bu API üzerinde yönetilmeyen kodda kullanılabilir [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)] ve sonraki Windows sürümlerinde.</span><span class="sxs-lookup"><span data-stu-id="ca93b-158">This API is available in unmanaged code on [!INCLUDE[wv](../../../../includes/wv-md.md)],  [!INCLUDE[lserver](../../../../includes/lserver-md.md)] and later Windows versions.</span></span>  
  
 <span data-ttu-id="ca93b-159">Eski CryptoAPI CNG/KSP sertifikaları işlemek için kullandıkları için .NET framework 4.6.1 ve önceki sürümleri bu sertifikaları desteklemez.</span><span class="sxs-lookup"><span data-stu-id="ca93b-159">.NET Framework 4.6.1 and earlier versions do not support these certificates because they use the legacy CryptoAPI to handle CNG/KSP certificates.</span></span> <span data-ttu-id="ca93b-160">.NET Framework 4.6.1 ve önceki sürümleri bu sertifikaların kullanılması, bir özel durum neden olur.</span><span class="sxs-lookup"><span data-stu-id="ca93b-160">The use of these certificates with   .NET Framework 4.6.1 and earlier versions will cause an exception.</span></span>  
  
 <span data-ttu-id="ca93b-161">Bir sertifika KSP kullanıp kullanmadığını bildirmek için olası iki yolu vardır:</span><span class="sxs-lookup"><span data-stu-id="ca93b-161">There are two possible ways to tell if a certificate uses KSP:</span></span>  
  
-   <span data-ttu-id="ca93b-162">Yapmak bir `p/invoke` , `CertGetCertificateContextProperty`ve incelemek `dwProvType` döndürülen üzerinde `CertGetCertificateContextProperty`.</span><span class="sxs-lookup"><span data-stu-id="ca93b-162">Do a `p/invoke` of `CertGetCertificateContextProperty`, and inspect `dwProvType` on the returned `CertGetCertificateContextProperty`.</span></span>  
  
-   <span data-ttu-id="ca93b-163">Kullanım `certutil` sertifikaları'nı sorgulamak için komut satırından komutu.</span><span class="sxs-lookup"><span data-stu-id="ca93b-163">Use the  `certutil` command from the command line for querying certificates.</span></span> <span data-ttu-id="ca93b-164">Daha fazla bilgi için [sertifikalarının sorunlarını gidermek için Certutil görevleri](https://go.microsoft.com/fwlink/?LinkId=120056).</span><span class="sxs-lookup"><span data-stu-id="ca93b-164">For more information, see [Certutil tasks for troubleshooting certificates](https://go.microsoft.com/fwlink/?LinkId=120056).</span></span>  
  
## <a name="message-security-fails-if-using-aspnet-impersonation-and-aspnet-compatibility-is-required"></a><span data-ttu-id="ca93b-165">ASP.NET kimliğe bürünme ve ASP.NET uyumluluk kullanarak gerekliyse ileti güvenlik başarısız</span><span class="sxs-lookup"><span data-stu-id="ca93b-165">Message Security Fails if Using ASP.NET Impersonation and ASP.NET Compatibility Is Required</span></span>  
 <span data-ttu-id="ca93b-166">İstemci kimlik doğrulaması, oluşmasını engellediğinden WCF ayarları aşağıdaki birleşimi desteklemez:</span><span class="sxs-lookup"><span data-stu-id="ca93b-166">WCF does not support the following combination of settings because they can prevent client authentication from occurring:</span></span>  
  
-   [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] <span data-ttu-id="ca93b-167">Kimliğe bürünme etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-167">Impersonation is enabled.</span></span> <span data-ttu-id="ca93b-168">Bu Web.config dosyasında ayarlayarak yapılır `impersonate` özniteliği <`identity`> öğesine `true`.</span><span class="sxs-lookup"><span data-stu-id="ca93b-168">This is done in the Web.config file by setting the `impersonate` attribute of the <`identity`> element to `true`.</span></span>  
  
-   [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] <span data-ttu-id="ca93b-169">Uyumluluk modu etkin ayarlayarak `aspNetCompatibilityEnabled` özniteliği [ \<serviceHostingEnvironment >](../../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) için `true`.</span><span class="sxs-lookup"><span data-stu-id="ca93b-169">compatibility mode is enabled by setting the `aspNetCompatibilityEnabled` attribute of the [\<serviceHostingEnvironment>](../../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) to `true`.</span></span>  
  
-   <span data-ttu-id="ca93b-170">İleti modu güvenliği kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ca93b-170">Message mode security is used.</span></span>  
  
 <span data-ttu-id="ca93b-171">Devre dışı bırakmak için geçici olduğu [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] uyumluluk modu.</span><span class="sxs-lookup"><span data-stu-id="ca93b-171">The work-around is to turn off the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] compatibility mode.</span></span> <span data-ttu-id="ca93b-172">Veya [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] uyumluluk modu gereklidir, devre dışı bırakma [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] kimliğe bürünme özelliğini ve WCF tarafından sağlanan kimliğe bürünme özelliğini kullanın.</span><span class="sxs-lookup"><span data-stu-id="ca93b-172">Or, if the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] compatibility mode is required, disable the [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] impersonation feature and use WCF-provided impersonation instead.</span></span> <span data-ttu-id="ca93b-173">Daha fazla bilgi için [temsilcilik ve kimliğe bürünme](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="ca93b-173">For more information, see [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="ipv6-literal-address-failure"></a><span data-ttu-id="ca93b-174">IPv6 adresi değişmez değer hatası</span><span class="sxs-lookup"><span data-stu-id="ca93b-174">IPv6 Literal Address Failure</span></span>  
 <span data-ttu-id="ca93b-175">Hizmet ve istemci aynı makinede olan ve değişmez değer IPv6 adresleri hizmeti için kullanılan güvenlik istekleri başarısız.</span><span class="sxs-lookup"><span data-stu-id="ca93b-175">Security requests fail when the client and service are on the same machine, and IPv6 literal addresses are used for the service.</span></span>  
  
 <span data-ttu-id="ca93b-176">Hizmet ve istemci, farklı makinelerde olması durumunda iş değişmez değer IPv6 yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-176">Literal IPv6 addresses work if the service and client are on different machines.</span></span>  
  
## <a name="wsdl-retrieval-failures-with-federated-trust"></a><span data-ttu-id="ca93b-177">Federe güven ile WSDL alma hataları</span><span class="sxs-lookup"><span data-stu-id="ca93b-177">WSDL Retrieval Failures with Federated Trust</span></span>  
 <span data-ttu-id="ca93b-178">WCF federe güven zincirinde her düğüm için tam olarak bir WSDL belgesi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-178">WCF requires exactly one WSDL document for each node in the federated trust chain.</span></span> <span data-ttu-id="ca93b-179">Bir döngü uç noktaları belirtirken ayarlanmadı dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="ca93b-179">Be careful not to set up a loop when specifying endpoints.</span></span> <span data-ttu-id="ca93b-180">Bir yolu, döngüleri oluşabilir aynı WSDL belgesinde iki veya daha fazla bağlantı ile bir federasyon güven zincirleri WSDL indirilmesini kullanıyor.</span><span class="sxs-lookup"><span data-stu-id="ca93b-180">One way in which loops can arise is using a WSDL download of federated trust chains with two or more links in the same WSDL document.</span></span> <span data-ttu-id="ca93b-181">Bu sorunu oluşturabilecek yaygın bir senaryo güvenlik belirteci sunucusu ve hizmeti aynı ServiceHost içinde bulunduğu federe bir hizmettir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-181">A common scenario that can produce this problem is a federated service where the Security Token Server and the service are contained inside the same ServiceHost.</span></span>  
  
 <span data-ttu-id="ca93b-182">Bu durum aşağıdaki üç uç nokta adresleri bir hizmet örneğidir:</span><span class="sxs-lookup"><span data-stu-id="ca93b-182">An example of this situation is a service with the following three endpoint addresses:</span></span>  
  
- <span data-ttu-id="ca93b-183">`http://localhost/CalculatorService/service` (hizmet)</span><span class="sxs-lookup"><span data-stu-id="ca93b-183">`http://localhost/CalculatorService/service` (the service)</span></span>  
  
- <span data-ttu-id="ca93b-184">`http://localhost/CalculatorService/issue_ticket` (STS)</span><span class="sxs-lookup"><span data-stu-id="ca93b-184">`http://localhost/CalculatorService/issue_ticket` (the STS)</span></span>  
  
- <span data-ttu-id="ca93b-185">`http://localhost/CalculatorService/mex` (meta veri uç noktası)</span><span class="sxs-lookup"><span data-stu-id="ca93b-185">`http://localhost/CalculatorService/mex` (the metadata endpoint)</span></span>  
  
 <span data-ttu-id="ca93b-186">Bu, özel durum oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ca93b-186">This throws an exception.</span></span>  
  
 <span data-ttu-id="ca93b-187">Yerleştirerek bu senaryo yapabileceğiniz `issue_ticket` başka bir uç nokta.</span><span class="sxs-lookup"><span data-stu-id="ca93b-187">You can make this scenario work by putting the `issue_ticket` endpoint elsewhere.</span></span>  
  
## <a name="wsdl-import-attributes-can-be-lost"></a><span data-ttu-id="ca93b-188">WSDL içeri aktarma öznitelik olabilir kaybedildi</span><span class="sxs-lookup"><span data-stu-id="ca93b-188">WSDL Import Attributes can be Lost</span></span>  
 <span data-ttu-id="ca93b-189">WCF izleme özniteliklerini üzerinde kaybeder bir `<wst:Claims>` öğesinde bir `RST` bir WSDL içeri aktarma yaparken şablonu.</span><span class="sxs-lookup"><span data-stu-id="ca93b-189">WCF loses track of the attributes on a `<wst:Claims>` element in an `RST` template when doing a WSDL import.</span></span> <span data-ttu-id="ca93b-190">Bir WSDL içeri aktarma sırasında böyle belirtirseniz `<Claims>` doğrudan `WSFederationHttpBinding.Security.Message.TokenRequestParameters` veya `IssuedSecurityTokenRequestParameters.AdditionalRequestParameters` talep türü koleksiyonları doğrudan kullanmak yerine.</span><span class="sxs-lookup"><span data-stu-id="ca93b-190">This happens during a WSDL import if you specify `<Claims>` directly in `WSFederationHttpBinding.Security.Message.TokenRequestParameters` or `IssuedSecurityTokenRequestParameters.AdditionalRequestParameters` instead of using the claim type collections directly.</span></span>  <span data-ttu-id="ca93b-191">Öznitelikleri alma kaybeder bağlama değil WSDL gidiş dönüş düzgün bir şekilde yapar ve bu nedenle istemci tarafında yanlış.</span><span class="sxs-lookup"><span data-stu-id="ca93b-191">Since the import loses the attributes, the binding does not round trip properly through WSDL and hence is incorrect on the client side.</span></span>  
  
 <span data-ttu-id="ca93b-192">Düzeltme içeri aktarma yaptıktan sonra istemci üzerinde doğrudan bağlama değiştirmektir.</span><span class="sxs-lookup"><span data-stu-id="ca93b-192">The fix is to modify the binding directly on the client after doing the import.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ca93b-193">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="ca93b-193">See also</span></span>
- [<span data-ttu-id="ca93b-194">Güvenlik Konuları</span><span class="sxs-lookup"><span data-stu-id="ca93b-194">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)
- [<span data-ttu-id="ca93b-195">Bilgilerin Açığa Çıkması</span><span class="sxs-lookup"><span data-stu-id="ca93b-195">Information Disclosure</span></span>](../../../../docs/framework/wcf/feature-details/information-disclosure.md)
- [<span data-ttu-id="ca93b-196">Ayrıcalıkların Yükseltilmesi</span><span class="sxs-lookup"><span data-stu-id="ca93b-196">Elevation of Privilege</span></span>](../../../../docs/framework/wcf/feature-details/elevation-of-privilege.md)
- [<span data-ttu-id="ca93b-197">Hizmet Reddi</span><span class="sxs-lookup"><span data-stu-id="ca93b-197">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)
- [<span data-ttu-id="ca93b-198">İzinsiz Değişiklik</span><span class="sxs-lookup"><span data-stu-id="ca93b-198">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)
- [<span data-ttu-id="ca93b-199">Yeniden Yürütme Saldırıları</span><span class="sxs-lookup"><span data-stu-id="ca93b-199">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)
