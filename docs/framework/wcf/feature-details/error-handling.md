---
title: Hata işleme
ms.date: 03/30/2017
ms.assetid: c948841a-7db9-40ae-9b78-587d216cbcaf
ms.openlocfilehash: 34f4f11176b3827ec3e4622944ffe02be5207df9
ms.sourcegitcommit: 558d78d2a68acd4c95ef23231c8b4e4c7bac3902
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59300287"
---
# <a name="error-handling"></a><span data-ttu-id="ebf56-102">Hata işleme</span><span class="sxs-lookup"><span data-stu-id="ebf56-102">Error handling</span></span>
## <a name="error-handling-in-windows-communication-foundation"></a><span data-ttu-id="ebf56-103">Windows Communication Foundation işleme hatası</span><span class="sxs-lookup"><span data-stu-id="ebf56-103">Error Handling in Windows Communication Foundation</span></span>  
 <span data-ttu-id="ebf56-104">Bir hizmet bir beklenmeyen özel durum veya hata ile karşılaştığında, bir özel durum işleme çözümü tasarlamak için birden çok yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-104">When a service encounters an unexpected exception or error, there are multiple ways to design an exception-handling solution.</span></span> <span data-ttu-id="ebf56-105">Varken hiçbir tek "doğru" veya "en iyi uygulama" hata işleme çözüm, birden fazla geçerli yol için dikkate alınması gereken bir vardır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-105">While there is no single "correct" or "best practice" error-handling solution, there are multiple valid paths for one to consider.</span></span> <span data-ttu-id="ebf56-106">Normalde bir işlenmemiş yapısını birden çok yaklaşımın WCF uygulaması, tür ve özel durumları, işlenmiş sıklığını karmaşıklığına bağlı olarak, aşağıdaki listeden bir araya getiren karma çözümü uygulamanız önerilir özel durumlar ve tüm izleme, günlüğe kaydetme ve ilke gereksinimlerinizi ilişkili.</span><span class="sxs-lookup"><span data-stu-id="ebf56-106">It is normally recommended that one implement a hybrid solution that combines multiple approaches from the list below, depending on the complexity of the WCF implementation, the type and frequency of the exceptions, the handled vs. unhandled nature of the exceptions, and any associated tracing, logging, or policy requirements.</span></span>  
  
 <span data-ttu-id="ebf56-107">Bu çözümler, bu bölümün geri kalanında daha derin bir şekilde açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-107">These solutions are explained more deeply in the rest of this section.</span></span>  
  
### <a name="the-microsoft-enterprise-library"></a><span data-ttu-id="ebf56-108">Microsoft Kurumsal kitaplığı</span><span class="sxs-lookup"><span data-stu-id="ebf56-108">The Microsoft Enterprise Library</span></span>  
 <span data-ttu-id="ebf56-109">Microsoft Kurumsal kitaplık özel durum işleme uygulama bloğu, sık karşılaşılan tasarım desenleri uygulamak ve kuruluş uygulaması mimari katmanları tüm oluşan özel durumları işlemek için bir tutarlı stratejisi oluşturma yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="ebf56-109">The Microsoft Enterprise Library Exception Handling Application Block helps implement common design patterns and create a consistent strategy for processing exceptions that occur in all architectural layers of an enterprise application.</span></span> <span data-ttu-id="ebf56-110">Uygulama bileşenleri catch deyimlerinde yer alan tipik kod desteklemek için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-110">It is designed to support the typical code contained in catch statements in application components.</span></span> <span data-ttu-id="ebf56-111">Bu kod (örneğin, özel durum bilgilerini kaydeden kod) uygulamanın tamamında aynı catch bloğu içinde yinelenen yerine, geliştiricilere yeniden kullanılabilir bir özel durum işleyicileri olarak bu mantığı yalıtılacak özel durum işleme uygulama bloğu sağlar.</span><span class="sxs-lookup"><span data-stu-id="ebf56-111">Instead of repeating this code (such as code that logs exception information) in identical catch blocks throughout an application, the Exception Handling Application Block allows developers to encapsulate this logic as reusable exception handlers.</span></span>  
  
 <span data-ttu-id="ebf56-112">Bu kitaplık,-hazır bir hataya sözleşme özel durum işleyicisi içerir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-112">This Library includes out-of-the-box a Fault Contract Exception Handler.</span></span> <span data-ttu-id="ebf56-113">Bu özel durum işleyicisi, Windows® Communication Foundation (WCF) hizmet sınırlarındaki kullanılmak üzere tasarlanmış ve yeni bir hata sözleşme özel durumu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ebf56-113">This exception handler is designed for use at Windows® Communication Foundation (WCF) service boundaries, and generates a new Fault Contract from the exception.</span></span>  
  
 <span data-ttu-id="ebf56-114">Yaygın olarak kullanılan en iyi uygulamaları ekleyebilir ve özel durum işleme uygulamanız genelinde yaygın bir yaklaşım sağlamak için uygulama blokları hedeflenir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-114">Application blocks aim to incorporate commonly used best practices and provide a common approach for exception handling throughout your application.</span></span> <span data-ttu-id="ebf56-115">Öte yandan, özel hata işleyicilerini ve hata sözleşmelerine birinin üzerinde kendi geliştirilen ayrıca çok kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-115">On the other hand, custom error handlers and fault contracts developed on one’s own can also be very useful.</span></span> <span data-ttu-id="ebf56-116">Örneğin, özel hata işleyicilerini FaultExceptions için tüm özel durumları otomatik olarak Yükselt ve günlüğe kaydetme özellikleri uygulamanıza eklemek için mükemmel bir fırsat sağlar.</span><span class="sxs-lookup"><span data-stu-id="ebf56-116">For instance, custom error handlers provide an excellent opportunity to automatically promote all exceptions to FaultExceptions and also to add logging capabilities to your application.</span></span>  
  
 <span data-ttu-id="ebf56-117">Daha fazla bilgi için lütfen bkz [Microsoft Enterprise Library](https://docs.microsoft.com/previous-versions/msp-n-p/ff632023(v=pandp.10)).</span><span class="sxs-lookup"><span data-stu-id="ebf56-117">For more information, please see [Microsoft Enterprise Library](https://docs.microsoft.com/previous-versions/msp-n-p/ff632023(v=pandp.10)).</span></span>  
  
### <a name="dealing-with-expected-exceptions"></a><span data-ttu-id="ebf56-118">Beklenen özel durumlar uğraşmanızı</span><span class="sxs-lookup"><span data-stu-id="ebf56-118">Dealing with Expected Exceptions</span></span>  
 <span data-ttu-id="ebf56-119">Eylemin doğru kurs olan her işlem ya da ilgili genişletilebilirlik noktası beklenen özel durumları yakalamak için bunlar gelen kurtarılabilir bir FaultException içinde uygun özel hata dönüş bildirmeyeceğinize karar verdikten sonra\<T ></span><span class="sxs-lookup"><span data-stu-id="ebf56-119">The proper course of action is to catch expected exceptions in every operation or relevant extensibility point, decide whether they can be recovered from, and return the proper custom fault in a FaultException\<T></span></span>  
  
### <a name="dealing-with-unexpected-exceptions-using-an-ierrorhandler"></a><span data-ttu-id="ebf56-120">Beklenmeyen bir Ierrorhandler kullanarak özel durumları ile ilgilenme</span><span class="sxs-lookup"><span data-stu-id="ebf56-120">Dealing with Unexpected Exceptions using an IErrorHandler</span></span>  
 <span data-ttu-id="ebf56-121">Beklenmeyen özel durumlar için önerilen eylem çalıştıysa "bir Ierrorhandler kanca" sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-121">To deal with unexpected exceptions, the recommended course of action is to "hook" an IErrorHandler.</span></span> <span data-ttu-id="ebf56-122">Hata işleyicilerini yalnızca özel durumları yakalama WCF çalışma zamanı düzeyinde ("hizmet modeli" katman), kanal katmanda değil.</span><span class="sxs-lookup"><span data-stu-id="ebf56-122">Error handlers only catch exceptions at the WCF runtime level (the "service model" layer), not at the channel layer.</span></span> <span data-ttu-id="ebf56-123">Kanal düzeyinde bir Ierrorhandler yeteneklerinizi tek yolu, çoğu senaryoda önerilmez özel bir kanal oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-123">The only way to hook an IErrorHandler at the channel level is to create a custom channel, which is not recommended in most scenarios.</span></span>  
  
 <span data-ttu-id="ebf56-124">"Beklenmeyen bir özel durum" genellikle kurtarılamaz bir özel durum ya da bir işlem özel durumu olan; Bu, bunun yerine, beklenmeyen bir kullanıcı özel durumdur.</span><span class="sxs-lookup"><span data-stu-id="ebf56-124">An "unexpected exception" is generally neither an irrecoverable exception nor a processing exception; it is, instead, an unexpected user exception.</span></span> <span data-ttu-id="ebf56-125">Kurtarılamaz bir özel durum (bir bellek yetersiz özel durum gibi) – bir genel olarak işlenen tarafından [hizmet modeli özel durum işleyicisi](xref:System.ServiceModel.Dispatcher.ExceptionHandler) otomatik olarak – genellikle düzgün bir şekilde, işlenemez ve yalnızca nedeni böyle bir özel durum işleme Ek günlükler yapmak hiç olabilir veya standart bir özel durum istemciye döndürmek için.</span><span class="sxs-lookup"><span data-stu-id="ebf56-125">An irrecoverable exception (such as an out-of-memory exception) – one generally handled by the [Service Model Exception Handler](xref:System.ServiceModel.Dispatcher.ExceptionHandler) automatically – cannot generally be handled gracefully, and the only reason to handle such an exception at all may be do additional logging or to return a standard exception to the client.</span></span> <span data-ttu-id="ebf56-126">Genellikle çok erken ya da çok geç tarafından müdahale hata işleyicisi olduğundan – ileti işlemede işleme özel durum oluşur, serileştirme, kodlayıcı veya biçimlendirici düzeyinde – genellikle bir Ierrorhandler işlenemez Bu özel durumlar meydana süre.</span><span class="sxs-lookup"><span data-stu-id="ebf56-126">A processing exception occurs in the processing of the message – for example, at the serialization, encoder, or formatter level – generally cannot be handled at an IErrorHandler, because it is generally either too early or too late for the error handler to intervene by the time these exceptions occur.</span></span> <span data-ttu-id="ebf56-127">Benzer şekilde, bir Ierrorhandler aktarımı özel durumları işlenemez.</span><span class="sxs-lookup"><span data-stu-id="ebf56-127">Similarly, transport exceptions cannot be handled at an IErrorHandler.</span></span>  
  
 <span data-ttu-id="ebf56-128">Bir Ierrorhandler ile bir özel durum oluştuğunda uygulamanızın davranışını açıkça denetleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ebf56-128">With an IErrorHandler, you can explicitly control the behavior of your application when an exception is thrown.</span></span> <span data-ttu-id="ebf56-129">Şunları yapabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="ebf56-129">You may:</span></span>  
  
1. <span data-ttu-id="ebf56-130">İstemciye bir hata göndermek gerekip gerekmediğini karar verin</span><span class="sxs-lookup"><span data-stu-id="ebf56-130">Decide whether or not to send a fault to the client</span></span>  
  
2. <span data-ttu-id="ebf56-131">Bir özel durum bir hata ile değiştirin.</span><span class="sxs-lookup"><span data-stu-id="ebf56-131">Replace an exception with a fault</span></span>  
  
3. <span data-ttu-id="ebf56-132">Bir hata başka bir hata ile değiştirin.</span><span class="sxs-lookup"><span data-stu-id="ebf56-132">Replace a fault with another fault</span></span>  
  
4. <span data-ttu-id="ebf56-133">Günlüğe kaydetme veya izleme gerçekleştirme</span><span class="sxs-lookup"><span data-stu-id="ebf56-133">Perform logging or tracing</span></span>  
  
5. <span data-ttu-id="ebf56-134">Diğer özel etkinlikler gerçekleştirme</span><span class="sxs-lookup"><span data-stu-id="ebf56-134">Perform other custom activities</span></span>  
  
 <span data-ttu-id="ebf56-135">Hizmetiniz için kanal dağıtıcıları ErrorHandlers özelliğini ekleyerek bir özel hata işleyicisi yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ebf56-135">One can install a custom error handler by adding it to the ErrorHandlers property of the channel dispatchers for your service.</span></span>  <span data-ttu-id="ebf56-136">Birden fazla hata işleyicisini olması mümkündür ve bu koleksiyona eklendikleri sırayla çağrılır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-136">It is possible to have more than one error handler and they are called in the order they are added to this collection.</span></span>  
  
 <span data-ttu-id="ebf56-137">IErrorHandler.ProvideFault istemciye gönderilen hata iletisini kontrol eder.</span><span class="sxs-lookup"><span data-stu-id="ebf56-137">IErrorHandler.ProvideFault controls the fault message that is sent to the client.</span></span> <span data-ttu-id="ebf56-138">Bu yöntem, bir işlem hizmet tarafından oluşturulan özel durumun türünden bağımsız olarak çağrılır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-138">This method is called regardless of the type of the exception thrown by an operation in your service.</span></span> <span data-ttu-id="ebf56-139">Hiçbir işlem burada gerçekleştirilirse, WCF varsayılan davranışını varsayar ve yokmuş gibi hiçbir özel hata işleyicilerini yerinde devam eder.</span><span class="sxs-lookup"><span data-stu-id="ebf56-139">If no operation is performed here, WCF assumes its default behaviour and continues as if there were no custom error handlers in place.</span></span>  
  
 <span data-ttu-id="ebf56-140">Tek bir alanda, belki de bu yaklaşımı kullanabilirsiniz (örnek değil atıldı ve kanal için hatalı durumuna taşınıp taşınmayacağı sağlama) istemciye gönderilmeden önce hataları için özel durumlar dönüştürme için merkezi bir konum oluşturmak istediğiniz durumdur.</span><span class="sxs-lookup"><span data-stu-id="ebf56-140">One area that you could perhaps use this approach is when you want to create a central place for converting exceptions to faults before they are sent to the client (ensuring that the instance is not disposed and the channel is not moved to the Faulted state).</span></span>  
  
 <span data-ttu-id="ebf56-141">IErrorHandler.HandleError yöntemi genellikle hata aramayla ilgili davranışlarını gibi hata günlüğü, sistem bildirimleri, uygulama, vb. kapatılıyor uygulamak için kullanılır. Hizmeti içinde birden çok yerlerdeki IErrorHandler.HandleError çağrılabilir ve burada bir hata oluşturulur, bağlı olarak, HandleError yöntemi olabilir veya işlemi ile aynı iş parçacığı tarafından çağrılan değildir; Bu bağlamda yapılan hiçbir şekilde garanti etmez.</span><span class="sxs-lookup"><span data-stu-id="ebf56-141">The IErrorHandler.HandleError method is usually used to implement error-related behaviors such as error logging, system notifications, shutting down the application, etc. IErrorHandler.HandleError can be called at multiple places inside the service, and depending on where the error is thrown, the HandleError method may or may not be called by the same thread as the operation; no guarantees are made in this regard.</span></span>  
  
### <a name="dealing-with-exceptions-outside-wcf"></a><span data-ttu-id="ebf56-142">Özel durumlar dışında WCF uğraşmanızı</span><span class="sxs-lookup"><span data-stu-id="ebf56-142">Dealing with Exceptions outside WCF</span></span>  
 <span data-ttu-id="ebf56-143">Genellikle, yapılandırma özel durumlar, veritabanı bağlantı dizesi özel durumları ve diğer benzer özel durumları WCF uygulaması bağlamında oluşabilir ancak kendileri olmayan özel durumların nedeni hizmet modeli veya web hizmeti.</span><span class="sxs-lookup"><span data-stu-id="ebf56-143">Often, configuration exceptions, database connection string exceptions, and other similar exceptions may occur within the context of a WCF application, but are themselves are not exceptions caused by the service model or the web service itself.</span></span> <span data-ttu-id="ebf56-144">Bu özel durumlar özel durumlar "Normal" dış web hizmetine ve yalnızca dış diğer özel durumlar ortamda işlenecek olduğundan yapılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-144">These exceptions are "regular" exceptions external to the web service, and should be handled just as other external exceptions in the environment are to be handled.</span></span>  
  
### <a name="tracing-exceptions"></a><span data-ttu-id="ebf56-145">Özel durum izleme</span><span class="sxs-lookup"><span data-stu-id="ebf56-145">Tracing exceptions</span></span>  
 <span data-ttu-id="ebf56-146">İzleme, bir büyük olasılıkla tüm özel durumları görebileceğiniz yalnızca "catch-all" yerdir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-146">Tracing is the only "catch-all" place where one can potentially see all exceptions.</span></span> <span data-ttu-id="ebf56-147">İzleme ve günlüğe kaydetme, izleme ve özel durumları hakkında daha fazla bilgi için bkz.</span><span class="sxs-lookup"><span data-stu-id="ebf56-147">For more information on tracing and logging exceptions, see Tracing and Logging.</span></span>  
  
### <a name="uri-template-errors-when-using-webgetattribute-and-webinvokeattribute"></a><span data-ttu-id="ebf56-148">WebGetAttribute ve WebInvokeAttribute kullanırken URI şablonu hataları</span><span class="sxs-lookup"><span data-stu-id="ebf56-148">URI template errors when using WebGetAttribute and WebInvokeAttribute</span></span>  
 <span data-ttu-id="ebf56-149">WebGet ve Webınvoke öznitelikleri isteği adresi bileşenlerinin işlem parametrelerini eşleyen bir URI şablonu belirtmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="ebf56-149">The WebGet and WebInvoke attributes allow you to specify a URI template that maps components of the request address to operation parameters.</span></span> <span data-ttu-id="ebf56-150">Örneğin, URI şablonu "hava durumu / {state} / {Şehir}" değişmez değer belirteçleri, durumu adlı bir parametre ve şehir adlı bir parametre istek adresiyle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-150">For example, the URI template "weather/{state}/{city}" maps the request address into literal tokens, a parameter named state, and a parameter named city.</span></span> <span data-ttu-id="ebf56-151">Bu parametreleri ardından adına göre bazı işlemin biçimsel parametrelerin bağlı olması.</span><span class="sxs-lookup"><span data-stu-id="ebf56-151">These parameters might then be bound by name to some of the formal parameters of the operation.</span></span>  
  
 <span data-ttu-id="ebf56-152">Yazılı sözleşme biçimsel parametreler dize olmayan türlerde olabilir şablon parametreleri URI içinde dizeleri biçiminde görünür.</span><span class="sxs-lookup"><span data-stu-id="ebf56-152">The template parameters appear in the form of strings within the URI while the formal parameters of a typed contract might be of non-string types.</span></span> <span data-ttu-id="ebf56-153">Bu nedenle, bir dönüştürme işlemi çağrılmadan önce gerçekleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-153">Therefore, a conversion needs to take place before the operation can be invoked.</span></span> <span data-ttu-id="ebf56-154">A [dönüştürme biçimleri tablosunun](wcf-web-http-programming-model-overview.md) kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ebf56-154">A [table of conversion formats](wcf-web-http-programming-model-overview.md) is available.</span></span>  
  
 <span data-ttu-id="ebf56-155">Ancak, dönüştürme başarısız olursa, ardından bir sorun oluştu olduğunu biliyorsanız işlemi izin vermek için hiçbir yolu yoktur.</span><span class="sxs-lookup"><span data-stu-id="ebf56-155">However, if the conversion fails, then there's no way to let the operation know that something has gone wrong.</span></span> <span data-ttu-id="ebf56-156">Tür dönüştürme, bunun yerine bir dağıtım hatası biçiminde ortaya çıkarır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-156">The type conversion instead surfaces in the form of a dispatch failure.</span></span>  
  
 <span data-ttu-id="ebf56-157">Tür dönüştürme gönderme hatası olabilir birçok farklı türde gönderme hataları gibi aynı hata işleyicisini yükleyerek inceledi.</span><span class="sxs-lookup"><span data-stu-id="ebf56-157">A type conversion dispatch failure can be inspected the same as with many other types of dispatch failures by installing an error handler.</span></span> <span data-ttu-id="ebf56-158">Ierrorhandler genişletilebilirlik noktası, hizmet düzeyi özel durumları işlemek için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="ebf56-158">The IErrorHandler extensibility point is called to handle service-level exceptions.</span></span> <span data-ttu-id="ebf56-159">Buradan çağırana geri – gönderilecek yanıt olarak da herhangi bir özel görevleri gerçekleştirmek ve raporlama – seçmiş olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ebf56-159">From there, the response to be sent back to the caller – as well as perform any custom tasks and reporting – may be chosen.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ebf56-160">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="ebf56-160">See also</span></span>

- [<span data-ttu-id="ebf56-161">Temel WCF Programlama</span><span class="sxs-lookup"><span data-stu-id="ebf56-161">Basic WCF Programming</span></span>](../basic-wcf-programming.md)
