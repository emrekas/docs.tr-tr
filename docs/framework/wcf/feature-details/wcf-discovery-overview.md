---
title: WCF Keşif Genel Bakış
ms.date: 03/30/2017
ms.assetid: 84fad0e4-23b1-45b5-a2d4-c9cdf90bbb22
ms.openlocfilehash: 80cecec2143d78d9dee13e9071b6ebb5a4b1bdb0
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64662503"
---
# <a name="wcf-discovery-overview"></a><span data-ttu-id="b4de8-102">WCF Keşif Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="b4de8-102">WCF Discovery Overview</span></span>
<span data-ttu-id="b4de8-103">Bulma API'ları dinamik yayını ve Web Hizmetleri için WS bulma protokolünü kullanarak bulma için birleşik bir programlama modeli sağlar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-103">The Discovery APIs provide a unified programming model for the dynamic publication and discovery of Web services using the WS-Discovery protocol.</span></span> <span data-ttu-id="b4de8-104">Bu API'leri, kendileri ve yayımlanan hizmetleri bulmak için istemcileri yayımlamak hizmetleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-104">These APIs allow services to publish themselves and clients to find published services.</span></span> <span data-ttu-id="b4de8-105">Bir hizmet bulunabilirlik yapıldıktan sonra hizmet Duyurunun ileti gönderme yanı sıra dinler ve keşif istekleri'özelliğine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-105">Once a service is made discoverable, the service has the ability to send announcement messages as well as listen for and respond to discovery requests.</span></span> <span data-ttu-id="b4de8-106">Bulunabilirlik Hizmetleri, ağ üzerinde kendi varış duyurmaktan Karışılama iletileri ve kendi kalkış ağdan duyurmaktan Bye iletileri gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-106">Discoverable services can send Hello messages to announce their arrival on a network and Bye messages to announce their departure from a network.</span></span> <span data-ttu-id="b4de8-107">Bir hizmet bulmak için istemcilerin gönderdiği bir `Probe` hizmet sözleşme türü, anahtar sözcükleri ve ağ üzerinde kapsamı gibi belirli ölçütleri içeren istek.</span><span class="sxs-lookup"><span data-stu-id="b4de8-107">To find a service, clients send a `Probe` request that contains specific criteria such as service contract type, keywords, and scope on the network.</span></span> <span data-ttu-id="b4de8-108">Hizmetleri almak `Probe` istemek ve ölçütlerle eşleşen olup olmadığını belirler.</span><span class="sxs-lookup"><span data-stu-id="b4de8-108">Services receive the `Probe` request and determine whether they match the criteria.</span></span> <span data-ttu-id="b4de8-109">Bir hizmet eşleşirse, göndererek yanıt bir `ProbeMatch` istemcisine hizmetiyle bağlantı kurmak gereken bilgileri ile ileti.</span><span class="sxs-lookup"><span data-stu-id="b4de8-109">If a service matches, it responds by sending a `ProbeMatch` message back to the client with the information necessary to contact the service.</span></span> <span data-ttu-id="b4de8-110">İstemciler ayrıca gönderebilir `Resolve` kendi uç nokta adresi değişmiş olan hizmetleri bulmak izin istekleri.</span><span class="sxs-lookup"><span data-stu-id="b4de8-110">Clients can also send `Resolve` requests that allow them to find services that may have changed their endpoint address.</span></span> <span data-ttu-id="b4de8-111">Eşleşen Hizmetleri yanıt için `Resolve` göndererek istekleri bir `ResolveMatch` istemcisine ileti.</span><span class="sxs-lookup"><span data-stu-id="b4de8-111">Matching services respond to `Resolve` requests by sending a `ResolveMatch` message back to the client.</span></span>  
  
## <a name="ad-hoc-and-managed-modes"></a><span data-ttu-id="b4de8-112">Geçici ve yönetilen modları</span><span class="sxs-lookup"><span data-stu-id="b4de8-112">Ad-Hoc and Managed Modes</span></span>  
 <span data-ttu-id="b4de8-113">Bulma APİ'si, iki farklı modunu destekler: Yönetilen ve geçici.</span><span class="sxs-lookup"><span data-stu-id="b4de8-113">The Discovery API supports two different modes: Managed and Ad-Hoc.</span></span> <span data-ttu-id="b4de8-114">Yönetilen modda kullanılabilir hizmetleri hakkında bilgileri tutan keşif proxy'si olarak adlandırılan bir merkezi sunucu yok.</span><span class="sxs-lookup"><span data-stu-id="b4de8-114">In Managed mode there is a centralized server called a discovery proxy that maintains information about available services.</span></span> <span data-ttu-id="b4de8-115">Keşif proxy'si çeşitli şekillerde hizmetlerimizle ilgili bilgi doldurulabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-115">The discovery proxy can be populated with information about services in a variety of ways.</span></span> <span data-ttu-id="b4de8-116">Örneğin, hizmetleri keşif proxy'si kadar başlangıç sırasında duyuru iletileri gönderebilir veya bir veritabanını veya yapılandırma dosyasını hangi hizmetlerin kullanılabildiğini belirlemenize proxy veri okuyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b4de8-116">For example, services can send announcement messages during start up to the discovery proxy or the proxy may read data from a database or a configuration file to determine what services are available.</span></span> <span data-ttu-id="b4de8-117">Keşif proxy'si nasıl doldurulur tamamen geliştiricisi kadar kadar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-117">How the discovery proxy is populated is completely up to the developer.</span></span> <span data-ttu-id="b4de8-118">İstemcilerin kullanılabilir hizmetleri hakkında bilgi almak için keşif proxy'si kullanın.</span><span class="sxs-lookup"><span data-stu-id="b4de8-118">Clients use the discovery proxy to retrieve information about available services.</span></span> <span data-ttu-id="b4de8-119">Bir istemci arandığında bir hizmet için gönderen bir `Probe` bulma proxy ve proxy ileti bilir hakkında hizmetlerinden herhangi birinin istemci arıyor hizmet eşleşip eşleşmediğini belirler.</span><span class="sxs-lookup"><span data-stu-id="b4de8-119">When a client searches for a service it sends a `Probe` message to the discovery proxy and the proxy determines whether any of the services it knows about match the service the client is searching for.</span></span> <span data-ttu-id="b4de8-120">Keşif proxy gönderir eşleşme varsa bir `ProbeMatch` istemcisine geri yanıt.</span><span class="sxs-lookup"><span data-stu-id="b4de8-120">If there are matches the discovery proxy sends a `ProbeMatch` response back to the client.</span></span> <span data-ttu-id="b4de8-121">İstemci sonra proxy sunucudan döndürülen hizmet bilgilerini kullanarak doğrudan hizmet başvurabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b4de8-121">The client can then contact the service directly using the service information returned from the proxy.</span></span> <span data-ttu-id="b4de8-122">Anahtar yönetilen modu arkasındaki bir yetkilisi, Keşif proxy'si tek noktaya yayın şekilde bulma isteği gönderilir ilkesidir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-122">The key principle behind Managed mode is that the discovery requests are sent in a unicast manner to one authority, the discovery proxy.</span></span> <span data-ttu-id="b4de8-123">.NET Framework kendi proxy oluşturmanıza olanak tanıyan anahtar bileşenleri içerir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-123">The .NET Framework contains key components that allow you to build your own proxy.</span></span> <span data-ttu-id="b4de8-124">Proxy, istemciler ve hizmetler tarafından birden çok yöntem bulabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="b4de8-124">Clients and services can locate the proxy by multiple methods:</span></span>  
  
- <span data-ttu-id="b4de8-125">Proxy geçici iletilere yanıt verebilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-125">The proxy can respond to ad-hoc messages.</span></span>  
  
- <span data-ttu-id="b4de8-126">Proxy bir duyuru başlatma sırasında gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b4de8-126">The proxy can send an announcement message during start up.</span></span>  
  
- <span data-ttu-id="b4de8-127">İstemciler ve hizmetler için belirli ve iyi bilinen bir uç aramak için yazılabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-127">Clients and services can be written to look for a specific well-known endpoint.</span></span>  
  
 <span data-ttu-id="b4de8-128">Geçici modunda merkezi sunucusu yok.</span><span class="sxs-lookup"><span data-stu-id="b4de8-128">In Ad-Hoc mode, there is no centralized server.</span></span> <span data-ttu-id="b4de8-129">Çok noktaya yayın biçimde hizmet duyuruları ve istemci istekleri gibi tüm bulma iletileri gönderilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-129">All discovery messages such as service announcements and client requests are sent in a multicast fashion.</span></span> <span data-ttu-id="b4de8-130">Varsayılan olarak .NET Framework UDP protokolü üzerinden geçici bulma desteği içerir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-130">By default the .NET Framework contains support for Ad-Hoc discovery over the UDP protocol.</span></span> <span data-ttu-id="b4de8-131">Bir hizmet başlangıcı'te bir Merhaba duyurudan göndermek için yapılandırılmışsa, örneğin, bu, UDP protokolünü kullanan bir bilinen, çok noktaya yayın adresi gönderir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-131">For example, if a service is configured to send out a Hello announcement on start up, it sends it out over a well-known, multicast address using the UDP protocol.</span></span> <span data-ttu-id="b4de8-132">İstemciler, etkin bir şekilde bu Duyurular için dinleme ve bunları uygun şekilde işlemek zorunda.</span><span class="sxs-lookup"><span data-stu-id="b4de8-132">Clients have to actively listen for these announcements and process them accordingly.</span></span> <span data-ttu-id="b4de8-133">Bir istemci gönderdiğinde bir `Probe` bir hizmet için ileti çok noktaya yayın protokolü kullanarak ağ üzerinden gönderilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-133">When a client sends a `Probe` message for a service it is sent over the network using a multicast protocol.</span></span> <span data-ttu-id="b4de8-134">İsteği aldığında her hizmet ölçütler eşleşip eşleşmediğini belirler `Probe` iletisi ve doğrudan istemciye yanıt veren bir `ProbeMatch` hizmet içinde belirtilen ölçütlerle eşleşmesi durumunda ileti `Probe` ileti.</span><span class="sxs-lookup"><span data-stu-id="b4de8-134">Each service that receives the request determines whether it matches the criteria in the `Probe` message and responds directly to the client with a `ProbeMatch` message if the service matches the criteria specified in the `Probe` message.</span></span>  
  
## <a name="benefits-of-using-wcf-discovery"></a><span data-ttu-id="b4de8-135">WCF bulma kullanmanın avantajları</span><span class="sxs-lookup"><span data-stu-id="b4de8-135">Benefits of Using WCF Discovery</span></span>  
 <span data-ttu-id="b4de8-136">WCF bulma uygulandığından WS bulma protokolünü kullanarak diğer istemciler, hizmetleri ve WS-bulma de uygulama proxy'si ile birlikte çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-136">Because WCF Discovery is implemented using the WS-Discovery protocol it is interoperable with other clients, services, and proxies that implement WS-Discovery as well.</span></span> <span data-ttu-id="b4de8-137">WCF bulma, bulma işlevleri, mevcut hizmet ve istemcileri eklemek kolaylaştıran var olan WCF API'leri üzerinde oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="b4de8-137">WCF Discovery is built upon the existing WCF APIs, which makes it easy to add Discovery functionality to your existing services and clients.</span></span> <span data-ttu-id="b4de8-138">Hizmet bulunabilirliği, uygulama yapılandırma ayarları'nda kolayca eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-138">Service discoverability can be easily added through the application configuration settings.</span></span> <span data-ttu-id="b4de8-139">Ayrıca, WCF bulma ayrıca eş net adlandırma katmana ve HTTP gibi diğer taşımalar üzerinden Bulma Protokolü kullanarak destekler.</span><span class="sxs-lookup"><span data-stu-id="b4de8-139">In addition, WCF Discovery also supports using the discovery protocol over other transports such as peer net, naming overlay, and HTTP.</span></span> <span data-ttu-id="b4de8-140">WCF bulma işlemi keşif proxy'si kullanıldığı bir yönetilen modu için destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-140">WCF Discovery provides support for a Managed mode of operation where a discovery proxy is used.</span></span> <span data-ttu-id="b4de8-141">Tüm ağ için çok noktaya yayın iletileri göndermek yerine doğrudan keşif proxy'si iletilerinin gönderildiği gibi bu ağ trafiğini azaltabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-141">This can reduce network traffic as messages are sent directly to the discovery proxy instead of sending multicast messages to the entire network.</span></span> <span data-ttu-id="b4de8-142">WCF bulma daha fazla esneklik için Web services ile çalışırken de sağlar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-142">WCF Discovery also allows for more flexibility when working with Web services.</span></span> <span data-ttu-id="b4de8-143">Örneğin, istemci veya hizmetini yeniden yapılandırmanız gerekmeden hizmetin adres değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b4de8-143">For example, you can change the address of a service without having to reconfigure the client or the service.</span></span> <span data-ttu-id="b4de8-144">Bir istemci sorun hizmet erişmesi gerektiğinde bir `Probe` üzerinden ileti bir `Find` istemek ve hizmet, geçerli bir adres ile yanıt bekler.</span><span class="sxs-lookup"><span data-stu-id="b4de8-144">When a client must access the service it can issue a `Probe` message through a `Find` request and expect the service to respond with its current address.</span></span> <span data-ttu-id="b4de8-145">WCF bulma, bir hizmet anlaşması türleri, bağlama öğeleri, ad alanı, kapsam ve anahtar sözcükler veya sürüm numaraları gibi farklı ölçütlere göre aramak bir istemci sağlar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-145">WCF Discovery allows a client to search for a service based on different criteria including contract types, binding elements, namespace, scope, and keywords or version numbers.</span></span> <span data-ttu-id="b4de8-146">WCF bulma, çalışma zamanı ve tasarım zamanı bulma olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-146">WCF Discovery enables runtime and design time discovery.</span></span> <span data-ttu-id="b4de8-147">Uygulamanıza ekleme bulma, hataya dayanıklılık ve otomatik yapılandırma gibi diğer senaryoları etkinleştirmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-147">Adding discovery to your application can be used to enable other scenarios such as fault tolerance and auto configuration.</span></span>  
  
## <a name="service-publication"></a><span data-ttu-id="b4de8-148">Hizmet yayımı</span><span class="sxs-lookup"><span data-stu-id="b4de8-148">Service Publication</span></span>  
 <span data-ttu-id="b4de8-149">Bir hizmet bulunabilir, yapmak için bir <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> eklenmelidir bulma iletileri dinlemek yeri belirtmek için hizmet ana bilgisayarı ve bir bulma uç noktası eklenmelidir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-149">To make a service discoverable, a <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> must be added to the service host and a discovery endpoint must be added to specify where to listen for discovery messages.</span></span> <span data-ttu-id="b4de8-150">Aşağıdaki kod örneği, şirket içinde barındırılan bir hizmet bulunabilir hale getirmek için nasıl değiştirilebilir gösterir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-150">The following code example shows how a self-hosted service can be modified to make it discoverable.</span></span>  
  
```csharp  
Uri baseAddress = new Uri(string.Format("http://{0}:8000/discovery/scenarios/calculatorservice/{1}/",  
        System.Net.Dns.GetHostName(), Guid.NewGuid().ToString()));

// Create a ServiceHost for the CalculatorService type.
using (ServiceHost serviceHost = new ServiceHost(typeof(CalculatorService), baseAddress))
{
    // Add calculator endpoint
    serviceHost.AddServiceEndpoint(typeof(ICalculator), new WSHttpBinding(), string.Empty);

    // ** DISCOVERY ** //
    // Make the service discoverable by adding the discovery behavior
    serviceHost.Description.Behaviors.Add(new ServiceDiscoveryBehavior());

    // ** DISCOVERY ** //
    // Add the discovery endpoint that specifies where to publish the services
    serviceHost.AddServiceEndpoint(new UdpDiscoveryEndpoint());

    // Open the ServiceHost to create listeners and start listening for messages.
    serviceHost.Open();

    // The service can now be accessed.
    Console.WriteLine("Press <ENTER> to terminate service.");
    Console.ReadLine();
}
```  
  
 <span data-ttu-id="b4de8-151">A <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> örneği, hizmetin bulunabilir olması bir hizmet açıklaması eklenmelidir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-151">A <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> instance must be added to a service description for the service to be discoverable.</span></span> <span data-ttu-id="b4de8-152">A <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> örneği için hizmet bulma isteklerini dinlemek yeri bildirme hizmet konak eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-152">A <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> instance must be added to the service host to tell the service where to listen for discovery requests.</span></span> <span data-ttu-id="b4de8-153">Bu örnekte, bir <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> (türetilen <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>) hizmet bulma istekleri için UDP üzerinden dinleme yapması gerektiğini belirtmek için eklenen çok noktaya yayın taşıma.</span><span class="sxs-lookup"><span data-stu-id="b4de8-153">In this example, a <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> (which is derived from <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>) is added to specify that the service should listen for discovery requests over the UDP multicast transport.</span></span> <span data-ttu-id="b4de8-154"><xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> Tüm iletileri bir çok noktaya yayın biçimde gönderildiğinden geçici bulmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="b4de8-154">The <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> is used for Ad-Hoc discovery because all messages are sent in a multicast fashion.</span></span>  
  
## <a name="announcement"></a><span data-ttu-id="b4de8-155">Duyuru</span><span class="sxs-lookup"><span data-stu-id="b4de8-155">Announcement</span></span>  
 <span data-ttu-id="b4de8-156">Varsayılan olarak, hizmet yayımı duyuru iletilerini göndermez.</span><span class="sxs-lookup"><span data-stu-id="b4de8-156">By default, service publication does not send out announcement messages.</span></span> <span data-ttu-id="b4de8-157">Hizmet, duyuru iletilerini göndermek için yapılandırılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b4de8-157">The service must be configured to send out announcement messages.</span></span> <span data-ttu-id="b4de8-158">Hizmet bulma iletiler için dinleme listesinden duyurmaktan çünkü bu hizmeti yazıcıları için daha fazla esneklik sağlar.</span><span class="sxs-lookup"><span data-stu-id="b4de8-158">This provides additional flexibility for service writers because they can announce the service separately from listening for discovery messages.</span></span> <span data-ttu-id="b4de8-159">Hizmet duyuru Hizmetleri keşif proxy'si veya diğer hizmet kayıt defterleri ile kaydetmek için bir mekanizma olarak da kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-159">Service announcement can also be used as a mechanism for registering services with a discovery proxy or other service registries.</span></span> <span data-ttu-id="b4de8-160">Aşağıdaki kod, bir UDP bağlama üzerinden Duyurunun ileti göndermek için bir hizmet yapılandırma işlemi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-160">The following code shows how to configure a service to send announcement messages over a UDP binding.</span></span>  
  
```csharp  
Uri baseAddress = new Uri(string.Format("http://{0}:8000/discovery/scenarios/calculatorservice/{1}/",
        System.Net.Dns.GetHostName(), Guid.NewGuid().ToString()));

// Create a ServiceHost for the CalculatorService type.
using (ServiceHost serviceHost = new ServiceHost(typeof(CalculatorService), baseAddress))
{
    // Add calculator endpoint
    serviceHost.AddServiceEndpoint(typeof(ICalculator), new WSHttpBinding(), string.Empty);

    // ** DISCOVERY ** //
    // Make the service discoverable by adding the discovery behavior
    ServiceDiscoveryBehavior discoveryBehavior = new ServiceDiscoveryBehavior();
    serviceHost.Description.Behaviors.Add(discoveryBehavior);

    // Send announcements on UDP multicast transport
    discoveryBehavior.AnnouncementEndpoints.Add(
      new UdpAnnouncementEndpoint());

    // ** DISCOVERY ** //
    // Add the discovery endpoint that specifies where to publish the services
    serviceHost.Description.Endpoints.Add(new UdpDiscoveryEndpoint());

    // Open the ServiceHost to create listeners and start listening for messages.
    serviceHost.Open();

    // The service can now be accessed.
    Console.WriteLine("Press <ENTER> to terminate service.");
    Console.ReadLine();
}
```  
  
## <a name="service-discovery"></a><span data-ttu-id="b4de8-161">Hizmet bulma</span><span class="sxs-lookup"><span data-stu-id="b4de8-161">Service Discovery</span></span>  
 <span data-ttu-id="b4de8-162">Bir istemci uygulaması kullanabilirsiniz <xref:System.ServiceModel.Discovery.DiscoveryClient> Hizmetleri bulmak için sınıf.</span><span class="sxs-lookup"><span data-stu-id="b4de8-162">A client application can use the <xref:System.ServiceModel.Discovery.DiscoveryClient> class to find services.</span></span> <span data-ttu-id="b4de8-163">Geliştirici bir örneğini oluşturur <xref:System.ServiceModel.Discovery.DiscoveryClient> nereye gönderileceğini belirtir bulma uç noktası geçirir sınıfı `Probe` veya `Resolve` iletileri.</span><span class="sxs-lookup"><span data-stu-id="b4de8-163">The developer creates an instance of the <xref:System.ServiceModel.Discovery.DiscoveryClient> class that passes in a discovery endpoint that specifies where to send `Probe` or `Resolve` messages.</span></span> <span data-ttu-id="b4de8-164">Ardından istemci çağrıları <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> içinde arama ölçütlerini belirten bir <xref:System.ServiceModel.Discovery.FindCriteria> örneği.</span><span class="sxs-lookup"><span data-stu-id="b4de8-164">The client then calls <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> that specifies search criteria within a <xref:System.ServiceModel.Discovery.FindCriteria> instance.</span></span> <span data-ttu-id="b4de8-165">Eşleşen Hizmetleri bulunursa <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> koleksiyonunu döndürür <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="b4de8-165">If matching services are found, <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> returns a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="b4de8-166">Aşağıdaki kod nasıl çağrılacağını gösterir `Find` yöntemi ve ardından bulunan bir hizmete bağlanabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-166">The following code shows how to call the `Find` method and then connect to a discovered service.</span></span>  
  
```csharp  
class Client
{
    static EndpointAddress serviceAddress;
  
    static void Main()
    {  
        if (FindService()) 
        {
            InvokeService();
        }
    }  
  
    // ** DISCOVERY ** //  
    static bool FindService()  
    {  
        Console.WriteLine("\nFinding Calculator Service ..");  
        DiscoveryClient discoveryClient =   
            new DiscoveryClient(new UdpDiscoveryEndpoint());  
  
        Collection<EndpointDiscoveryMetadata> calculatorServices =   
            (Collection<EndpointDiscoveryMetadata>)discoveryClient.Find(new FindCriteria(typeof(ICalculator))).Endpoints;  
  
        discoveryClient.Close();  
  
        if (calculatorServices.Count == 0)  
        {  
            Console.WriteLine("\nNo services are found.");  
            return false;  
        }  
        else  
        {  
            serviceAddress = calculatorServices[0].Address;  
            return true;  
        }  
    }  
  
    static void InvokeService()  
    {  
        Console.WriteLine("\nInvoking Calculator Service at {0}\n", serviceAddress);  
  
        // Create a client  
        CalculatorClient client = new CalculatorClient();  
        client.Endpoint.Address = serviceAddress;  
        client.Add(10,3);  
    }
}  
```  
  
## <a name="discovery-and-message-level-security"></a><span data-ttu-id="b4de8-167">Bulma ve ileti düzeyi güvenliği</span><span class="sxs-lookup"><span data-stu-id="b4de8-167">Discovery and Message Level Security</span></span>  
 <span data-ttu-id="b4de8-168">İleti düzeyi güvenlik kullanılırken belirtmek gerekmez, bir <xref:System.ServiceModel.EndpointIdentity> hizmet bulma uç noktası ile eşleşen bir üzerinde <xref:System.ServiceModel.EndpointIdentity> istemci bulma uç noktası üzerinde.</span><span class="sxs-lookup"><span data-stu-id="b4de8-168">When using message level security it is necessary to specify an <xref:System.ServiceModel.EndpointIdentity> on the service discovery endpoint and a matching <xref:System.ServiceModel.EndpointIdentity> on the client discovery endpoint.</span></span> <span data-ttu-id="b4de8-169">İleti düzeyi güvenliği hakkında daha fazla bilgi için bkz: [ileti güvenliği](../../../../docs/framework/wcf/feature-details/message-security-in-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="b4de8-169">For more information about message level security, see [Message Security](../../../../docs/framework/wcf/feature-details/message-security-in-wcf.md).</span></span>  
  
## <a name="discovery-and-web-hosted-services"></a><span data-ttu-id="b4de8-170">Bulma ve Web Hizmetleri barındırılan</span><span class="sxs-lookup"><span data-stu-id="b4de8-170">Discovery and Web Hosted Services</span></span>  
 <span data-ttu-id="b4de8-171">Sırayla bulunabilir olması WCF hizmetleri için bunlar çalıştırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-171">In order for WCF services to be discoverable they must be running.</span></span> <span data-ttu-id="b4de8-172">IIS kadar IIS ya da WAS çalıştırmayın altında barındırılan WCF hizmetleri / WAS hizmeti için bu nedenle varsayılan olarak bulunabilir olamaz bağlı bir ileti alır.</span><span class="sxs-lookup"><span data-stu-id="b4de8-172">WCF services hosted under IIS or WAS do not run until IIS/WAS receives a message bound for the service, so they cannot be discoverable by default.</span></span>  <span data-ttu-id="b4de8-173">Web barındırılan hizmetler bulunabilir olmasını sağlama için iki seçenek vardır:</span><span class="sxs-lookup"><span data-stu-id="b4de8-173">There are two options for making Web-Hosted services discoverable:</span></span>  
  
1. <span data-ttu-id="b4de8-174">Windows Server AppFabric otomatik başlatma özelliğini kullanma</span><span class="sxs-lookup"><span data-stu-id="b4de8-174">Use the Windows Server AppFabric Auto-Start feature</span></span>  
  
2. <span data-ttu-id="b4de8-175">Hizmet adına iletişim kurmak için keşif proxy'si kullanın</span><span class="sxs-lookup"><span data-stu-id="b4de8-175">Use a discovery proxy to communicate on behalf of the service</span></span>  
  
 <span data-ttu-id="b4de8-176">Windows Server AppFabric iletileri almadan önce başlatılması için bir hizmet sağlayacak bir otomatik başlatma özelliği vardır.</span><span class="sxs-lookup"><span data-stu-id="b4de8-176">Windows Server AppFabric has an Auto-Start feature that will allow a service to be started before receiving any messages.</span></span> <span data-ttu-id="b4de8-177">Bu otomatik başlatma ile ayarlayın, bir IIS / WAS barındırılan hizmeti bulunabilir olması için yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-177">With this Auto-Start set, an IIS/WAS hosted service can be configured to be discoverable.</span></span> <span data-ttu-id="b4de8-178">Otomatik başlatma özelliği bakın hakkında daha fazla bilgi için [Windows Server AppFabric otomatik başlatma özelliği](https://go.microsoft.com/fwlink/?LinkId=205545).</span><span class="sxs-lookup"><span data-stu-id="b4de8-178">For more information about the Auto-Start feature see, [Windows Server AppFabric Auto-Start Feature](https://go.microsoft.com/fwlink/?LinkId=205545).</span></span> <span data-ttu-id="b4de8-179">Otomatik başlatma özelliği etkinleştirme yanı sıra, hizmet bulma için yapılandırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-179">Along with turning on the Auto-Start feature, you must configure the service for discovery.</span></span> <span data-ttu-id="b4de8-180">Daha fazla bilgi için [nasıl yapılır: Bir WCF hizmeti ve istemci programlı bir şekilde Keşfedilebilirlik ekleme](../../../../docs/framework/wcf/feature-details/how-to-programmatically-add-discoverability-to-a-wcf-service-and-client.md)[yapılandırma dosyasındaki bir keşfi yapılandırma](../../../../docs/framework/wcf/feature-details/configuring-discovery-in-a-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="b4de8-180">For more information, see [How to: Programmatically Add Discoverability to a WCF Service and Client](../../../../docs/framework/wcf/feature-details/how-to-programmatically-add-discoverability-to-a-wcf-service-and-client.md)[Configuring Discovery in a Configuration File](../../../../docs/framework/wcf/feature-details/configuring-discovery-in-a-configuration-file.md).</span></span>  
  
 <span data-ttu-id="b4de8-181">Keşif proxy'si hizmeti çalışmadığı zaman WCF hizmeti adına iletişim için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-181">A discovery proxy can be used to communicate on behalf of the WCF service when the service is not running.</span></span> <span data-ttu-id="b4de8-182">Proxy için yoklama dinleme veya iletileri çözmek ve istemci taleplerine yanıt.</span><span class="sxs-lookup"><span data-stu-id="b4de8-182">The proxy can listen for probe or resolve messages and respond to the client.</span></span> <span data-ttu-id="b4de8-183">İstemci, sonra iletileri doğrudan hizmetine gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="b4de8-183">The client can then send messages directly to the service.</span></span> <span data-ttu-id="b4de8-184">İstemci hizmete bir ileti gönderdiğinde iletiye yanıt vermek için örneği oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="b4de8-184">When the client sends a message to the service it will be instantiated to respond to the message.</span></span> <span data-ttu-id="b4de8-185">Keşif proxy bkz uygulama hakkında daha fazla bilgi için [keşif proxy'si ekleme](../../../../docs/framework/wcf/feature-details/implementing-a-discovery-proxy.md).</span><span class="sxs-lookup"><span data-stu-id="b4de8-185">For more information about implementing a discovery proxy see, [Implementing a Discovery Proxy](../../../../docs/framework/wcf/feature-details/implementing-a-discovery-proxy.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b4de8-186">WCF bulma'nın düzgün çalışması için tüm NIC'ler (ağ arabirimi denetleyicisi) yalnızca 1 IP adresi olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="b4de8-186">For WCF Discovery to work correctly, all NICs (Network Interface Controller) should only have 1 IP address.</span></span>
