---
title: HTTP Taşıma Güvenliği
ms.date: 03/30/2017
ms.assetid: d3439262-c58e-4d30-9f2b-a160170582bb
ms.openlocfilehash: b7415dcc1e6c4a5d47d9e7b6e70a86ab1b898783
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59113808"
---
# <a name="http-transport-security"></a><span data-ttu-id="70762-102">HTTP Taşıma Güvenliği</span><span class="sxs-lookup"><span data-stu-id="70762-102">HTTP Transport Security</span></span>
<span data-ttu-id="70762-103">HTTP taşıma kullanırken, güvenlik, Güvenli Yuva Katmanı (SSL) uygulaması tarafından sağlanır.</span><span class="sxs-lookup"><span data-stu-id="70762-103">When using HTTP as the transport, security is provided by a Secure Sockets Layer (SSL) implementation.</span></span> <span data-ttu-id="70762-104">SSL yaygın olarak Internet'te bir hizmete istemcinin kimliğini doğrulamak için kullanılır ve kanala gizliliği (şifreleme) sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="70762-104">SSL is widely used on the Internet to authenticate a service to a client, and then to provide confidentiality (encryption) to the channel.</span></span> <span data-ttu-id="70762-105">Bu konuda, SSL nasıl çalıştığını ve Windows Communication Foundation (WCF) nasıl uygulandığı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="70762-105">This topic explains how SSL works and how it is implemented in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="basic-ssl"></a><span data-ttu-id="70762-106">Temel SSL</span><span class="sxs-lookup"><span data-stu-id="70762-106">Basic SSL</span></span>  
 <span data-ttu-id="70762-107">Tipik bir senaryo nasıl SSL en iyi çalıştığını bank'ın Web sitesi bu durumda, açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="70762-107">How SSL works is best explained through a typical scenario, in this case, a bank's Web site.</span></span> <span data-ttu-id="70762-108">Bir kullanıcı adı ve parola ile oturum açmak bir müşteri sitesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="70762-108">The site allows a customer to log on with a user name and password.</span></span> <span data-ttu-id="70762-109">Kimlik doğrulaması gerçekleştirilen sonra kullanıcı görünümü hesabını bakiyeleri gibi işlemleri gerçekleştirmek, fatura ödemek ve para bir hesaptan diğerine taşıma.</span><span class="sxs-lookup"><span data-stu-id="70762-109">After being authenticated, the user can perform transactions, such as view account balances, pay bills, and move money from one account to another.</span></span>  
  
 <span data-ttu-id="70762-110">Bir kullanıcı ilk sitesini ziyaret ettiğinde, bir dizi olarak adlandırılan anlaşmaları, SSL mekanizması başlar bir *el sıkışması*, kullanıcının istemci (Bu durumda, Internet Explorer).</span><span class="sxs-lookup"><span data-stu-id="70762-110">When a user first visits the site, the SSL mechanism begins a series of negotiations, called a *handshake*, with the user's client (in this case, Internet Explorer).</span></span> <span data-ttu-id="70762-111">SSL, müşteri banka siteye ilk kimliğini doğrular.</span><span class="sxs-lookup"><span data-stu-id="70762-111">SSL first authenticates the bank site to the customer.</span></span> <span data-ttu-id="70762-112">Müşteriler ilk gerçek site ve bunları kendi kullanıcı adı ve parolanızı yazmaya içine çekici yöntemlerle çekmeye çalıştığında sızma değil kurduğu olduğunu bilmesi gerektiğinden önemli bir adımdır.</span><span class="sxs-lookup"><span data-stu-id="70762-112">This is an essential step because customers must first know that they are communicating with the actual site, and not a spoof that tries to lure them into typing in their user name and password.</span></span> <span data-ttu-id="70762-113">SSL, VeriSign gibi güvenilir bir yetkili tarafından sağlanan SSL sertifikası kullanarak bu kimlik doğrulaması yapar.</span><span class="sxs-lookup"><span data-stu-id="70762-113">SSL does this authentication by using an SSL certificate provided by a trusted authority, such as VeriSign.</span></span> <span data-ttu-id="70762-114">Mantıksal şöyle geçer: VeriSign, banka sitesinin kimliğini onaylayan.</span><span class="sxs-lookup"><span data-stu-id="70762-114">The logic goes like this: VeriSign vouches for the identity of the bank site.</span></span> <span data-ttu-id="70762-115">Internet Explorer VeriSign güvendiği için güvenilen bir sitedir.</span><span class="sxs-lookup"><span data-stu-id="70762-115">Because Internet Explorer trusts VeriSign, the site is trusted.</span></span> <span data-ttu-id="70762-116">VeriSign ile denetlemek istiyorsanız, bu nedenle de VeriSign logolardan birine tıklayarak yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70762-116">If you want to check with VeriSign, you can do so as well by clicking on the VeriSign logo.</span></span> <span data-ttu-id="70762-117">Bitiş tarihi ve (banka siteye) verilen bir deyim Orijinallik sunan.</span><span class="sxs-lookup"><span data-stu-id="70762-117">That presents a statement of authenticity with its expiration date and who it is issued to (the bank site).</span></span>  
  
 <span data-ttu-id="70762-118">Güvenli bir oturum başlatmak için sunucu, oturum, karmaları oluşturmak için kullanın ve şifrelemek ve şifresini ile şifreleme algoritmaları listesi ile birlikte bir "hello" denk istemci gönderir.</span><span class="sxs-lookup"><span data-stu-id="70762-118">To initiate a secure session, the client sends the equivalent of a "hello" to the server along with a list of cryptographic algorithms it can use to sign, generate hashes, and encrypt and decrypt with.</span></span> <span data-ttu-id="70762-119">Yanıt olarak, site geri bildirim ve algoritmaları paketlerinden birini kendi tercih ettiğiniz gönderir.</span><span class="sxs-lookup"><span data-stu-id="70762-119">In response, the site sends back an acknowledgment and its choice of one of the algorithms suites.</span></span> <span data-ttu-id="70762-120">Bu ilk el sıkışması sırasında her iki taraf gönderip nonce öğelerinin.</span><span class="sxs-lookup"><span data-stu-id="70762-120">During this initial handshake, both parties send and receive nonces.</span></span> <span data-ttu-id="70762-121">A *nonce* , sitenin ortak anahtarı ile birlikte bir karma değer oluşturmak için kullanılan verileri rastgele oluşturulmuş bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="70762-121">A *nonce* is a randomly generated piece of data that is used, in combination with the site's public key, to create a hash.</span></span> <span data-ttu-id="70762-122">A *karma* SHA1 gibi standart bir algoritma kullanarak iki sayı türetilen yeni bir sayıdır.</span><span class="sxs-lookup"><span data-stu-id="70762-122">A *hash* is a new number that is derived from the two numbers using a standard algorithm, such as SHA1.</span></span> <span data-ttu-id="70762-123">(İstemci ve site de kullanmak için hangi karma algoritması kabul etmek için mesaj alışverişi.) Karma benzersiz olan ve yalnızca istemci ve site arasında oturumu için şifreleme ve şifre çözme iletileri için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="70762-123">(The client and the site also exchange messages to agree which hash algorithm to use.) The hash is unique and is used only for the session between the client and the site to encrypt and decrypt messages.</span></span> <span data-ttu-id="70762-124">Her iki tarafında da aynı karma oluşturabilmek özgün nonce ve sertifikanın ortak anahtarı, hem istemci hem de hizmet vardır.</span><span class="sxs-lookup"><span data-stu-id="70762-124">Both client and service have the original nonce and the certificate's public key, so both sides can generate the same hash.</span></span> <span data-ttu-id="70762-125">Bu nedenle, istemci, (a) üzerinde anlaşılan algoritması üzerinde karma verilerden hesaplamak için kullanarak ve (b) Bu hizmet tarafından gönderilen karma değerini karşılaştırmak hizmet tarafından gönderilen karma doğrular; iki eşleşirse, istemci ile karma değiştirilmemiş güvencesi sahiptir.</span><span class="sxs-lookup"><span data-stu-id="70762-125">Therefore, the client validates the hash sent by the service by (a) using the agreed upon algorithm to calculate the hash from the data, and (b) comparing it to the hash sent by the service; if the two match, then the client has assurance that the hash has not been tampered with.</span></span> <span data-ttu-id="70762-126">İstemci sonra bu karma bir anahtar olarak başka bir yeni karma içeren bir iletiyi şifrelemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70762-126">The client can then use this hash as a key to encrypt a message that contains yet another new hash.</span></span> <span data-ttu-id="70762-127">Hizmet, karmayı kullanarak iletinin şifresini çözmek ve bu ikinci son karma kurtarın.</span><span class="sxs-lookup"><span data-stu-id="70762-127">The service can decrypt the message using the hash, and recover this second-to-final hash.</span></span> <span data-ttu-id="70762-128">(Nonce öğelerinin, ortak anahtar ve diğer verileri) birikmiş bilgileri artık için her iki tarafın adı verilir ve son karma (veya ana anahtarı) oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="70762-128">The accumulated information (nonces, public key, and other data) is now known to both sides, and a final hash (or master key) can be created.</span></span> <span data-ttu-id="70762-129">Bu son anahtar sonraki son karmayı kullanarak şifrelenmiş gönderilir.</span><span class="sxs-lookup"><span data-stu-id="70762-129">This final key is sent encrypted using the next-to-last hash.</span></span> <span data-ttu-id="70762-130">Ana anahtarı sonra şifreleme ve şifre çözme oturumun geri kalanında iletileri için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="70762-130">The master key is then used to encrypt and decrypt messages for the rest of the session.</span></span> <span data-ttu-id="70762-131">Hem istemci hem de hizmet aynı anahtar kullandığından, bu da adlandırılır bir *oturum anahtarı*.</span><span class="sxs-lookup"><span data-stu-id="70762-131">Because both client and service use the same key, this is also called a *session key*.</span></span>  
  
 <span data-ttu-id="70762-132">Oturum anahtarını da bir simetrik anahtar ya da "paylaşılan gizlilik." artması şeklindedir</span><span class="sxs-lookup"><span data-stu-id="70762-132">The session key is also characterized as a symmetric key, or a "shared secret."</span></span> <span data-ttu-id="70762-133">Her iki tarafında bir işlem tarafından gerekli hesaplama azaltır çünkü bir simetrik anahtar olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="70762-133">Having a symmetric key is important because it reduces the computation required by both sides of the transaction.</span></span> <span data-ttu-id="70762-134">Her ileti nonce öğelerinin karmaları ve yeni bir exchange talep, performans bozulmasına.</span><span class="sxs-lookup"><span data-stu-id="70762-134">If every message demanded a new exchange of nonces and hashes, performance would deteriorate.</span></span> <span data-ttu-id="70762-135">Bu nedenle, nihai amacı SSL iletileri verimlilik ve güvenlik büyük ölçüde iki taraf arasında serbestçe akış sağlayan bir simetrik anahtar kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="70762-135">Therefore, the ultimate goal of SSL is to use a symmetric key that allows messages to flow freely between the two sides with a greater degree of security and efficiency.</span></span>  
  
 <span data-ttu-id="70762-136">Siteden siteye iletişim kuralı farklılık gösterebileceğinden önceki açıklama neler olacağını gösteren, Basitleştirilmiş bir sürümüdür.</span><span class="sxs-lookup"><span data-stu-id="70762-136">The previous description is a simplified version of what happens, because the protocol may vary from site to site.</span></span> <span data-ttu-id="70762-137">Hem istemci hem de site veri değişimi işlemi için daha fazla karmaşıklık ve bu nedenle protection eklemek üzere el sıkışması sırasında algorithmically birleştirilmiş nonce öğelerinin oluşturmak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="70762-137">It is also possible that both the client and the site both generate nonces that are algorithmically combined during the handshake to add more complexity, and therefore protection, to the process of exchanging data.</span></span>  
  
### <a name="certificates-and-public-key-infrastructure"></a><span data-ttu-id="70762-138">Sertifikalar ve ortak anahtar altyapısı</span><span class="sxs-lookup"><span data-stu-id="70762-138">Certificates and Public Key Infrastructure</span></span>  
 <span data-ttu-id="70762-139">Anlaşması sırasında hizmeti SSL sertifikasını da istemciye gönderir.</span><span class="sxs-lookup"><span data-stu-id="70762-139">During the handshake, the service also sends its SSL certificate to the client.</span></span> <span data-ttu-id="70762-140">Sertifikayı veren yetkili ve sitenin Tekdüzen Kaynak Tanımlayıcısı (URI), sona erme tarihi gibi bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="70762-140">The certificate contains information, such as its expiration date, issuing authority, and the site's Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="70762-141">İstemci bir eşleşme emin olmak için ilk temas ve tarih ve verme yetkilisi da denetler URI'ye URI karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="70762-141">The client compares the URI to the URI it had originally contacted to ensure a match, and also checks the date and issuing authority.</span></span>  
  
 <span data-ttu-id="70762-142">Her sertifikanın iki anahtar, özel anahtarı ve bir ortak anahtar vardır ve ikisi olarak bilinen bir *anahtar çifti exchange*.</span><span class="sxs-lookup"><span data-stu-id="70762-142">Every certificate has two keys, a private key and a public key, and the two are known as an *exchange key pair*.</span></span> <span data-ttu-id="70762-143">Kısaca, ortak anahtarı bir sertifikadan okunabilir olmakla birlikte özel anahtar sertifikasının sahibi olarak bilinir.</span><span class="sxs-lookup"><span data-stu-id="70762-143">In brief, the private key is known only to the owner of the certificate while the public key is readable from the certificate.</span></span> <span data-ttu-id="70762-144">İki anahtarı şifrelemek veya bir Özet, karma, veya diğer anahtarı, ancak yalnızca olarak bulmadýðýný operations şifresini çözmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="70762-144">Either key can be used to encrypt or decrypt a digest, hash, or other key, but only as contrary operations.</span></span> <span data-ttu-id="70762-145">Örneğin, yalnızca site istemci ortak anahtarla şifreler, özel anahtarı kullanarak ileti şifresini çözebilir.</span><span class="sxs-lookup"><span data-stu-id="70762-145">For example, if the client encrypts with the public key, only the site can decrypt the message using the private key.</span></span> <span data-ttu-id="70762-146">Benzer şekilde, istemcinin site ile özel anahtarı şifreler, ortak anahtar ile şifresini çözebilir.</span><span class="sxs-lookup"><span data-stu-id="70762-146">Similarly, if the site encrypts with the private key, the client can decrypt with the public key.</span></span> <span data-ttu-id="70762-147">Bu, özel anahtarla şifrelenmiş yalnızca iletileri ortak anahtarla şifresi çözülebilir çünkü yalnızca özel anahtarı kaynağı ile mesajları, istemciye güvence sağlar.</span><span class="sxs-lookup"><span data-stu-id="70762-147">This provides assurance to the client that the messages are being exchanged only with the possessor of the private key because only messages encrypted with the private key can be decrypted with the public key.</span></span> <span data-ttu-id="70762-148">Site, genel anahtar kullanılarak şifrelenmiş sahip istemcisi ile ileti değiştiriyor sağlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="70762-148">The site is assured that it is exchanging messages with a client that has encrypted using the public key.</span></span> <span data-ttu-id="70762-149">Bu exchange neden olan yalnızca bir ilk el sıkışma için ancak güvenli olduğundan daha gerçek simetrik anahtar oluşturmak için gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="70762-149">This exchange is secure only for an initial handshake, however, which is why much more is done to create the actual symmetric key.</span></span> <span data-ttu-id="70762-150">Bununla birlikte, tüm iletişimler, geçerli bir SSL sertifikasına sahip hizmetine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="70762-150">Nevertheless, all communications depend on the service having a valid SSL certificate.</span></span>  
  
## <a name="implementing-ssl-with-wcf"></a><span data-ttu-id="70762-151">WCF ile SSL uygulama</span><span class="sxs-lookup"><span data-stu-id="70762-151">Implementing SSL with WCF</span></span>  
 <span data-ttu-id="70762-152">HTTP taşıma güvenliği (veya SSL) WCF'ye harici olarak sağlanır.</span><span class="sxs-lookup"><span data-stu-id="70762-152">HTTP transport security (or SSL) is provided externally to WCF.</span></span> <span data-ttu-id="70762-153">SSL iki yoldan biriyle uygulayabilirsiniz; uygulamanızı nasıl barındırılıyor faktör şöyledir:</span><span class="sxs-lookup"><span data-stu-id="70762-153">You can implement SSL in one of two ways; the deciding factor is how your application is hosted:</span></span>  
  
-   <span data-ttu-id="70762-154">Internet Information Services (IIS), WCF konağı olarak kullanıyorsanız, bir SSL hizmeti kurmak için IIS Altyapısı'nı kullanın.</span><span class="sxs-lookup"><span data-stu-id="70762-154">If you are using Internet Information Services (IIS) as your WCF host, use the IIS infrastructure to set up an SSL service.</span></span>  
  
-   <span data-ttu-id="70762-155">Şirket içinde barındırılan bir WCF uygulaması oluşturuyorsanız, bir SSL sertifikası HttpCfg.exe Aracı'nı kullanarak adresine bağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70762-155">If you are creating a self-hosted WCF application, you can bind an SSL certificate to the address using the HttpCfg.exe tool.</span></span>  
  
### <a name="using-iis-for-transport-security"></a><span data-ttu-id="70762-156">Aktarım güvenliği için IIS kullanarak</span><span class="sxs-lookup"><span data-stu-id="70762-156">Using IIS for Transport Security</span></span>  
  
#### <a name="iis-70"></a><span data-ttu-id="70762-157">IIS 7.0</span><span class="sxs-lookup"><span data-stu-id="70762-157">IIS 7.0</span></span>  
 <span data-ttu-id="70762-158">Ayarlamak için [!INCLUDE[iisver](../../../../includes/iisver-md.md)] bakın (SSL kullanarak) güvenli bir konak [IIS 7.0 Beta: Güvenli Yuva Katmanı IIS 7.0 yapılandırma](https://go.microsoft.com/fwlink/?LinkId=88600).</span><span class="sxs-lookup"><span data-stu-id="70762-158">To set up [!INCLUDE[iisver](../../../../includes/iisver-md.md)] as a secure host (using SSL), see [IIS 7.0 Beta: Configuring Secure Sockets Layer in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88600).</span></span>  
  
 <span data-ttu-id="70762-159">Sertifika ile kullanmak için yapılandırma [!INCLUDE[iisver](../../../../includes/iisver-md.md)], bkz: [IIS 7.0 Beta: IIS 7.0 sunucu sertifikalarını yapılandırma](https://go.microsoft.com/fwlink/?LinkID=88595).</span><span class="sxs-lookup"><span data-stu-id="70762-159">To configure certificates for use with [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkID=88595).</span></span>  
  
#### <a name="iis-60"></a><span data-ttu-id="70762-160">IIS 6.0</span><span class="sxs-lookup"><span data-stu-id="70762-160">IIS 6.0</span></span>  
 <span data-ttu-id="70762-161">Ayarlamak için [!INCLUDE[iis601](../../../../includes/iis601-md.md)] bakın (SSL kullanarak) güvenli bir konak [Güvenli Yuva Katmanı Yapılandırma](https://go.microsoft.com/fwlink/?LinkId=88601).</span><span class="sxs-lookup"><span data-stu-id="70762-161">To set up [!INCLUDE[iis601](../../../../includes/iis601-md.md)] as a secure host (using SSL), see [Configuring Secure Sockets Layer](https://go.microsoft.com/fwlink/?LinkId=88601).</span></span>  
  
 <span data-ttu-id="70762-162">Sertifika ile kullanmak için yapılandırma [!INCLUDE[iis601](../../../../includes/iis601-md.md)], bkz: [Certificates_IIS_SP1_Ops](https://go.microsoft.com/fwlink/?LinkId=88602).</span><span class="sxs-lookup"><span data-stu-id="70762-162">To configure certificates for use with [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Certificates_IIS_SP1_Ops](https://go.microsoft.com/fwlink/?LinkId=88602).</span></span>  
  
### <a name="using-httpcfg-for-ssl"></a><span data-ttu-id="70762-163">SSL için HttpCfg kullanma</span><span class="sxs-lookup"><span data-stu-id="70762-163">Using HttpCfg for SSL</span></span>  
 <span data-ttu-id="70762-164">Şirket içinde barındırılan bir WCF uygulaması oluşturuyorsanız, kullanılabilir HttpCfg.exe aracını indirin [Windows XP Service Pack 2 Destek Araçları site](https://go.microsoft.com/fwlink/?LinkId=29002).</span><span class="sxs-lookup"><span data-stu-id="70762-164">If you are creating a self-hosted WCF application, download the HttpCfg.exe tool, available at the [Windows XP Service Pack 2 Support Tools site](https://go.microsoft.com/fwlink/?LinkId=29002).</span></span>  
  
 <span data-ttu-id="70762-165">X.509 sertifikası ile bir bağlantı ayarlamak için HttpCfg.exe aracını kullanma hakkında daha fazla bilgi için bkz. [nasıl yapılır: Bir SSL sertifikası ile bir bağlantı noktası yapılandırma](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="70762-165">For more information about using the HttpCfg.exe tool to set up a port with an X.509 certificate, see [How to: Configure a Port with an SSL Certificate](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="70762-166">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="70762-166">See also</span></span>

- [<span data-ttu-id="70762-167">Aktarım Güvenliği</span><span class="sxs-lookup"><span data-stu-id="70762-167">Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/transport-security.md)
- [<span data-ttu-id="70762-168">İleti Güvenliği</span><span class="sxs-lookup"><span data-stu-id="70762-168">Message Security</span></span>](../../../../docs/framework/wcf/feature-details/message-security-in-wcf.md)
