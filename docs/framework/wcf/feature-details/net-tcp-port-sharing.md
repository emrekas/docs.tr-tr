---
title: Net.TCP Bağlantı Noktası Paylaşımı
ms.date: 03/30/2017
helpviewer_keywords:
- port activation [WCF]
- port sharing [WCF]
ms.assetid: f13692ee-a179-4439-ae72-50db9534eded
ms.openlocfilehash: 4d7f28c692c7eb3527a851c6456473afc20a9aeb
ms.sourcegitcommit: bab17fd81bab7886449217356084bf4881d6e7c8
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/26/2019
ms.locfileid: "67402459"
---
# <a name="nettcp-port-sharing"></a><span data-ttu-id="80af9-102">Net.TCP Bağlantı Noktası Paylaşımı</span><span class="sxs-lookup"><span data-stu-id="80af9-102">Net.TCP Port Sharing</span></span>
<span data-ttu-id="80af9-103">Windows Communication Foundation (WCF), yüksek performanslı iletişim için yeni TCP tabanlı ağ protokolü (net.tcp://) sağlar.</span><span class="sxs-lookup"><span data-stu-id="80af9-103">Windows Communication Foundation (WCF) provides a new TCP-based network protocol (net.tcp://) for high-performance communication.</span></span> <span data-ttu-id="80af9-104">WCF da yeni bir sistem bileşeni olan birden çok kullanıcı süreçler arasında paylaşılacak net.tcp bağlantı noktası sağlayan Net.TCP bağlantı noktası paylaşma hizmeti tanıtılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="80af9-104">WCF also introduces a new system component, the Net.TCP Port Sharing Service that enables net.tcp ports to be shared across multiple user processes.</span></span>  
  
## <a name="background-and-motivation"></a><span data-ttu-id="80af9-105">Arka plan ve motivasyon</span><span class="sxs-lookup"><span data-stu-id="80af9-105">Background and Motivation</span></span>  
 <span data-ttu-id="80af9-106">TCP/IP Protokolü ilk olarak sunulmuştur, yalnızca az sayıda uygulama protokolleri yapılan bunu kullanın.</span><span class="sxs-lookup"><span data-stu-id="80af9-106">When the TCP/IP protocol was first introduced, only a small number of application protocols made use of it.</span></span> <span data-ttu-id="80af9-107">TCP/IP bağlantı noktası numaralarını her uygulama protokolü için bir benzersiz 16 bit bağlantı noktası numarası atayarak uygulamaları birbirinden ayırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="80af9-107">TCP/IP used port numbers to differentiate between applications by assigning a unique 16-bit port number to each application protocol.</span></span> <span data-ttu-id="80af9-108">Örneğin, HTTP trafiğini 80 numaralı TCP bağlantı noktasını kullanmak için bugün standartlaştırılmıştır, SMTP 25 numaralı TCP bağlantı noktasını kullanır ve FTP 20 ve 21 TCP bağlantı noktalarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="80af9-108">For example, HTTP traffic today is standardized to use TCP port 80, SMTP uses TCP port 25, and FTP uses TCP ports 20 and 21.</span></span> <span data-ttu-id="80af9-109">Aktarım olarak TCP kullanarak diğer uygulamaları başka bir kullanılabilir bağlantı noktası numarası, kural tarafından ya da resmi Standardizasyon üzerinden seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80af9-109">Other applications using TCP as a transport can choose another available port number, either by convention or through formal standardization.</span></span>  
  
 <span data-ttu-id="80af9-110">Uygulamalar arasında ayrım yapmak için bağlantı noktası numaralarını kullanarak güvenlik sorunlarını vardı.</span><span class="sxs-lookup"><span data-stu-id="80af9-110">Using port numbers to distinguish between applications had security problems.</span></span> <span data-ttu-id="80af9-111">Güvenlik duvarları, genellikle bir standart olmayan bağlantı noktasını kullanan bir uygulamayı dağıtma genellikle karmaşık ya da Kurumsal ve kişisel güvenlik duvarları varlığı nedeniyle olanaksız bile, bu nedenle, bazı iyi bilinen bir giriş noktaları dışında tüm bağlantı noktalarındaki TCP trafiği engellemek için yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="80af9-111">Firewalls are generally configured to block TCP traffic on all ports except for a few well-known entry points, so deploying an application that uses a non-standard port is often complicated or even impossible due to the presence of corporate and personal firewalls.</span></span> <span data-ttu-id="80af9-112">Zaten izin verilen standart, iyi bilinen bağlantı noktaları üzerinden iletişim kurabilen uygulamaları dış saldırı yüzeyini azaltın.</span><span class="sxs-lookup"><span data-stu-id="80af9-112">Applications that can communicate over standard, well-known ports that are already permitted, reduce the external attack surface.</span></span> <span data-ttu-id="80af9-113">Birçok ağ uygulamaları HTTP yararlanması çoğu Güvenlik Duvarı varsayılan olarak 80 numaralı TCP bağlantı noktasında trafiğe izin verecek şekilde yapılandırıldığından protokol.</span><span class="sxs-lookup"><span data-stu-id="80af9-113">Many network applications make use of the HTTP protocol because most firewalls are configured by default to allow traffic on TCP port 80.</span></span>  
  
 <span data-ttu-id="80af9-114">HTTP. Trafiği birçok farklı HTTP uygulamaları için tek bir TCP bağlantı noktası üzerinde çoğaltıldı SYS modeli Windows platformunda standart haline gelmiştir.</span><span class="sxs-lookup"><span data-stu-id="80af9-114">The HTTP.SYS model in which traffic for many different HTTP applications is multiplexed onto a single TCP port has become standard on the Windows platform.</span></span> <span data-ttu-id="80af9-115">Bu güvenlik duvarı için ortak bir denetim noktası sağlar yapabileceğiniz yeni uygulamalar oluşturmak dağıtım maliyeti en aza indirmek, uygulama geliştiricilerinin sağlarken Yöneticiler ağ kullanın.</span><span class="sxs-lookup"><span data-stu-id="80af9-115">This provides a common point of control for firewall administrators while allowing application developers to minimize the deployment cost of building new applications that can make use of the network.</span></span>  
  
 <span data-ttu-id="80af9-116">Birden çok uygulamada HTTP bağlantı noktası paylaşma olanağı, uzun bir özellik Internet Information Services (IIS) kaldırıldı.</span><span class="sxs-lookup"><span data-stu-id="80af9-116">The ability to share ports across multiple HTTP applications has long been a feature of Internet Information Services (IIS).</span></span> <span data-ttu-id="80af9-117">Ancak, yalnızca HTTP sunulmasıyla birlikte idi. Bu altyapı tam olarak genelleştirilmiş IIS 6.0 ile SYS (çekirdek modu HTTP protokolü dinleyici).</span><span class="sxs-lookup"><span data-stu-id="80af9-117">However, it was only with the introduction of HTTP.SYS (the kernel-mode HTTP protocol listener) with IIS 6.0 that this infrastructure was fully generalized.</span></span> <span data-ttu-id="80af9-118">Aslında, HTTP. SYS TCP bağlantı noktası HTTP trafiğine ayrılmış paylaşmak rastgele kullanıcı işlemleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="80af9-118">In effect, HTTP.SYS allows arbitrary user processes to share the TCP ports dedicated to HTTP traffic.</span></span> <span data-ttu-id="80af9-119">Bu özellik, ayrı, yalıtılmış işlemlerde aynı fiziksel makinede gönderin ve TCP bağlantı noktası 80 üzerinden trafiği almak için gereken ağ altyapısını paylaşırken bulunabilmesi birçok HTTP uygulamaları tanır.</span><span class="sxs-lookup"><span data-stu-id="80af9-119">This capability allows many HTTP applications to coexist on the same physical machine in separate, isolated processes while sharing the network infrastructure required to send and receive traffic over TCP port 80.</span></span> <span data-ttu-id="80af9-120">Net.TCP bağlantı noktası paylaşma hizmeti aynı türde uygulamalar için net.tcp bağlantı noktası sağlar.</span><span class="sxs-lookup"><span data-stu-id="80af9-120">The Net.TCP Port Sharing Service enables the same type of port sharing for net.tcp applications.</span></span>  
  
## <a name="port-sharing-architecture"></a><span data-ttu-id="80af9-121">Bağlantı noktası paylaşımı mimarisi</span><span class="sxs-lookup"><span data-stu-id="80af9-121">Port Sharing Architecture</span></span>  
 <span data-ttu-id="80af9-122">Wcf'de bağlantı noktası paylaşımı mimari üç ana bileşene sahiptir:</span><span class="sxs-lookup"><span data-stu-id="80af9-122">The Port Sharing architecture in WCF has three main components:</span></span>  
  
- <span data-ttu-id="80af9-123">Bir çalışan işlemi: Paylaşılan bağlantı noktalarını kullanarak net.tcp:// iletişim kuran herhangi bir işlem.</span><span class="sxs-lookup"><span data-stu-id="80af9-123">A Worker Process: Any process communicating over net.tcp:// using shared ports.</span></span>  
  
- <span data-ttu-id="80af9-124">WCF TCP taşıma: Net.tcp:// Protokolü uygular.</span><span class="sxs-lookup"><span data-stu-id="80af9-124">The WCF TCP transport: Implements the net.tcp:// protocol.</span></span>  
  
- <span data-ttu-id="80af9-125">Net.TCP bağlantı noktası Paylaşımı hizmeti: Çok sayıda çalışan işlemine aynı TCP bağlantı noktasını paylaşmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="80af9-125">The Net.TCP Port Sharing Service: Allows many worker processes to share the same TCP port.</span></span>  
  
 <span data-ttu-id="80af9-126">Net.TCP bağlantı noktası paylaşma hizmeti üzerinden bağlanan çalışan işlemleri adına net.tcp:// bağlantılarını kabul eden bir kullanıcı modu Windows hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="80af9-126">The Net.TCP Port Sharing Service is a user-mode Windows service that accepts net.tcp:// connections on behalf of the worker processes that connect through it.</span></span> <span data-ttu-id="80af9-127">Bir yuva bağlantısı geldiğinde, hizmet bağlantı noktası hedef adresini almak için gelen ileti akışı inceler.</span><span class="sxs-lookup"><span data-stu-id="80af9-127">When a socket connection arrives, the port sharing service inspects the incoming message stream to obtain its destination address.</span></span> <span data-ttu-id="80af9-128">Bu adresini temel alan, hizmet bağlantı noktası, sonuçta işlediği uygulamaya veri akışını yönlendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="80af9-128">Based on this address, the port sharing service can route the data stream to the application that ultimately processes it.</span></span>  
  
 <span data-ttu-id="80af9-129">Açılır net.tcp:// bağlantı noktası kullanan bir WCF hizmeti, WCF TCP taşıma altyapısını doğrudan bir TCP yuva uygulama işleminde açılmaz.</span><span class="sxs-lookup"><span data-stu-id="80af9-129">When a WCF service that uses net.tcp:// port sharing opens, the WCF TCP transport infrastructure does not directly open a TCP socket in the application process.</span></span> <span data-ttu-id="80af9-130">Bunun yerine, aktarım altyapısı Net.TCP bağlantı noktası paylaşma hizmeti hizmetin taban adresi Tekdüzen Kaynak Tanımlayıcısı (URI) kaydeder ve onun adına iletileri dinlemek için hizmet bağlantı noktası bekler.</span><span class="sxs-lookup"><span data-stu-id="80af9-130">Instead, the transport infrastructure registers the service’s base address Uniform Resource Identifier (URI) with the Net.TCP Port Sharing Service and waits for the port sharing service to listen for messages on its behalf.</span></span>  <span data-ttu-id="80af9-131">Hizmet bağlantı noktası geldikçe uygulama hizmetine gönderilen iletiler gönderir.</span><span class="sxs-lookup"><span data-stu-id="80af9-131">The port sharing service dispatches messages addressed to the application service as they arrive.</span></span>  
  
## <a name="installing-port-sharing"></a><span data-ttu-id="80af9-132">Bağlantı noktası paylaşımı yükleme</span><span class="sxs-lookup"><span data-stu-id="80af9-132">Installing Port Sharing</span></span>  
 <span data-ttu-id="80af9-133">Net.TCP bağlantı noktası paylaşma hizmeti WinFX destekleyen tüm işletim sistemlerinde kullanılabilir, ancak hizmet varsayılan olarak etkin değildir.</span><span class="sxs-lookup"><span data-stu-id="80af9-133">The Net.TCP Port Sharing Service is available on all operating systems that support WinFX, but the service is not enabled by default.</span></span> <span data-ttu-id="80af9-134">Bir güvenlik önlemi olarak yönetici Net.TCP bağlantı noktası paylaşma hizmeti ilk kullanım önce el ile etkinleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="80af9-134">As a security precaution, an administrator must manually enable the Net.TCP Port Sharing Service prior to first use.</span></span> <span data-ttu-id="80af9-135">Net.TCP bağlantı noktası paylaşma hizmeti bağlantı noktası paylaşma hizmeti tarafından sahip olunan ağ yuvaları çeşitli özelliklerini değiştirmenize izin veren bir yapılandırma seçenekleri sunar.</span><span class="sxs-lookup"><span data-stu-id="80af9-135">The Net.TCP Port Sharing Service exposes configuration options that allow you to manipulate several characteristics of the network sockets owned by the port sharing service.</span></span> <span data-ttu-id="80af9-136">Daha fazla bilgi için [nasıl yapılır: Net.TCP bağlantı noktası hizmetini etkinleştirme](../../../../docs/framework/wcf/feature-details/how-to-enable-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="80af9-136">For more information, see [How to: Enable the Net.TCP Port Sharing Service](../../../../docs/framework/wcf/feature-details/how-to-enable-the-net-tcp-port-sharing-service.md).</span></span>  
  
## <a name="using-nettcp-port-sharing-in-an-application"></a><span data-ttu-id="80af9-137">NET.TCP bir uygulamaya bağlantı noktası kullanma</span><span class="sxs-lookup"><span data-stu-id="80af9-137">Using Net.tcp Port Sharing in an Application</span></span>  
 <span data-ttu-id="80af9-138">Kullanarak bir hizmeti kullanıma sunmak için WCF uygulamanızı net.tcp:// bağlantı noktası kullanmak için en kolay yolu olan <xref:System.ServiceModel.NetTcpBinding> Net.TCP bağlantı noktası paylaşım hizmetini kullanarak etkinleştirmek için sonra da <xref:System.ServiceModel.NetTcpBinding.PortSharingEnabled%2A> özelliği.</span><span class="sxs-lookup"><span data-stu-id="80af9-138">The easiest way to use net.tcp:// port sharing in your WCF application is to expose a service using the <xref:System.ServiceModel.NetTcpBinding> and then to enable Net.TCP Port Sharing Service using the <xref:System.ServiceModel.NetTcpBinding.PortSharingEnabled%2A> property.</span></span>  
  
 <span data-ttu-id="80af9-139">Bunun nasıl yapılacağı hakkında daha fazla bilgi için bkz. [nasıl yapılır: Bağlantı noktası paylaşımı kullanarak bir WCF hizmetini yapılandırma](../../../../docs/framework/wcf/feature-details/how-to-configure-a-wcf-service-to-use-port-sharing.md).</span><span class="sxs-lookup"><span data-stu-id="80af9-139">For more information about how to do this, see [How to: Configure a WCF Service to Use Port Sharing](../../../../docs/framework/wcf/feature-details/how-to-configure-a-wcf-service-to-use-port-sharing.md).</span></span>  
  
## <a name="security-implications-of-port-sharing"></a><span data-ttu-id="80af9-140">Bağlantı noktası paylaşımı, güvenlikle ilgili etkileri</span><span class="sxs-lookup"><span data-stu-id="80af9-140">Security Implications of Port Sharing</span></span>  
 <span data-ttu-id="80af9-141">Net.TCP bağlantı noktası paylaşma hizmeti bir katman uygulamalar ve ağ arasındaki işleme sağlasa da, ağ üzerinde doğrudan dinleme gibi bağlantı noktası Paylaşımı kullanan uygulamalar yine de sağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="80af9-141">Although the Net.TCP Port Sharing Service provides a layer of processing between applications and the network, applications that use port sharing should still be secured as if they were directly listening on the network.</span></span> <span data-ttu-id="80af9-142">Özellikle, bağlantı noktası Paylaşımı kullanan uygulamalar, altında çalıştığı işlem ayrıcalıklarını değerlendirmelidir.</span><span class="sxs-lookup"><span data-stu-id="80af9-142">Specifically, applications that use port sharing should evaluate the process privileges under which they run.</span></span> <span data-ttu-id="80af9-143">Ağ iletişimi için gerekli işlem ayrıcalıklarını en az sayıda çalıştırır yerleşik ağ hizmeti hesabı kullanarak uygulamanızı çalıştırmayı göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="80af9-143">Consider running your application using the built-in Network Service account, which runs with the minimal set of process privileges required for network communication.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="80af9-144">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="80af9-144">See also</span></span>

- [<span data-ttu-id="80af9-145">Net.TCP Bağlantı Noktası Hizmetini Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="80af9-145">Configuring the Net.TCP Port Sharing Service</span></span>](../../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)
- [<span data-ttu-id="80af9-146">Barındırma</span><span class="sxs-lookup"><span data-stu-id="80af9-146">Hosting</span></span>](../../../../docs/framework/wcf/feature-details/hosting.md)
- [<span data-ttu-id="80af9-147">Nasıl yapılır: Bağlantı noktası paylaşımı kullanarak bir WCF hizmetini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="80af9-147">How to: Configure a WCF Service to Use Port Sharing</span></span>](../../../../docs/framework/wcf/feature-details/how-to-configure-a-wcf-service-to-use-port-sharing.md)
- [<span data-ttu-id="80af9-148">Nasıl yapılır: Net.TCP bağlantı noktası hizmetini etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="80af9-148">How to: Enable the Net.TCP Port Sharing Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-enable-the-net-tcp-port-sharing-service.md)
