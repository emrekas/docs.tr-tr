---
title: Kalıcılık En İyi Uygulamaları
ms.date: 03/30/2017
ms.assetid: 6974c5a4-1af8-4732-ab53-7d694608a3a0
ms.openlocfilehash: 399d2f5dbb5f3114a58cc7fdaede249b253089c3
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/28/2019
ms.locfileid: "64592116"
---
# <a name="persistence-best-practices"></a><span data-ttu-id="731e4-102">Kalıcılık En İyi Uygulamaları</span><span class="sxs-lookup"><span data-stu-id="731e4-102">Persistence Best Practices</span></span>
<span data-ttu-id="731e4-103">Bu belge, iş akışı tasarım ve iş akışı kalıcılığı için ilgili yapılandırma için en iyi uygulamaları kapsar.</span><span class="sxs-lookup"><span data-stu-id="731e4-103">This document covers best practices for workflow design and configuration related to workflow persistence.</span></span>  
  
## <a name="design-and-implementation-of-durable-workflows"></a><span data-ttu-id="731e4-104">Tasarım ve uygulama dayanıklı iş akışı</span><span class="sxs-lookup"><span data-stu-id="731e4-104">Design and Implementation of Durable Workflows</span></span>  
 <span data-ttu-id="731e4-105">Genel olarak, iş akışlarını iş için bir olay beklediği sırasında iş akışı boş olduğu zamanları ile aralıklı nokta kısa gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="731e4-105">In general, workflows perform work in short periods that are interleaved with times during which the workflow is idle because it is waiting for an event.</span></span> <span data-ttu-id="731e4-106">Bu olay, bir ileti veya sona eren bir Zamanlayıcı gibi şeyler olabilir.</span><span class="sxs-lookup"><span data-stu-id="731e4-106">This event can be such things as a message or an expiring timer.</span></span> <span data-ttu-id="731e4-107">İş akışı örneği boşta kaldığında kaldırabilmek için için hizmet ana iş akışı örneği kalıcı gerekir.</span><span class="sxs-lookup"><span data-stu-id="731e4-107">To be able to unload the workflow instance when it becomes idle, the service host must persist the workflow instance.</span></span> <span data-ttu-id="731e4-108">Bu seçenek, yalnızca iş akışı örneği (örneğin, bir işlemin tamamlanması beklenirken veya zaman uyumsuz bir geri çağırma bekleniyor) no-persist bölgede değilse mümkündür.</span><span class="sxs-lookup"><span data-stu-id="731e4-108">This is possible only if the workflow instance is not in a no-persist zone (for example, waiting for a transaction to complete, or waiting for an asynchronous callback).</span></span> <span data-ttu-id="731e4-109">Boş iş akışı örneğini kaldırmaya izin vermek için iş akışı Yazar işlem kapsamları ve zaman uyumsuz etkinlikler yalnızca kısa süreli eylemlerini kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="731e4-109">To allow an idle workflow instance to unload, the workflow author should use transaction scopes and asynchronous activities for short-lived actions only.</span></span> <span data-ttu-id="731e4-110">Özellikle, yazarın gecikme tutmalısınız içindeki bu etkinlikleri kalıcı Hayır bölgeleri olabildiğince kısa.</span><span class="sxs-lookup"><span data-stu-id="731e4-110">In particular, the author should keep delay activities within these no-persist zones as short as possible.</span></span>  
  
 <span data-ttu-id="731e4-111">Tüm iş akışı tarafından kullanılan veri türleri, seri hale getirilebilir olması durumunda iş akışı yalnızca kalıcı.</span><span class="sxs-lookup"><span data-stu-id="731e4-111">A workflow can only be persisted if all of the data types used by the workflow are serializable.</span></span> <span data-ttu-id="731e4-112">Ayrıca, kalıcı iş akışlarında kullanılan özel türler ile Serileştirilebilir olmalıdır <xref:System.Runtime.Serialization.NetDataContractSerializer> tarafından kalıcı için <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>.</span><span class="sxs-lookup"><span data-stu-id="731e4-112">In addition, custom types used in persisted workflows must be serializable with <xref:System.Runtime.Serialization.NetDataContractSerializer> in order to be persisted by <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>.</span></span>  
  
 <span data-ttu-id="731e4-113">Bir iş akışı örneği kalıcı olmadığını ana bilgisayar veya bilgisayar hata durumunda geri alınamaz.</span><span class="sxs-lookup"><span data-stu-id="731e4-113">A workflow instance cannot be recovered in case of a host or computer failure if it has not been persisted.</span></span> <span data-ttu-id="731e4-114">Genel olarak, iş akışının yaşam döngüsü erken bir iş akışı örneği kalıcı öneririz.</span><span class="sxs-lookup"><span data-stu-id="731e4-114">In general, we recommend that you persist a workflow instance early in the workflow’s life cycle.</span></span>  
  
 <span data-ttu-id="731e4-115">İş akışınızı uzun bir süredir meşgul ise, meşgul süresi boyunca düzenli olarak iş akışı örneği kalıcı öneririz.</span><span class="sxs-lookup"><span data-stu-id="731e4-115">If your workflow is busy for a long time, we recommend that you persist the workflow instance regularly throughout its busy period.</span></span> <span data-ttu-id="731e4-116">Bunu ekleyerek yapabilirsiniz <xref:System.Activities.Statements.Persist> etkinlikleri iş akışı örneği meşgul tutar etkinlik dizisini boyunca.</span><span class="sxs-lookup"><span data-stu-id="731e4-116">You can do this by adding <xref:System.Activities.Statements.Persist> activities throughout the sequence of activities that keep the workflow instance busy.</span></span> <span data-ttu-id="731e4-117">Bu şekilde, uygulama etki alanı geri dönüştürme, ana bilgisayar hataları veya bilgisayar hatalarını sistemin meşgul dönemin başlangıcını geri neden olmaz.</span><span class="sxs-lookup"><span data-stu-id="731e4-117">In this manner, application domain recycling, host failures, or computer failures do not cause the system to be rolled back to the start of the busy period.</span></span> <span data-ttu-id="731e4-118">Unutmayın, ekleme <xref:System.Activities.Statements.Persist> etkinlikleri iş akışınız için bir performans düşüşüne neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="731e4-118">Be aware that adding <xref:System.Activities.Statements.Persist> activities to your workflow could lead to a degradation of performance.</span></span>  
  
 <span data-ttu-id="731e4-119">Windows Server App Fabric, büyük ölçüde Kalıcılık kullanımını ve yapılandırmayı basitleştirir.</span><span class="sxs-lookup"><span data-stu-id="731e4-119">Windows Server App Fabric greatly simplifies the configuration and use of persistence.</span></span> <span data-ttu-id="731e4-120">Daha fazla bilgi için [Windows Server App Fabric kalıcılığı](https://go.microsoft.com/fwlink/?LinkID=201200&clcid=0x409)</span><span class="sxs-lookup"><span data-stu-id="731e4-120">For more information, see [Windows Server App Fabric Persistence](https://go.microsoft.com/fwlink/?LinkID=201200&clcid=0x409)</span></span>  
  
## <a name="configuration-of-scalability-parameters"></a><span data-ttu-id="731e4-121">Ölçeklenebilirlik parametrelerinin yapılandırması</span><span class="sxs-lookup"><span data-stu-id="731e4-121">Configuration of Scalability Parameters</span></span>  
 <span data-ttu-id="731e4-122">Ölçeklenebilirlik ve performans gereksinimlerini aşağıdaki parametreleri ayarlarını belirleyin:</span><span class="sxs-lookup"><span data-stu-id="731e4-122">Scalability and performance requirements determine the settings of the following parameters:</span></span>  
  
- <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToPersist%2A>  
  
- <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A>  
  
- <xref:System.ServiceModel.Activities.Description.SqlWorkflowInstanceStoreBehavior.InstanceLockedExceptionAction%2A>  
  
 <span data-ttu-id="731e4-123">Bu parametreleri gibi geçerli senaryoya göre ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="731e4-123">These parameters should be set as follows, according to the current scenario.</span></span>  
  
### <a name="scenario-a-small-number-of-workflow-instances-that-require-optimal-response-time"></a><span data-ttu-id="731e4-124">Senaryo: Az sayıda en iyi yanıt süresi gerektiren, iş akışı örnekleri</span><span class="sxs-lookup"><span data-stu-id="731e4-124">Scenario: A Small Number of Workflow Instances That Require Optimal Response Time</span></span>  
 <span data-ttu-id="731e4-125">Bu senaryoda, boşta kaldıklarında tüm iş akışı örnekleri yüklenen kalması gerekir.</span><span class="sxs-lookup"><span data-stu-id="731e4-125">In this scenario, all workflow instances should remain loaded when they become idle.</span></span> <span data-ttu-id="731e4-126">Ayarlama <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> büyük bir değer.</span><span class="sxs-lookup"><span data-stu-id="731e4-126">Set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> to a large value.</span></span> <span data-ttu-id="731e4-127">Bu ayarın kullanılması, bir iş akışı örneği bilgisayarlar arasında taşınmasını engeller.</span><span class="sxs-lookup"><span data-stu-id="731e4-127">The use of this setting prevents a workflow instance from moving between computers.</span></span> <span data-ttu-id="731e4-128">Bir veya daha fazlasını yalnızca doğruysa, bu ayarı kullanın:</span><span class="sxs-lookup"><span data-stu-id="731e4-128">Use this setting only if one or more of the following are true:</span></span>  
  
- <span data-ttu-id="731e4-129">Bir iş akışı örneği ömrü boyunca tek bir ileti alır.</span><span class="sxs-lookup"><span data-stu-id="731e4-129">A workflow instance receives a single message throughout its lifetime.</span></span>  
  
- <span data-ttu-id="731e4-130">Tek bilgisayardaki tüm iş akışı örnekleri çalıştırma</span><span class="sxs-lookup"><span data-stu-id="731e4-130">All workflow instances run on a single computer</span></span>  
  
- <span data-ttu-id="731e4-131">Bir iş akışı örneği tarafından alınan tüm iletiler aynı bilgisayar tarafından alınır.</span><span class="sxs-lookup"><span data-stu-id="731e4-131">All messages that are received by a workflow instance are received by the same computer.</span></span>  
  
 <span data-ttu-id="731e4-132">Kullanım <xref:System.Activities.Statements.Persist> etkinlikler veya set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToPersist%2A> kurtarma iş akışı örneğinizin hizmet ana bilgisayarı veya bilgisayar hatasından sonra etkinleştirmek için 0.</span><span class="sxs-lookup"><span data-stu-id="731e4-132">Use <xref:System.Activities.Statements.Persist> activities or set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToPersist%2A> to 0 to enable recovery of your workflow instance after service host or computer failures.</span></span>  
  
### <a name="scenario-workflow-instances-are-idle-for-long-periods-of-time"></a><span data-ttu-id="731e4-133">Senaryo: İş akışı örnekleri zaman uzun süre boyunca boşta</span><span class="sxs-lookup"><span data-stu-id="731e4-133">Scenario: Workflow Instances Are Idle for Long Periods of Time</span></span>  
 <span data-ttu-id="731e4-134">Bu senaryoda ayarlama <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> kaynakları hemen serbest bırakmak için 0.</span><span class="sxs-lookup"><span data-stu-id="731e4-134">In this scenario, set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> to 0 to release resources as soon as possible.</span></span>  
  
### <a name="scenario-workflow-instances-receive-multiple-messages-in-a-short-period-of-time"></a><span data-ttu-id="731e4-135">Senaryo: İş akışı örnekleri kısa bir süre içinde birden çok ileti alır.</span><span class="sxs-lookup"><span data-stu-id="731e4-135">Scenario: Workflow Instances Receive Multiple Messages in a Short Period of Time</span></span>  
 <span data-ttu-id="731e4-136">Bu senaryoda ayarlama <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> bu iletiler aynı bilgisayar tarafından alınırsa 60 saniyedir.</span><span class="sxs-lookup"><span data-stu-id="731e4-136">In this scenario, set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> to 60 seconds if these messages are received by the same computer.</span></span> <span data-ttu-id="731e4-137">Bu, kaldırma ve bir iş akışı örneğini yükleme hızlı sırası engeller.</span><span class="sxs-lookup"><span data-stu-id="731e4-137">This prevents a rapid sequence of unloading and loading of a workflow instance.</span></span> <span data-ttu-id="731e4-138">Bu ayrıca örneği çok uzun bellekte tutmaz.</span><span class="sxs-lookup"><span data-stu-id="731e4-138">This also does not keep the instance in memory for too long.</span></span>  
  
 <span data-ttu-id="731e4-139">Ayarlama <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> 0'kümesi <xref:System.ServiceModel.Activities.Description.SqlWorkflowInstanceStoreBehavior.InstanceLockedExceptionAction%2A> BasicRetry ya da farklı bilgisayarlar tarafından bu iletiler aldığında, AggressiveRetry.</span><span class="sxs-lookup"><span data-stu-id="731e4-139">Set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> to 0, and set <xref:System.ServiceModel.Activities.Description.SqlWorkflowInstanceStoreBehavior.InstanceLockedExceptionAction%2A> to BasicRetry or AggressiveRetry if these messages may be received by different computers.</span></span> <span data-ttu-id="731e4-140">Bu iş akışı örneği başka bir bilgisayar tarafından yüklenmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="731e4-140">This allows the workflow instance to be loaded by another computer.</span></span>  
  
### <a name="scenario-workflow-uses-delay-activities-with-short-durations"></a><span data-ttu-id="731e4-141">Senaryo: İş akışı ile kısa süreli gecikme etkinliklerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="731e4-141">Scenario: Workflow Uses Delay Activities with Short Durations</span></span>  
 <span data-ttu-id="731e4-142">Bu senaryoda, <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> Kalıcılık veritabanı düzenli olarak yoklar örnekler nedeniyle süresi dolmuş yüklenmesi gerektiğini <xref:System.Activities.Statements.Delay> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="731e4-142">In this scenario, the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> regularly polls the persistence database for instances that should be loaded because of an expired <xref:System.Activities.Statements.Delay> activity.</span></span> <span data-ttu-id="731e4-143">Varsa <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> sonraki yoklama aralığı içinde SQL iş akışı örneği Store dolacak bir zamanlayıcı kısaltır ve yoklama aralığı bulur.</span><span class="sxs-lookup"><span data-stu-id="731e4-143">If the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> finds a timer that will expire in the next polling interval, the SQL Workflow Instance Store shortens the polling interval.</span></span> <span data-ttu-id="731e4-144">Sonraki yoklama sonra sağ Zamanlayıcı süresi dolduktan sonra meydana gelir.</span><span class="sxs-lookup"><span data-stu-id="731e4-144">The next poll will then occur right after the timer has expired.</span></span> <span data-ttu-id="731e4-145">Bu şekilde bir yüksek tarafından ayarlanan yoklama aralığından daha uzun çalışması zamanlayıcılar doğruluğunu SQL iş akışı örneği Store başarır <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A>.</span><span class="sxs-lookup"><span data-stu-id="731e4-145">This way, the SQL Workflow Instance Store achieves a high accuracy of timers that run longer than the polling interval, which is set by <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A>.</span></span> <span data-ttu-id="731e4-146">Daha kısa bir gecikme zamanında işlenmesini etkinleştirmek için iş akışı örneği için en az bir yoklama aralığı bellekte kalması gerekir.</span><span class="sxs-lookup"><span data-stu-id="731e4-146">To enable timely processing of shorter delays, the workflow instance must remain in memory for at least one polling interval.</span></span>  
  
 <span data-ttu-id="731e4-147">Ayarlama <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToPersist%2A> sona erme zamanı Kalıcılık veritabanına yazmak için 0.</span><span class="sxs-lookup"><span data-stu-id="731e4-147">Set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToPersist%2A> to 0 to write the expiration time to the persistence database.</span></span>  
  
 <span data-ttu-id="731e4-148">Ayarlama <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> çok uzun veya buna eşit <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> örneği için en az bir yoklama aralığı bellekte tutmak için.</span><span class="sxs-lookup"><span data-stu-id="731e4-148">Set <xref:System.ServiceModel.Activities.Description.WorkflowIdleBehavior.TimeToUnload%2A> to longer than or equal to <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> to keep the instance in memory for at least one polling interval.</span></span>  
  
 <span data-ttu-id="731e4-149">Azaltma önermiyoruz <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> çünkü bu artan yükü için Kalıcılık veritabanı yol açar.</span><span class="sxs-lookup"><span data-stu-id="731e4-149">We do not recommend reducing the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> because this leads to an increased load on the persistence database.</span></span> <span data-ttu-id="731e4-150">Kullanan her bir hizmet konağı <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> algılama dönemi başına bir kez veritabanı yoklar.</span><span class="sxs-lookup"><span data-stu-id="731e4-150">Each service host that uses the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> polls the database one time per detection period.</span></span> <span data-ttu-id="731e4-151">Ayar <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> hizmet konakları sayısı büyükse azaltmak, sisteminizin performansı için çok küçük bir zaman aralığı neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="731e4-151">Setting <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> to too small a time interval may cause your system's performance to decrease if the number of service hosts is large.</span></span>  
  
## <a name="configuring-the-sql-workflow-instance-store"></a><span data-ttu-id="731e4-152">SQL iş akışı örneği Store yapılandırma</span><span class="sxs-lookup"><span data-stu-id="731e4-152">Configuring the SQL Workflow Instance Store</span></span>  
 <span data-ttu-id="731e4-153">SQL iş akışı örneği Store aşağıdaki yapılandırma parametrelerini sahiptir:</span><span class="sxs-lookup"><span data-stu-id="731e4-153">The SQL Workflow Instance Store has the following configuration parameters:</span></span>  
  
 <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceEncodingOption%2A>  
 <span data-ttu-id="731e4-154">Bu parametre bildirir <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> iş akışı örneği durumu sıkıştırmak için.</span><span class="sxs-lookup"><span data-stu-id="731e4-154">This parameter instructs the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> to compress the workflow instance state.</span></span> <span data-ttu-id="731e4-155">Sıkıştırma, Kalıcılık veritabanında depolanır ve bir adanmış veritabanı sunucusuna Kalıcılık veritabanı bulunduğu durumlarda ağ trafiğini azaltır veri miktarını azaltır.</span><span class="sxs-lookup"><span data-stu-id="731e4-155">Compression reduces the amount of data that is stored in the persistence database and reduces network traffic in case the persistence database resides on a dedicated database server.</span></span> <span data-ttu-id="731e4-156">Sıkıştırma kullandıysanız, sıkıştırma ve çıkarma örnek durumu için hesaplama kaynaklarını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="731e4-156">If compression is used, it requires computational resources to compress and extract the instance state.</span></span> <span data-ttu-id="731e4-157">Çoğu durumda, sıkıştırma artan performans verir.</span><span class="sxs-lookup"><span data-stu-id="731e4-157">In most cases, compression yields increased performance.</span></span>  
  
 <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceCompletionAction%2A>  
 <span data-ttu-id="731e4-158">Bu parametre bildirir <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> tutmak veya tamamlanmış örneklerini silin.</span><span class="sxs-lookup"><span data-stu-id="731e4-158">This parameter instructs the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> to either keep or delete completed instances.</span></span> <span data-ttu-id="731e4-159">Tutma örnekleri artar Kalıcılık veritabanı depolama gereksinimleri ve daha büyük tablolar, müşteri adaylarını tablo arama sürelerini artırır tamamlandı.</span><span class="sxs-lookup"><span data-stu-id="731e4-159">Keeping completed instances increases the persistence database storage requirements and leads to larger tables, which increases table lookup times.</span></span> <span data-ttu-id="731e4-160">Tamamlanan örnekleri hata ayıklama veya denetim için gerekli olmadığı sürece, istemek en iyi <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> örneklerine silme tamamlandı.</span><span class="sxs-lookup"><span data-stu-id="731e4-160">Unless completed instances are required for debugging or auditing, it is best to instruct the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> to delete completed instances.</span></span> <span data-ttu-id="731e4-161">Yalnızca kullanıcı sonunda da bunları kaldırmak için bir işlem kurarsa silinen örneklerinin tutulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="731e4-161">Deleted instances should be kept only if the user establishes a process for eventually removing them.</span></span> <span data-ttu-id="731e4-162">Tamamlanan iş akışı örneği örnek deposunda bulunduğu sürece bağıntı anahtarları kullanılamayacak unutmayın.</span><span class="sxs-lookup"><span data-stu-id="731e4-162">Note that correlation keys cannot be reused as long as the completed workflow instance resides in the instance store.</span></span>  
  
 <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A>  
 <span data-ttu-id="731e4-163">Bu parametre hangi en uzun aralığı tanımlar <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> için Kalıcılık veritabanı yoklar ne zaman yükleneceğini örnekleri bir <xref:System.Activities.Statements.Delay> etkinlik süresi dolar.</span><span class="sxs-lookup"><span data-stu-id="731e4-163">This parameter defines the maximum interval with which the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> polls the persistence database for instances that should be loaded when a <xref:System.Activities.Statements.Delay> activity expires.</span></span> <span data-ttu-id="731e4-164">Varsa <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> sonraki yoklama aralığı içinde sona erecek olan bir zamanlayıcı bulur böylece sonraki yoklama süreölçeri sağ süresi dolduktan sonra meydana gelir, yoklama aralığını kısaltır.</span><span class="sxs-lookup"><span data-stu-id="731e4-164">If the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> finds a timer that will expire in the next polling interval, it shortens the polling interval so that the next poll will occur right after the timer has expired.</span></span> <span data-ttu-id="731e4-165">Bu şekilde, yüksek bir uzun süre çalışan zamanlayıcılar doğruluğunu SQL iş akışı örneği Store ulaşır <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A>.</span><span class="sxs-lookup"><span data-stu-id="731e4-165">This way, the SQL Workflow Instance Store achieves a high accuracy of timers that run longer than <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A>.</span></span>  
  
 <span data-ttu-id="731e4-166">Azaltma önermiyoruz <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A>, bu artan yükü için Kalıcılık veritabanı yol açar.</span><span class="sxs-lookup"><span data-stu-id="731e4-166">We do not recommend reducing the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A>, because this leads to an increased load on the persistence database.</span></span> <span data-ttu-id="731e4-167">Kullanan her bir hizmet konağı <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> algılama dönemi başına bir kez veritabanı yoklar.</span><span class="sxs-lookup"><span data-stu-id="731e4-167">Each service host that uses the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> polls the database one time per detection period.</span></span> <span data-ttu-id="731e4-168">Ayar <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> için çok küçük bir aralık hizmet konakları sayısı büyükse sistem performansının düşmesine neden.</span><span class="sxs-lookup"><span data-stu-id="731e4-168">Setting <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.RunnableInstancesDetectionPeriod%2A> to too small an interval may cause your system's performance to decrease if the number of service hosts is large.</span></span>  
  
 <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.HostLockRenewalPeriod%2A>  
 <span data-ttu-id="731e4-169">Bu parametre hangi konak kilidin Kalıcılık veritabanında yeniler aralığı tanımlar.</span><span class="sxs-lookup"><span data-stu-id="731e4-169">This parameter defines the interval with which the host renews its lock in the persistence database.</span></span> <span data-ttu-id="731e4-170">Bu zaman aralığını kısaltmayı, bir ana bilgisayar veya bilgisayar başarısız olması durumunda iş akışı örnekleri daha hızlı kurtarma olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="731e4-170">Shortening this interval will enable a quicker recovery of the workflow instances in case a host or computer fails.</span></span> <span data-ttu-id="731e4-171">Öte yandan, bir kısa kilidi yenileme dönemi Kalıcılık veritabanı üzerindeki yükü artırır.</span><span class="sxs-lookup"><span data-stu-id="731e4-171">On the other hand, a short lock renewal period increases the load on the persistence database.</span></span> <span data-ttu-id="731e4-172">Kullanan her bir hizmet konağı <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> veritabanı, kilitler yenileme dönemi başına bir kez güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="731e4-172">Each service host that uses the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> will update its locks in the database one time per renewal period.</span></span> <span data-ttu-id="731e4-173">Birçok hizmet konakları çalıştıran bir bilgisayara, sisteminizin performansı kilidi yenileme tarafından neden yük azalmaz emin olun.</span><span class="sxs-lookup"><span data-stu-id="731e4-173">If a computer runs many service hosts, make sure that the load caused by lock renewal does not decrease your system's performance.</span></span> <span data-ttu-id="731e4-174">Artırmayı düşünün <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.HostLockRenewalPeriod%2A>.</span><span class="sxs-lookup"><span data-stu-id="731e4-174">If it does, consider increasing the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.HostLockRenewalPeriod%2A>.</span></span>  
  
 <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceLockedExceptionAction%2A>  
 <span data-ttu-id="731e4-175">Etkinleştirilirse, <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> sonraki 30 saniye için kilitli bir örneği yüklemek için yeniden deneme sayısı.</span><span class="sxs-lookup"><span data-stu-id="731e4-175">If enabled, the <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore> retries to load a locked instance for the next 30 seconds.</span></span> <span data-ttu-id="731e4-176">Ayarlama <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceLockedExceptionAction%2A> BasicRetry veya AggressiveRetry iş akışı, kısa bir süre içinde birden çok ileti alır ve bu iletiler farklı bilgisayarlar tarafından alınır.</span><span class="sxs-lookup"><span data-stu-id="731e4-176">Set <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceLockedExceptionAction%2A> to BasicRetry or AggressiveRetry if the workflow receives multiple messages in a short time, and these messages are received by different computers.</span></span>  
  
 <span data-ttu-id="731e4-177">Yük deneme denenmez sürece yük yeniden deneme mekanizması herhangi bir performans yükü sunmaz çünkü <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceLockedExceptionAction%2A> her zaman etkin olması.</span><span class="sxs-lookup"><span data-stu-id="731e4-177">Because the load retry mechanism does not introduce any performance overhead as long as load retries are not tried, <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceLockedExceptionAction%2A> should always be enabled.</span></span>
