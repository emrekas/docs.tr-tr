---
title: Özel Durumlar
ms.date: 03/30/2017
ms.assetid: 065205cc-52dd-4f30-9578-b17d8d113136
ms.openlocfilehash: 94a0a2430ffe7db47152517c742aed1c18a39e64
ms.sourcegitcommit: 160a88c8087b0e63606e6e35f9bd57fa5f69c168
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/09/2019
ms.locfileid: "57717277"
---
# <a name="exceptions"></a><span data-ttu-id="6d80c-102">Özel Durumlar</span><span class="sxs-lookup"><span data-stu-id="6d80c-102">Exceptions</span></span>
<span data-ttu-id="6d80c-103">İş akışları kullanabilirsiniz <xref:System.Activities.Statements.TryCatch> bir iş akışı yürütme sırasında başlatılan özel durumları işlemek için etkinlik.</span><span class="sxs-lookup"><span data-stu-id="6d80c-103">Workflows can use the <xref:System.Activities.Statements.TryCatch> activity to handle exceptions that are raised during the execution of a workflow.</span></span> <span data-ttu-id="6d80c-104">Bu özel durumlar işlenebilen veya bunlar kullanarak yeniden oluşturulan <xref:System.Activities.Statements.Rethrow> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="6d80c-104">These exceptions can be handled or they can be re-thrown using the <xref:System.Activities.Statements.Rethrow> activity.</span></span> <span data-ttu-id="6d80c-105">Etkinlikler <xref:System.Activities.Statements.TryCatch.Finally%2A> bölümü olan yürütülmesi ya da <xref:System.Activities.Statements.TryCatch.Try%2A> bölüm veya <xref:System.Activities.Statements.TryCatch.Catches%2A> bölüm tamamlar.</span><span class="sxs-lookup"><span data-stu-id="6d80c-105">Activities in the <xref:System.Activities.Statements.TryCatch.Finally%2A> section are executed when either the <xref:System.Activities.Statements.TryCatch.Try%2A> section or the <xref:System.Activities.Statements.TryCatch.Catches%2A> section completes.</span></span> <span data-ttu-id="6d80c-106">İş akışları tarafından barındırılan bir <xref:System.Activities.WorkflowApplication> örneği de kullanabilirsiniz <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> olay işleyici tarafından işlenmeyen özel durumları işlemek için bir <xref:System.Activities.Statements.TryCatch> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="6d80c-106">Workflows hosted by a <xref:System.Activities.WorkflowApplication> instance can also use the <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> event handler to handle exceptions that are not handled by a <xref:System.Activities.Statements.TryCatch> activity.</span></span>  
  
## <a name="causes-of-exceptions"></a><span data-ttu-id="6d80c-107">Özel durumların nedenlerini</span><span class="sxs-lookup"><span data-stu-id="6d80c-107">Causes of Exceptions</span></span>  
 <span data-ttu-id="6d80c-108">Bir iş akışında özel durumları, aşağıdaki yollarla oluşturulabilir:</span><span class="sxs-lookup"><span data-stu-id="6d80c-108">In a workflow, exceptions can be generated in the following ways:</span></span>  
  
-   <span data-ttu-id="6d80c-109">İşlem zaman aşımı <xref:System.Activities.Statements.TransactionScope>.</span><span class="sxs-lookup"><span data-stu-id="6d80c-109">A time-out of transactions in <xref:System.Activities.Statements.TransactionScope>.</span></span>  
  
-   <span data-ttu-id="6d80c-110">İş akışı kullanarak bir açık durum <xref:System.Activities.Statements.Throw> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="6d80c-110">An explicit exception thrown by the workflow using the <xref:System.Activities.Statements.Throw> activity.</span></span>  
  
-   <span data-ttu-id="6d80c-111">A [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] etkinliği özel durum oluştu.</span><span class="sxs-lookup"><span data-stu-id="6d80c-111">A [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] exception thrown from an activity.</span></span>  
  
-   <span data-ttu-id="6d80c-112">Kitaplıklar, bileşenleri veya iş akışında kullanılan hizmetler gibi dış kod özel bir durum oluştu.</span><span class="sxs-lookup"><span data-stu-id="6d80c-112">An exception thrown from external code, such as libraries, components, or services that are used in the workflow.</span></span>  
  
## <a name="handling-exceptions"></a><span data-ttu-id="6d80c-113">Özel Durumları İşleme</span><span class="sxs-lookup"><span data-stu-id="6d80c-113">Handling Exceptions</span></span>  
 <span data-ttu-id="6d80c-114">Bir etkinlik tarafından oluşturulan ve işlenmeyen özel durum, varsayılan iş akışı örneği sonlandırmaya davranışıdır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-114">If an exception is thrown by an activity and is unhandled, the default behavior is to terminate the workflow instance.</span></span> <span data-ttu-id="6d80c-115">Özel durumunda <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> işleyici varsa, bu varsayılan davranışı geçersiz kılabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6d80c-115">If a custom <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> handler is present, it can override this default behavior.</span></span> <span data-ttu-id="6d80c-116">Bu işleyici, iş akışı konak yazarı özel günlüğü, iş akışı iptal etme, iş akışı iptal etme veya iş akışı sonlandırılıyor gibi uygun işleme sağlamak için bir fırsat sağlar.</span><span class="sxs-lookup"><span data-stu-id="6d80c-116">This handler gives the workflow host author an opportunity to provide the appropriate handling, such as custom logging, aborting the workflow, canceling the workflow, or terminating the workflow.</span></span>  <span data-ttu-id="6d80c-117">Bir iş akışı işlenmiyor, bir özel durum harekete geçirirse <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> işleyicisi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-117">If a workflow raises an exception that is not handled, the <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> handler is invoked.</span></span> <span data-ttu-id="6d80c-118">Öğesinden döndürülen üç olası eylemler vardır <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> iş akışının son sonucunu belirlemek.</span><span class="sxs-lookup"><span data-stu-id="6d80c-118">There are three possible actions returned from <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> which determine the final outcome of the workflow.</span></span>  
  
-   <span data-ttu-id="6d80c-119">**İptal** -normal bir çıkış bir dal yürütme iptal edilen iş akışı örneğidir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-119">**Cancel** - A cancelled workflow instance is a graceful exit of a branch execution.</span></span> <span data-ttu-id="6d80c-120">İptal davranışını (örneğin, bir CancellationScope etkinlik kullanarak) modelleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6d80c-120">You can model cancelation behavior (for example, by using a CancellationScope activity).</span></span> <span data-ttu-id="6d80c-121">İptal işlemi tamamlandığında tamamlanan işleyicisi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-121">The Completed handler is invoked when the cancellation process completes.</span></span> <span data-ttu-id="6d80c-122">İptal edilen bir iş akışı başlatılırken iptal edildi durumdadır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-122">A cancelled workflow is in the Cancelled state.</span></span>  
  
-   <span data-ttu-id="6d80c-123">**Sonlandırma** -sonlandırılan bir iş akışı örneği yeniden başlatıldı veya sürdürülemez.</span><span class="sxs-lookup"><span data-stu-id="6d80c-123">**Terminate** - A terminated workflow instance cannot be resumed or restarted.</span></span>  <span data-ttu-id="6d80c-124">Bu, bir özel durum sona erdirildi nedeni olarak sağlamak tamamlandı olay tetiklenir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-124">This triggers the Completed event in which you can provide an exception as the reason it was terminated.</span></span> <span data-ttu-id="6d80c-125">Sonlandırma işlemi tamamlandığında kesildi işleyicisi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-125">The Terminated handler is invoked when the termination process completes.</span></span> <span data-ttu-id="6d80c-126">Sonlandırılan bir iş akışı hatalı durumda.</span><span class="sxs-lookup"><span data-stu-id="6d80c-126">A terminated workflow is in the Faulted state.</span></span>  
  
-   <span data-ttu-id="6d80c-127">**Abort** -yalnızca bunu kalıcı olması için yapılandırılmış olması halinde bir iptal edilen iş akışı örnekleri devam ettirilebilir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-127">**Abort** - An aborted workflow instances can be resumed only if it has been configured to be persistent.</span></span>  <span data-ttu-id="6d80c-128">Kalıcılık, bir iş akışı devam ettirilemez.</span><span class="sxs-lookup"><span data-stu-id="6d80c-128">Without persistence, a workflow cannot be resumed.</span></span>  <span data-ttu-id="6d80c-129">Bir noktada bir iş akışı (bellekte) son Kalıcılık noktası kaybolacak bu yana gerçekleştirilen tüm işleri iptal edilir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-129">At the point a workflow is aborted, any work done (in memory) since the last persistence point will be lost.</span></span> <span data-ttu-id="6d80c-130">İptal edilen bir iş akışı için Aborted durdurma işlemi tamamlandıktan sonra özel durumun nedeni kullanarak çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-130">For an aborted workflow, the Aborted handler is invoked using the exception as the reason when the abort process completes.</span></span> <span data-ttu-id="6d80c-131">Ancak, iptal edildi ve kesildi aksine, tamamlanan işleyici çağrılmaz.</span><span class="sxs-lookup"><span data-stu-id="6d80c-131">However, unlike Cancelled and Terminated, the Completed handler is not invoked.</span></span> <span data-ttu-id="6d80c-132">İptal edilen bir iş akışı bir iptal edildi durumda.</span><span class="sxs-lookup"><span data-stu-id="6d80c-132">An aborted workflow is in an Aborted state.</span></span>  
  
 <span data-ttu-id="6d80c-133">Aşağıdaki örnek bir özel durum oluşturur, bir iş akışı çağırır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-133">The following example invokes a workflow that throws an exception.</span></span> <span data-ttu-id="6d80c-134">Özel durum, iş akışı tarafından işlenmeyen ve <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> işleyici çağrılır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-134">The exception is unhandled by the workflow and the <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> handler is invoked.</span></span> <span data-ttu-id="6d80c-135"><xref:System.Activities.WorkflowApplicationUnhandledExceptionEventArgs> Özel durum hakkında bilgi sağlamak için incelenir ve iş akışı sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-135">The <xref:System.Activities.WorkflowApplicationUnhandledExceptionEventArgs> are inspected to provide information about the exception, and the workflow is terminated.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#1](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#1)]  
  
### <a name="handling-exceptions-with-the-trycatch-activity"></a><span data-ttu-id="6d80c-136">TryCatch etkinlik ile özel durumları işleme</span><span class="sxs-lookup"><span data-stu-id="6d80c-136">Handling Exceptions with the TryCatch Activity</span></span>  
 <span data-ttu-id="6d80c-137">Bir iş akışı içinde özel durum işleme ile gerçekleştirilir <xref:System.Activities.Statements.TryCatch> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="6d80c-137">Handling exceptions inside a workflow is performed with the <xref:System.Activities.Statements.TryCatch> activity.</span></span> <span data-ttu-id="6d80c-138"><xref:System.Activities.Statements.TryCatch> Etkinliğinde bir <xref:System.Activities.Statements.TryCatch.Catches%2A> koleksiyonunu <xref:System.Activities.Statements.Catch> her etkinlikleri ile belirli bir ilişkili <xref:System.Exception> türü.</span><span class="sxs-lookup"><span data-stu-id="6d80c-138">The <xref:System.Activities.Statements.TryCatch> activity has a <xref:System.Activities.Statements.TryCatch.Catches%2A> collection of <xref:System.Activities.Statements.Catch> activities that are each associated with a specific <xref:System.Exception> type.</span></span> <span data-ttu-id="6d80c-139">Varsa bulunan bir etkinlik tarafından oluşturulan özel durum <xref:System.Activities.Statements.TryCatch.Try%2A> bölümünü bir <xref:System.Activities.Statements.TryCatch> etkinlik özel durumu, eşleşen bir <xref:System.Activities.Statements.Catch%601> etkinliğinde <xref:System.Activities.Statements.TryCatch.Catches%2A> koleksiyonu ve ardından özel durumu ele alınır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-139">If the exception thrown by an activity that is contained in the <xref:System.Activities.Statements.TryCatch.Try%2A> section of a <xref:System.Activities.Statements.TryCatch> activity matches the exception of a <xref:System.Activities.Statements.Catch%601> activity in the <xref:System.Activities.Statements.TryCatch.Catches%2A> collection, then the exception is handled.</span></span> <span data-ttu-id="6d80c-140">Özel durum açıkça yeniden oluşturulmuş veya yeni bir özel durum, ardından bu özel durum üst etkinliğine geçirir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-140">If the exception is explicitly re-thrown or a new exception is thrown then this exception passes up to the parent activity.</span></span> <span data-ttu-id="6d80c-141">Aşağıdaki kod örnekte gösterildiği bir <xref:System.Activities.Statements.TryCatch> işleyen etkinliği bir <xref:System.ApplicationException> oluşturulan <xref:System.Activities.Statements.TryCatch.Try%2A> tarafından bölümünde bir <xref:System.Activities.Statements.Throw> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="6d80c-141">The following code example shows a <xref:System.Activities.Statements.TryCatch> activity that handles an <xref:System.ApplicationException> that is thrown in the <xref:System.Activities.Statements.TryCatch.Try%2A> section by a <xref:System.Activities.Statements.Throw> activity.</span></span> <span data-ttu-id="6d80c-142">Özel durumun iletisi Konsolu tarafından yazılan <xref:System.Activities.Statements.Catch%601> konsolda etkinliği ve bir ileti yazılır <xref:System.Activities.Statements.TryCatch.Finally%2A> bölümü.</span><span class="sxs-lookup"><span data-stu-id="6d80c-142">The exception's message is written to the console by the <xref:System.Activities.Statements.Catch%601> activity, and then a message is written to the console in the <xref:System.Activities.Statements.TryCatch.Finally%2A> section.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#33](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#33)]  
  
 <span data-ttu-id="6d80c-143">Etkinlikler, <xref:System.Activities.Statements.TryCatch.Finally%2A> bölümü olan yürütülmesi ya da <xref:System.Activities.Statements.TryCatch.Try%2A> bölüm veya <xref:System.Activities.Statements.TryCatch.Catches%2A> bölümü başarıyla tamamlar.</span><span class="sxs-lookup"><span data-stu-id="6d80c-143">The activities in the <xref:System.Activities.Statements.TryCatch.Finally%2A> section are executed when either the <xref:System.Activities.Statements.TryCatch.Try%2A> section or the <xref:System.Activities.Statements.TryCatch.Catches%2A> section successfully completes.</span></span> <span data-ttu-id="6d80c-144"><xref:System.Activities.Statements.TryCatch.Try%2A> Bölümü başarıyla tamamlandığında kendisinden özel hiçbir özel durum oluşursa ve <xref:System.Activities.Statements.TryCatch.Catches%2A> bölümü başarıyla tamamlandığında hiçbir özel durum oluşturulur veya ondan yeniden atılır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-144">The <xref:System.Activities.Statements.TryCatch.Try%2A> section successfully completes if no exceptions are thrown from it, and the <xref:System.Activities.Statements.TryCatch.Catches%2A> section successfully completes if no exceptions are thrown or rethrown from it.</span></span> <span data-ttu-id="6d80c-145">Bir özel durum oluşturulursa <xref:System.Activities.Statements.TryCatch.Try%2A> bölümünü bir <xref:System.Activities.Statements.TryCatch> ve ya da tarafından işlenmiyor bir <xref:System.Activities.Statements.Catch%601> içinde <xref:System.Activities.Statements.TryCatch.Catches%2A> bölümünde veya gelen fırlatılan <xref:System.Activities.Statements.TryCatch.Catches%2A>, etkinlikler, <xref:System.Activities.Statements.TryCatch.Finally%2A> sürece yürütülmez aşağıdakilerden biri gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-145">If an exception is thrown in the <xref:System.Activities.Statements.TryCatch.Try%2A> section of a <xref:System.Activities.Statements.TryCatch> and is either not handled by a <xref:System.Activities.Statements.Catch%601> in the <xref:System.Activities.Statements.TryCatch.Catches%2A> section, or is rethrown from the <xref:System.Activities.Statements.TryCatch.Catches%2A>, the activities in the <xref:System.Activities.Statements.TryCatch.Finally%2A> will not be executed unless the one of the following occurs.</span></span>  
  
-   <span data-ttu-id="6d80c-146">Daha yüksek bir düzeye göre özel durum yakalandı <xref:System.Activities.Statements.TryCatch> olup, daha yüksek bir düzeyinden fırlatılan bağımsız olarak iş akışında etkinlik <xref:System.Activities.Statements.TryCatch>.</span><span class="sxs-lookup"><span data-stu-id="6d80c-146">The exception is caught by a higher level <xref:System.Activities.Statements.TryCatch> activity in the workflow, regardless of whether it is rethrown from that higher level <xref:System.Activities.Statements.TryCatch>.</span></span>  
  
-   <span data-ttu-id="6d80c-147">Özel durum daha yüksek düzeyde tarafından işlenmiyor <xref:System.Activities.Statements.TryCatch>, iş akışını ve iş akışı kök yerine sonlandırma iptal veya iptal etmek için yapılandırılmış çıkar.</span><span class="sxs-lookup"><span data-stu-id="6d80c-147">The exception is not handled by a higher level <xref:System.Activities.Statements.TryCatch>, escapes the root of the workflow, and the workflow is configured to cancel instead of terminate or abort.</span></span> <span data-ttu-id="6d80c-148">İş akışlarını kullanarak barındırılan <xref:System.Activities.WorkflowApplication> işleyerek yapılandırabilirsiniz <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> ve döndürerek <xref:System.Activities.UnhandledExceptionAction.Cancel>.</span><span class="sxs-lookup"><span data-stu-id="6d80c-148">Workflows hosted using <xref:System.Activities.WorkflowApplication> can configure this by handling <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> and returning <xref:System.Activities.UnhandledExceptionAction.Cancel>.</span></span> <span data-ttu-id="6d80c-149">İşleme örneği <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> bu konuda daha önce sağlanır.</span><span class="sxs-lookup"><span data-stu-id="6d80c-149">An example of handling <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A> is provided previously in this topic.</span></span> <span data-ttu-id="6d80c-150">İş akışı Hizmetleri bu kullanarak konusunda yapılandırabilir <xref:System.ServiceModel.Activities.Description.WorkflowUnhandledExceptionBehavior> belirterek <xref:System.ServiceModel.Activities.Description.WorkflowUnhandledExceptionAction.Cancel>.</span><span class="sxs-lookup"><span data-stu-id="6d80c-150">Workflow services can configure this by using <xref:System.ServiceModel.Activities.Description.WorkflowUnhandledExceptionBehavior> and specifying <xref:System.ServiceModel.Activities.Description.WorkflowUnhandledExceptionAction.Cancel>.</span></span> <span data-ttu-id="6d80c-151">Yapılandırma örneği için <xref:System.ServiceModel.Activities.Description.WorkflowUnhandledExceptionBehavior>, bkz: [iş akışı hizmeti konak genişletilebilirliği](../wcf/feature-details/workflow-service-host-extensibility.md).</span><span class="sxs-lookup"><span data-stu-id="6d80c-151">For an example of configuring <xref:System.ServiceModel.Activities.Description.WorkflowUnhandledExceptionBehavior>, see [Workflow Service Host Extensibility](../wcf/feature-details/workflow-service-host-extensibility.md).</span></span>  
  
## <a name="exception-handling-versus-compensation"></a><span data-ttu-id="6d80c-152">Özel durum işleme maaş</span><span class="sxs-lookup"><span data-stu-id="6d80c-152">Exception Handling versus Compensation</span></span>  
 <span data-ttu-id="6d80c-153">Özel durum işleme ve maaş arasındaki fark özel durum işleme bir etkinliği yürütülmesi sırasında gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-153">The difference between exception handling and compensation is that exception handling occurs during the execution of an activity.</span></span> <span data-ttu-id="6d80c-154">Bir etkinlik başarıyla tamamlandıktan sonra maaş gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="6d80c-154">Compensation occurs after an activity has successfully completed.</span></span> <span data-ttu-id="6d80c-155">Özel durum işleme maaş tarafından başarıyla tamamlanan iş önceden tamamlanmış bir etkinliğin Al. geri alınabilecek bir mekanizma sağlar. etkinlik özel durumu oluşturur sonra temizleme fırsatı sağlar.</span><span class="sxs-lookup"><span data-stu-id="6d80c-155">Exception handling provides an opportunity to clean up after the activity raises the exception, whereas compensation provides a mechanism by which the successfully completed work of a previously completed activity can be undone.</span></span> <span data-ttu-id="6d80c-156">Daha fazla bilgi için [maaş](compensation.md).</span><span class="sxs-lookup"><span data-stu-id="6d80c-156">For more information, see [Compensation](compensation.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6d80c-157">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="6d80c-157">See also</span></span>
- <xref:System.Activities.Statements.TryCatch>
- <xref:System.Activities.WorkflowApplication.OnUnhandledException%2A>
- <xref:System.Activities.Statements.CompensableActivity>
