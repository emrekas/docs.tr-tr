---
title: Örnek Kilitli Özel Durum Eylemi
ms.date: 03/30/2017
ms.assetid: 164a5419-315c-4987-ad72-54cbdb88d402
ms.openlocfilehash: 0cb39c51436271999c66c30210e0da79adc92e72
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59326157"
---
# <a name="instance-locked-exception-action"></a>Örnek Kilitli Özel Durum Eylemi
<xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore.InstanceLockedExceptionAction%2A> SQL iş akışı örneği Store özelliğini SQL kalıcı bir sağlayıcı tarafından alındığında sürecektir hangi eylemin belirtmenizi sağlar bir <xref:System.Runtime.DurableInstancing.InstanceLockedException>. Başka bir hizmet ana bilgisayarı tarafından şu anda kilitli bir iş akışı hizmeti örneği kilitlemek çalıştığında kalıcı bir sağlayıcı, bu özel durumu alır. Bu özellik için değerler <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.NoRetry>, <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.BasicRetry>, ve <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.AggressiveRetry>. Varsayılan değer <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.NoRetry> şeklindedir. Aşağıdaki liste, üç seçenek açıklanmaktadır:  
  
-   <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.NoRetry>. Hizmet ana bilgisayarı, iş akışı hizmet örneği ve geçişleri kilitlemek denemez <xref:System.Runtime.DurableInstancing.InstanceLockedException> çağırana.  İş akışınızı 60 saniye aşan bir süre için bellekte kalır kullanırsanız <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.NoRetry> olarak yeniden deneyin. Varsayılan değer <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.NoRetry> şeklindedir.  
  
-   <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.BasicRetry>. Hizmet ana bilgisayarı tekrar dener iş akışı hizmeti örneğine doğrusal bir aralıkta yeniden deneme girişimleri arasındaki geçişleri kilitlemek <xref:System.Runtime.DurableInstancing.InstanceLockedException> dizisi sonunda çağırana. Yaklaşık 5-60 saniye arasında bellekte, iş akışı kalır ve iletiler geldiğinde toplu olarak aynı konakta aynı örneğine iş akışı yüklemesini kaldırmadan önce tüm iletileri işlemek için gönderilen iletiler kullanmak için büyük olasılıkla olduğu <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.BasicRetry> için en iyi gecikme süresi, kaynak israfı yapmadan elde edin.  
  
-   <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.AggressiveRetry>. Hizmet Konağı bir üstel geri alma aralığı yeniden deneme girişimleri arasındaki iş akışı hizmeti örnekle kilitlemek tekrar dener ve dizisi sonunda çağırana özel durum geçirir. İş akışınızı kalırsa bellekte kısa bir süre (5 saniyeden kısa) veya bir Web grubu büyük ve başka bir ileti aynı konağa teslim edilen olasılığını çok yüksek değil, kullanın <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.AggressiveRetry> en iyi gecikme süresi elde etmek için.  
  
 Örnek kilitli özel durum eylemi özelliği aşağıdaki senaryoları destekler. Tüm senaryolarda, SqlWorkflowInstanceStore instanceLockedExceptionAction özelliği ayarlanmışsa <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.BasicRetry> veya <xref:System.Activities.DurableInstancing.InstanceLockedExceptionAction.AggressiveRetry>, kilidi örneklerinde düzenli aralıklarla almak için konağı şeffaf bir şekilde yeniden dener.  
  
1. **Normal şekilde kapatılmasını etkinleştirmek ve uygulama etki alanları örtüşen geri dönüştürülüyor.** Varsayalım bir **AppDomain** sahip hizmet ana iş akışını çalıştıran hizmet örnekleri geri yeni bir ettiğinden **AppDomain** paralel eski sırasında yeni isteklerini işlemek için duruma  **AppDomain** düzgün bir şekilde getirilir. Kapatma iş akışı hizmet örneklerine boşta olana kadar bekler ve ardından devam ediyorsa ve örneklerini kaldırır. Yeni ana bilgisayar tarafından girişimlerini **AppDomain** örneği kilitlemek neden olacak bir <xref:System.Runtime.DurableInstancing.InstanceLockedException>.  
  
2. **Yatay olarak dayanıklı iş akışlarını sunucularının homojen bir grubu üzerinde ölçeklendirme.** Kilitlenme bir iş akışı örneğinin çalıştığı bir sunucu grubunun bir düğümü varsayalım ve iş akışı ana bilgisayarı örneğinde çalıştığı kilitleri kaldıramazsınız. Gruptaki başka bir düğümde çalışan bir hizmet konağı, iş akışı örneği için bir ileti aldığında, bu örnekler, alacağı kilitler almaya çalışır <xref:System.Runtime.DurableInstancing.InstanceLockedException>. Kilidi yenilemek için gereken ana bilgisayar artık mevcut olmadığından kilitler süre sonra sona erecek.  
  
     **Yatay olarak dayanıklı iş akışlarını sunucularının homojen bir grubu üzerinde ölçeklendirme.**  Bir NLB (Ağ Yükü dengeleyici) arkasında birden fazla konak kullanarak dayanıklı bir iş akışı yatay olarak genişletmek istiyorsanız, bir grubu düğümü üzerinde çalışan iş akışı ana bilgisayarı bir iş akışı örneğini yükler ve bir ileti işleme ve sonraki iletiyi örneğine yönlendirilir varsayalım NLB ana bilgisayara iletileri ulaştırmak üzere yönlendirme algoritması sahip olmadığından, başka bir düğümde çalışan konak, örneği zaten çalışıyor. İletiyi alır almaz, ikinci ana iş akışı örneğini yüklemeye çalışır ve alan <xref:System.Runtime.DurableInstancing.InstanceLockedException> ilk ana bilgisayar örneği üzerinde bir kilit olduğundan. İlk ana bilgisayar örneği ile ilk ileti işleme tamamlandıktan ve sonraki yeniden deneme sayısı, örneğini yükler ve ikinci bir ileti işler ikinci ana bilgisayar kilit alması kilidini açar.
