---
title: WorkflowInvoker ve WorkflowApplication Kullanma
ms.date: 03/30/2017
ms.assetid: cd0e583c-a3f9-4fa2-b247-c7b3368c48a7
ms.openlocfilehash: 29d152cd6011fb3b55aae60726d095dc44dd23a5
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61669569"
---
# <a name="using-workflowinvoker-and-workflowapplication"></a><span data-ttu-id="71735-102">WorkflowInvoker ve WorkflowApplication Kullanma</span><span class="sxs-lookup"><span data-stu-id="71735-102">Using WorkflowInvoker and WorkflowApplication</span></span>
<span data-ttu-id="71735-103">Windows Workflow Foundation (WF) iş akışları barındırma çeşitli yöntemler sunar.</span><span class="sxs-lookup"><span data-stu-id="71735-103">Windows Workflow Foundation (WF) provides several methods of hosting workflows.</span></span> <span data-ttu-id="71735-104"><xref:System.Activities.WorkflowInvoker> bir yöntem çağrısının olan ve kalıcılığı kullanmayan yalnızca iş akışları için kullanılabilir gibi bir iş akışı çalıştırmak için basit bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="71735-104"><xref:System.Activities.WorkflowInvoker> provides a simple way for invoking a workflow as if it were a method call and can be used only for workflows that do not use persistence.</span></span> <span data-ttu-id="71735-105"><xref:System.Activities.WorkflowApplication> yaşam döngüsü olayları, yürütme denetimi, yer imi sürdürme ve Kalıcılık bildirimi içeren iş akışlarını yürütmek için daha zengin bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="71735-105"><xref:System.Activities.WorkflowApplication> provides a richer model for executing workflows that includes notification of lifecycle events, execution control, bookmark resumption, and persistence.</span></span> <span data-ttu-id="71735-106"><xref:System.ServiceModel.Activities.WorkflowServiceHost> Mesajlaşma etkinlikleri için destek sağlar ve öncelikli olarak iş akışı Hizmetleri ile kullanılır.</span><span class="sxs-lookup"><span data-stu-id="71735-106"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides support for messaging activities and is primarily used with workflow services.</span></span> <span data-ttu-id="71735-107">Bu konu ile iş akışı barındırma için tanıtır <xref:System.Activities.WorkflowInvoker> ve <xref:System.Activities.WorkflowApplication>.</span><span class="sxs-lookup"><span data-stu-id="71735-107">This topic introduces you to workflow hosting with <xref:System.Activities.WorkflowInvoker> and <xref:System.Activities.WorkflowApplication>.</span></span> <span data-ttu-id="71735-108">İş akışlarıyla barındırma hakkında daha fazla bilgi için <xref:System.ServiceModel.Activities.WorkflowServiceHost>, bkz: [iş akışı Hizmetleri](../wcf/feature-details/workflow-services.md) ve [iş akışı hizmetlerini barındırma genel bakış](../wcf/feature-details/hosting-workflow-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="71735-108">For more information about hosting workflows with <xref:System.ServiceModel.Activities.WorkflowServiceHost>, see [Workflow Services](../wcf/feature-details/workflow-services.md) and [Hosting Workflow Services Overview](../wcf/feature-details/hosting-workflow-services-overview.md).</span></span>  
  
## <a name="using-workflowinvoker"></a><span data-ttu-id="71735-109">Workflowınvoker kullanma</span><span class="sxs-lookup"><span data-stu-id="71735-109">Using WorkflowInvoker</span></span>  
 <span data-ttu-id="71735-110"><xref:System.Activities.WorkflowInvoker> bir yöntem çağrısının değilmiş gibi bir iş akışını yürütmek için bir model sağlar.</span><span class="sxs-lookup"><span data-stu-id="71735-110"><xref:System.Activities.WorkflowInvoker> provides a model for executing a workflow as if it were a method call.</span></span> <span data-ttu-id="71735-111">Bir iş akışı kullanılarak çağrılacak <xref:System.Activities.WorkflowInvoker>, çağrı <xref:System.Activities.WorkflowInvoker.Invoke%2A> yöntemi ve çağırmak için iş akışının iş akışı tanımı geçirin.</span><span class="sxs-lookup"><span data-stu-id="71735-111">To invoke a workflow using <xref:System.Activities.WorkflowInvoker>, call the <xref:System.Activities.WorkflowInvoker.Invoke%2A> method and pass in the workflow definition of the workflow to invoke.</span></span> <span data-ttu-id="71735-112">Bu örnekte, bir <xref:System.Activities.Statements.WriteLine> etkinliği kullanarak çağrıldığında <xref:System.Activities.WorkflowInvoker>.</span><span class="sxs-lookup"><span data-stu-id="71735-112">In this example, a <xref:System.Activities.Statements.WriteLine> activity is invoked using <xref:System.Activities.WorkflowInvoker>.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#1](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#1)]  
  
 <span data-ttu-id="71735-113">Bir iş akışı kullanarak çağrıldığında <xref:System.Activities.WorkflowInvoker>, iş akışını çağıran iş parçacığında yürütülür ve <xref:System.Activities.WorkflowInvoker.Invoke%2A> yöntemi, iş akışı herhangi bir boşta kalma süresi de dahil olmak üzere tamamlanıncaya kadar engeller.</span><span class="sxs-lookup"><span data-stu-id="71735-113">When a workflow is invoked using <xref:System.Activities.WorkflowInvoker>, the workflow executes on the calling thread and the <xref:System.Activities.WorkflowInvoker.Invoke%2A> method blocks until the workflow is complete, including any idle time.</span></span> <span data-ttu-id="71735-114">İş akışı tamamlamalısınız bir zaman aşımı aralığı yapılandırmak için aşağıdakilerden birini kullanın: <xref:System.Activities.WorkflowInvoker.Invoke%2A> alan aşırı yüklemeler bir <xref:System.TimeSpan> parametresi.</span><span class="sxs-lookup"><span data-stu-id="71735-114">To configure a time-out interval in which the workflow must complete, use one of the <xref:System.Activities.WorkflowInvoker.Invoke%2A> overloads that takes a <xref:System.TimeSpan> parameter.</span></span> <span data-ttu-id="71735-115">Bu örnekte, iki farklı zaman aşımı aralığı ile bir iş akışı çağrılır.</span><span class="sxs-lookup"><span data-stu-id="71735-115">In this example, a workflow is invoked twice with two different time-out intervals.</span></span> <span data-ttu-id="71735-116">İlk iş akışı tamamlandıktan, ancak ikinci desteklemez.</span><span class="sxs-lookup"><span data-stu-id="71735-116">The first workflow complets, but the second does not.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#50](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#50)]  
  
> [!NOTE]
>  <span data-ttu-id="71735-117"><xref:System.TimeoutException> Yalnızca yürütme sırasında iş akışı boş olur ve zaman aşımı aralığı sona erdiğinde, oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="71735-117">The <xref:System.TimeoutException> is only thrown if the time-out interval elapses and the workflow becomes idle during execution.</span></span> <span data-ttu-id="71735-118">İş akışı boş hale gelmezse, tamamlamak için belirtilen zaman aşımı aralığından daha uzun sürer bir iş akışı başarıyla tamamlar.</span><span class="sxs-lookup"><span data-stu-id="71735-118">A workflow that takes longer than the specified time-out interval to complete completes successfully if the workflow does not become idle.</span></span>  
  
 <span data-ttu-id="71735-119"><xref:System.Activities.WorkflowInvoker> Ayrıca Invoke yöntemi zaman uyumsuz sürümlerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="71735-119"><xref:System.Activities.WorkflowInvoker> also provides asynchronous versions of the invoke method.</span></span> <span data-ttu-id="71735-120">Daha fazla bilgi için bkz. <xref:System.Activities.WorkflowInvoker.InvokeAsync%2A> ve <xref:System.Activities.WorkflowInvoker.BeginInvoke%2A>.</span><span class="sxs-lookup"><span data-stu-id="71735-120">For more information, see <xref:System.Activities.WorkflowInvoker.InvokeAsync%2A> and <xref:System.Activities.WorkflowInvoker.BeginInvoke%2A>.</span></span>  
  
### <a name="setting-input-arguments-of-a-workflow"></a><span data-ttu-id="71735-121">Ayar giriş bağımsız değişkenleri bir iş akışı</span><span class="sxs-lookup"><span data-stu-id="71735-121">Setting Input Arguments of a Workflow</span></span>  
 <span data-ttu-id="71735-122">Veri Sözlüğü eşleyen bir iş akışı giriş bağımsız değişkenleri, bağımsız değişken adına göre anahtarlanır giriş parametrelerini kullanarak bir iş akışı içinde geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="71735-122">Data can be passed into a workflow using a dictionary of input parameters, keyed by argument name, that map to the input arguments of the workflow.</span></span> <span data-ttu-id="71735-123">Bu örnekte, bir <xref:System.Activities.Statements.WriteLine> çağrılır ve değeri kendi <xref:System.Activities.Statements.WriteLine.Text%2A> bağımsız değişkeni, girdi parametrelerinin sözlüğünü kullanarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="71735-123">In this example, a <xref:System.Activities.Statements.WriteLine> is invoked and the value for its <xref:System.Activities.Statements.WriteLine.Text%2A> argument is specified using the dictionary of input parameters.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#3](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#3)]  
  
### <a name="retrieving-output-arguments-of-a-workflow"></a><span data-ttu-id="71735-124">Çıkış değişkenleri bir iş akışı alınıyor</span><span class="sxs-lookup"><span data-stu-id="71735-124">Retrieving Output Arguments of a Workflow</span></span>  
 <span data-ttu-id="71735-125">Bir iş akışının çıkış parametreleri çağrısından döndürülen çıkış sözlüğünü kullanarak elde edilebilir <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span><span class="sxs-lookup"><span data-stu-id="71735-125">The output parameters of a workflow can be obtained using the outputs dictionary that is returned from the call to <xref:System.Activities.WorkflowInvoker.Invoke%2A>.</span></span> <span data-ttu-id="71735-126">Aşağıdaki örnek tek bir oluşan bir iş akışını çağırır `Divide` iki giriş bağımsız değişkenleri ve iki bağımsız değişken çıkış, etkinlik.</span><span class="sxs-lookup"><span data-stu-id="71735-126">The following example invokes a workflow consisting of a single `Divide` activity that has two input arguments and two output arguments.</span></span> <span data-ttu-id="71735-127">İş akışı çağrıldığında `arguments` her bağımsız değişken, bağımsız değişken adına göre anahtarlanır giriş değerlerini içeren sözlük geçirilir.</span><span class="sxs-lookup"><span data-stu-id="71735-127">When the workflow is invoked, the `arguments` dictionary is passed which contains the values for each input argument, keyed by argument name.</span></span> <span data-ttu-id="71735-128">Zaman çağrısı `Invoke` döndürür, her çıkış bağımsız değişkeni döndürülür `outputs` da bağımsız değişken adına göre anahtarlanır sözlüğü.</span><span class="sxs-lookup"><span data-stu-id="71735-128">When the call to `Invoke` returns, each output argument is returned in the `outputs` dictionary, also keyed by argument name.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#120](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#120)]  
  
 [!code-csharp[CFX_WorkflowInvokerExample#20](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#20)]  
  
 <span data-ttu-id="71735-129">İş akışı türetildiği varsa <xref:System.Activities.ActivityWithResult>, gibi `CodeActivity<TResult>` veya `Activity<TResult>`, ve iyi tanımlanmış yanı sıra çıkış değişkenlerini <xref:System.Activities.Activity%601.Result%2A> çıkış bağımsız değişkeni, genel olmayan aşırı yüklemesini `Invoke` almak için kullanılması gerekir Ek bağımsız değişkenler.</span><span class="sxs-lookup"><span data-stu-id="71735-129">If the workflow derives from <xref:System.Activities.ActivityWithResult>, such as `CodeActivity<TResult>` or `Activity<TResult>`, and there are output arguments in addition to the well-defined <xref:System.Activities.Activity%601.Result%2A> output argument, a non-generic overload of `Invoke` must be used in order to retrieve the additional arguments.</span></span> <span data-ttu-id="71735-130">Bunu yapmak için yöntemlere iş akışı tanımı geçirilen `Invoke` türünde olmalıdır <xref:System.Activities.Activity>.</span><span class="sxs-lookup"><span data-stu-id="71735-130">To do this, the workflow definition passed into `Invoke` must be of type <xref:System.Activities.Activity>.</span></span> <span data-ttu-id="71735-131">Bu örnekte `Divide` etkinlik türetilir `CodeActivity<int>`, olarak bildirilmiş ancak <xref:System.Activities.Activity> genel olmayan bir aşırı yükleme böylece `Invoke` olan kullanılan bağımsız değişkenler tek bir dönüş değeri yerine bir sözlüğü döndürür.</span><span class="sxs-lookup"><span data-stu-id="71735-131">In this example the `Divide` activity derives from `CodeActivity<int>`, but is declared as <xref:System.Activities.Activity> so that a non-generic overload of `Invoke` is used which returns a dictionary of arguments instead of a single return value.</span></span>  
  
 [!code-csharp[CFX_WorkflowInvokerExample#121](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#121)]  
  
 [!code-csharp[CFX_WorkflowInvokerExample#21](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowinvokerexample/cs/program.cs#21)]  
  
## <a name="using-workflowapplication"></a><span data-ttu-id="71735-132">WorkflowApplication kullanma</span><span class="sxs-lookup"><span data-stu-id="71735-132">Using WorkflowApplication</span></span>  
 <span data-ttu-id="71735-133"><xref:System.Activities.WorkflowApplication> İş akışı örnek yönetimi için zengin bir özellikler kümesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="71735-133"><xref:System.Activities.WorkflowApplication> provides a rich set of features for workflow instance management.</span></span> <span data-ttu-id="71735-134"><xref:System.Activities.WorkflowApplication> Gerçek iş parçacığı güvenli proxy görevi gören <xref:System.Activities.Hosting.WorkflowInstance>, çalışma zamanını saklar ve oluşturma ve iş akışı örneği yükleniyor, duraklatma ve sürdürme, sonlandırma ve yaşam döngüsü olaylarını bildirilmesi için yöntemler sağlar.</span><span class="sxs-lookup"><span data-stu-id="71735-134"><xref:System.Activities.WorkflowApplication> acts as a thread safe proxy to the actual  <xref:System.Activities.Hosting.WorkflowInstance>, which encapsulates the runtime, and provides methods for creating and loading workflow instances, pausing and resuming, terminating, and notification of lifecycle events.</span></span> <span data-ttu-id="71735-135">Kullanan bir iş akışında çalıştırmak için <xref:System.Activities.WorkflowApplication> oluşturduğunuz <xref:System.Activities.WorkflowApplication>, istenen yaşam döngüsü olaylara abone olma, iş akışını başlatmak ve bitmesini bekleyin.</span><span class="sxs-lookup"><span data-stu-id="71735-135">To run a workflow using <xref:System.Activities.WorkflowApplication> you create the <xref:System.Activities.WorkflowApplication>, subscribe to any desired lifecycle events, start the workflow, and then wait for it to finish.</span></span> <span data-ttu-id="71735-136">Bu örnekte, bir iş akışı tanımı, oluşur bir <xref:System.Activities.Statements.WriteLine> etkinlik oluşturulur ve <xref:System.Activities.WorkflowApplication> belirtilen iş akışı tanımı kullanılarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="71735-136">In this example, a workflow definition that consists of a <xref:System.Activities.Statements.WriteLine> activity is created and a <xref:System.Activities.WorkflowApplication> is created using the specified workflow definition.</span></span> <span data-ttu-id="71735-137"><xref:System.Activities.WorkflowApplication.Completed%2A> olan iş akışı tamamlandığında konak bildirilir için işlenen, bir çağrı iş akışı başlatılır <xref:System.Activities.WorkflowApplication.Run%2A>, ve ardından konak tamamlamak iş akışı için bekler.</span><span class="sxs-lookup"><span data-stu-id="71735-137"><xref:System.Activities.WorkflowApplication.Completed%2A> is handled so the host is notified when the workflow completes, the workflow is started with a call to <xref:System.Activities.WorkflowApplication.Run%2A>, and then the host waits for the workflow to complete.</span></span> <span data-ttu-id="71735-138">İş akışı tamamlandığında <xref:System.Threading.AutoResetEvent> kümesi ve ana bilgisayar aşağıdaki örnekte gösterildiği gibi uygulama yürütme, devam.</span><span class="sxs-lookup"><span data-stu-id="71735-138">When the workflow completes, the <xref:System.Threading.AutoResetEvent> is set and the host application can resume execution, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#31](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#31)]  
  
### <a name="workflowapplication-lifecycle-events"></a><span data-ttu-id="71735-139">WorkflowApplication yaşam döngüsü olayları</span><span class="sxs-lookup"><span data-stu-id="71735-139">WorkflowApplication Lifecycle Events</span></span>  
 <span data-ttu-id="71735-140">Ek olarak <xref:System.Activities.WorkflowApplication.Completed%2A>, konak yazarları bildirim iş akışı kaldırıldığında (<xref:System.Activities.WorkflowApplication.Unloaded%2A>), durduruldu (<xref:System.Activities.WorkflowApplication.Aborted%2A>), boş olur (<xref:System.Activities.WorkflowApplication.Idle%2A> ve <xref:System.Activities.WorkflowApplication.PersistableIdle%2A>), veya işlenmeyen bir özel durum oluşur (<xref:System.Activities.WorkflowApplication.OnUnhandledException%2A>).</span><span class="sxs-lookup"><span data-stu-id="71735-140">In addition to <xref:System.Activities.WorkflowApplication.Completed%2A>, host authors can be notified when a workflow is unloaded (<xref:System.Activities.WorkflowApplication.Unloaded%2A>), aborted (<xref:System.Activities.WorkflowApplication.Aborted%2A>), becomes idle (<xref:System.Activities.WorkflowApplication.Idle%2A> and <xref:System.Activities.WorkflowApplication.PersistableIdle%2A>), or an unhandled exception occurs (<xref:System.Activities.WorkflowApplication.OnUnhandledException%2A>).</span></span> <span data-ttu-id="71735-141">İş akışı uygulama geliştiricileri, bu bildirimleri işlemek ve uygun eylemi, aşağıdaki örnekte gösterildiği gibi gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="71735-141">Workflow application developers can handle these notifications and take appropriate action, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#32](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#32)]  
  
### <a name="setting-input-arguments-of-a-workflow"></a><span data-ttu-id="71735-142">Ayar giriş bağımsız değişkenleri bir iş akışı</span><span class="sxs-lookup"><span data-stu-id="71735-142">Setting Input Arguments of a Workflow</span></span>  
 <span data-ttu-id="71735-143">Veri parametrelerinin bir sözlük kullanılarak başlatıldığında gibi bir iş akışında geçirilebilir, benzer şekilde veriler kullanılırken geçirilen <xref:System.Activities.WorkflowInvoker>.</span><span class="sxs-lookup"><span data-stu-id="71735-143">Data can be passed into a workflow as it is started using a dictionary of parameters, similar to the way data is passed in when using <xref:System.Activities.WorkflowInvoker>.</span></span> <span data-ttu-id="71735-144">Her bir öğe sözlükte, belirtilen iş akışı giriş bağımsız değişkeni eşler.</span><span class="sxs-lookup"><span data-stu-id="71735-144">Each item in the dictionary maps to an input argument of the specified workflow.</span></span> <span data-ttu-id="71735-145">Bu örnekte, bir iş akışı, oluşur bir <xref:System.Activities.Statements.WriteLine> etkinlik çağrılır ve kendi <xref:System.Activities.Statements.WriteLine.Text%2A> bağımsız değişkeni, girdi parametrelerinin sözlüğünü kullanarak belirtilir.</span><span class="sxs-lookup"><span data-stu-id="71735-145">In this example, a workflow that consists of a <xref:System.Activities.Statements.WriteLine> activity is invoked and its <xref:System.Activities.Statements.WriteLine.Text%2A> argument is specified using the dictionary of input parameters.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#30](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#30)]  
  
### <a name="retrieving-output-arguments-of-a-workflow"></a><span data-ttu-id="71735-146">Çıkış değişkenleri bir iş akışı alınıyor</span><span class="sxs-lookup"><span data-stu-id="71735-146">Retrieving Output Arguments of a Workflow</span></span>  
 <span data-ttu-id="71735-147">İçinde bir iş akışı tamamlandığında, herhangi bir çıkış bağımsız değişkeni alınabilir <xref:System.Activities.WorkflowApplication.Completed%2A> erişerek işleyici <xref:System.Activities.WorkflowApplicationCompletedEventArgs.Outputs%2A?displayProperty=nameWithType> sözlüğü.</span><span class="sxs-lookup"><span data-stu-id="71735-147">When a workflow completes, any output arguments can be retrieved in the <xref:System.Activities.WorkflowApplication.Completed%2A> handler by accessing the <xref:System.Activities.WorkflowApplicationCompletedEventArgs.Outputs%2A?displayProperty=nameWithType> dictionary.</span></span> <span data-ttu-id="71735-148">Aşağıdaki örnek, bir iş akışı kullanarak barındıran <xref:System.Activities.WorkflowApplication>.</span><span class="sxs-lookup"><span data-stu-id="71735-148">The following example hosts a workflow using <xref:System.Activities.WorkflowApplication>.</span></span> <span data-ttu-id="71735-149">A <xref:System.Activities.WorkflowApplication> örneği içeren bir tek bir iş akışı tanımı kullanılarak oluşturulan `DiceRoll` etkinlik.</span><span class="sxs-lookup"><span data-stu-id="71735-149">A <xref:System.Activities.WorkflowApplication> instance is constructed using a workflow definition consisting of a single `DiceRoll` activity.</span></span> <span data-ttu-id="71735-150">`DiceRoll` Etkinlik dice toplama işleminin sonuçlarını temsil eden iki çıkış bağımsız değişkeni vardır.</span><span class="sxs-lookup"><span data-stu-id="71735-150">The `DiceRoll` activity has two output arguments that represent the results of the dice roll operation.</span></span> <span data-ttu-id="71735-151">İş akışı tamamlandığında çıktısı alınır <xref:System.Activities.WorkflowApplication.Completed%2A> işleyici.</span><span class="sxs-lookup"><span data-stu-id="71735-151">When the workflow completes, the outputs are retrieved in the <xref:System.Activities.WorkflowApplication.Completed%2A> handler.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#130](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#130)]  
  
 [!code-csharp[CFX_WorkflowApplicationExample#21](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#21)]  
  
> [!NOTE]
>  <span data-ttu-id="71735-152"><xref:System.Activities.WorkflowApplication> ve <xref:System.Activities.WorkflowInvoker> giriş bağımsız değişkeni sözlüğü almak ve bir sözlüğü döndürür `out` bağımsız değişkenler.</span><span class="sxs-lookup"><span data-stu-id="71735-152"><xref:System.Activities.WorkflowApplication> and <xref:System.Activities.WorkflowInvoker> take a dictionary of input arguments and return a dictionary of `out` arguments.</span></span> <span data-ttu-id="71735-153">Bu sözlük parametreleri, özellikler ve dönüş değerleri tipindedir `IDictionary<string, object>`.</span><span class="sxs-lookup"><span data-stu-id="71735-153">These dictionary parameters, properties, and return values are of type `IDictionary<string, object>`.</span></span> <span data-ttu-id="71735-154">Gerçek geçirilen dictionary sınıfı örneğini uygulayan sınıf olabilir `IDictionary<string, object>`.</span><span class="sxs-lookup"><span data-stu-id="71735-154">The actual instance of the dictionary class that is passed in can be any class that implements `IDictionary<string, object>`.</span></span> <span data-ttu-id="71735-155">Bu örneklerde `Dictionary<string, object>` kullanılır.</span><span class="sxs-lookup"><span data-stu-id="71735-155">In these examples, `Dictionary<string, object>` is used.</span></span> <span data-ttu-id="71735-156">Sözlükler hakkında daha fazla bilgi için bkz: <xref:System.Collections.Generic.IDictionary%602> ve <xref:System.Collections.Generic.Dictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="71735-156">For more information about dictionaries, see <xref:System.Collections.Generic.IDictionary%602> and <xref:System.Collections.Generic.Dictionary%602>.</span></span>  
  
### <a name="passing-data-into-a-running-workflow-using-bookmarks"></a><span data-ttu-id="71735-157">Geçirme verilerini bir çalışan iş akışı yer işaretlerini kullanma</span><span class="sxs-lookup"><span data-stu-id="71735-157">Passing Data into a Running Workflow Using Bookmarks</span></span>  
 <span data-ttu-id="71735-158">Yer işaretleri, bir etkinlik yordamlarınıza devam ettirilemedi bekleyebilir ve içinde çalışan bir iş akışı örneği verileri geçirmek için bir mekanizma olan mekanizmasıdır.</span><span class="sxs-lookup"><span data-stu-id="71735-158">Bookmarks are the mechanism by which an activity can passively wait to be resumed and are a mechanism for passing data into a running workflow instance.</span></span> <span data-ttu-id="71735-159">Bir etkinlik verilerini bekliyorsa oluşturabilirsiniz bir <xref:System.Activities.Bookmark> ve ne zaman çağrılacak bir geri arama yöntemi kaydedin <xref:System.Activities.Bookmark> , aşağıdaki örnekte gösterildiği gibi sürdürülür.</span><span class="sxs-lookup"><span data-stu-id="71735-159">If an activity is waiting for data, it can create a <xref:System.Activities.Bookmark> and register a callback method to be called when the <xref:System.Activities.Bookmark> is resumed, as shown in the following example.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#15](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#15)]  
  
 <span data-ttu-id="71735-160">Yürütüldüğünde, `ReadLine` etkinliği oluşturur bir <xref:System.Activities.Bookmark>, bir geri çağırma kaydeder ve sonra bekler <xref:System.Activities.Bookmark> olarak devam eder.</span><span class="sxs-lookup"><span data-stu-id="71735-160">When executed, the `ReadLine` activity creates a <xref:System.Activities.Bookmark>, registers a callback, and then waits for the <xref:System.Activities.Bookmark> to be resumed.</span></span> <span data-ttu-id="71735-161">Bunu devam ettirildiğinde `ReadLine` etkinlik ile geçirilen verileri atar <xref:System.Activities.Bookmark> için kendi <xref:System.Activities.Activity%601.Result%2A> bağımsız değişken.</span><span class="sxs-lookup"><span data-stu-id="71735-161">When it is resumed, the `ReadLine` activity assigns the data that was passed with the <xref:System.Activities.Bookmark> to its <xref:System.Activities.Activity%601.Result%2A> argument.</span></span> <span data-ttu-id="71735-162">Bu örnekte, bir iş akışı kullanan oluşturulur `ReadLine` kullanıcı adını toplamak ve konsol penceresinde görüntülemek için etkinlik.</span><span class="sxs-lookup"><span data-stu-id="71735-162">In this example, a workflow is created that uses the `ReadLine` activity to gather the user’s name and display it to the console window.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#22](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#22)]  
  
 <span data-ttu-id="71735-163">Zaman `ReadLine` etkinlik yürütüldüğünde, oluşturur bir <xref:System.Activities.Bookmark> adlı `UserName` ve devam ettirilemedi yer işareti için bekler.</span><span class="sxs-lookup"><span data-stu-id="71735-163">When the `ReadLine` activity is executed, it creates a <xref:System.Activities.Bookmark> named `UserName` and then waits for the bookmark to be resumed.</span></span> <span data-ttu-id="71735-164">Konak istenen verileri toplar ve ardından devam ettirir <xref:System.Activities.Bookmark>.</span><span class="sxs-lookup"><span data-stu-id="71735-164">The host collects the desired data and then resumes the <xref:System.Activities.Bookmark>.</span></span> <span data-ttu-id="71735-165">İş akışını sürdürür, adını gösterir ve tamamlandıktan sonra.</span><span class="sxs-lookup"><span data-stu-id="71735-165">The workflow resumes, displays the name, and then completes.</span></span>  
  
 <span data-ttu-id="71735-166">Ana bilgisayar uygulaması işaretlerini etkin olup olmadığını belirlemek için iş akışı inceleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="71735-166">The host application can inspect the workflow to determine if there are any active bookmarks.</span></span> <span data-ttu-id="71735-167">Bunu çağırarak yapabilirsiniz <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> yöntemi bir <xref:System.Activities.WorkflowApplication> örneği veya göre inceleyerek <xref:System.Activities.WorkflowApplicationIdleEventArgs> içinde <xref:System.Activities.WorkflowApplication.Idle%2A> işleyici.</span><span class="sxs-lookup"><span data-stu-id="71735-167">It can do this by calling the <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> method of a <xref:System.Activities.WorkflowApplication> instance, or by inspecting the <xref:System.Activities.WorkflowApplicationIdleEventArgs> in the <xref:System.Activities.WorkflowApplication.Idle%2A> handler.</span></span>  
  
 <span data-ttu-id="71735-168">Aşağıdaki kod örneği önceki örnekteki gibi etkin yer işaretleri, yer işareti sürdürüldü önce numaralandırılır dışında aynıdır.</span><span class="sxs-lookup"><span data-stu-id="71735-168">The following code example is like the previous example except that the active bookmarks are enumerated before the bookmark is resumed.</span></span> <span data-ttu-id="71735-169">İş akışı başlatıldığında, bir kez <xref:System.Activities.Bookmark> oluşturulur ve iş akışı boşta giden <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> çağrılır.</span><span class="sxs-lookup"><span data-stu-id="71735-169">The workflow is started, and once the <xref:System.Activities.Bookmark> is created and the workflow goes idle, <xref:System.Activities.WorkflowApplication.GetBookmarks%2A> is called.</span></span> <span data-ttu-id="71735-170">İş akışı tamamlandığında, aşağıdaki çıktıyı konsola görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="71735-170">When the workflow is completed, the following output is displayed to the console.</span></span>  
  
 <span data-ttu-id="71735-171">**Adınız ne?**</span><span class="sxs-lookup"><span data-stu-id="71735-171">**What is your name?**</span></span>  
<span data-ttu-id="71735-172">**YerİşaretiAdı: Kullanıcı adı - OwnerDisplayName: ReadLine** </span><span class="sxs-lookup"><span data-stu-id="71735-172">**BookmarkName: UserName - OwnerDisplayName: ReadLine** </span></span>  
<span data-ttu-id="71735-173">**Steve** </span><span class="sxs-lookup"><span data-stu-id="71735-173">**Steve** </span></span>  
<span data-ttu-id="71735-174">**Merhaba, Steve**</span><span class="sxs-lookup"><span data-stu-id="71735-174">**Hello, Steve**</span></span>

[!code-csharp[CFX_WorkflowApplicationExample#14](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#14)]  
  
 <span data-ttu-id="71735-175">Aşağıdaki kod örneği inceler <xref:System.Activities.WorkflowApplicationIdleEventArgs> yöntemlere geçirilen <xref:System.Activities.WorkflowApplication.Idle%2A> işleyicisinde bir <xref:System.Activities.WorkflowApplication> örneği.</span><span class="sxs-lookup"><span data-stu-id="71735-175">The following code example inspects the <xref:System.Activities.WorkflowApplicationIdleEventArgs> passed into the <xref:System.Activities.WorkflowApplication.Idle%2A> handler of a <xref:System.Activities.WorkflowApplication> instance.</span></span> <span data-ttu-id="71735-176">Bu örnekte, boşta giden iş akışı olan bir <xref:System.Activities.Bookmark> adıyla `EnterGuess`, adlı bir etkinlik tarafından sahip olunan `ReadInt`.</span><span class="sxs-lookup"><span data-stu-id="71735-176">In this example the workflow going idle has one <xref:System.Activities.Bookmark> with a name of `EnterGuess`, owned by an activity named `ReadInt`.</span></span> <span data-ttu-id="71735-177">Bu kod örneği, devre dışı tabanlı [nasıl yapılır: İş akışı çalıştırma](how-to-run-a-workflow.md), parçası olduğu [başlangıç Öğreticisi](getting-started-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="71735-177">This code example is based off of [How to: Run a Workflow](how-to-run-a-workflow.md), which is part of the [Getting Started Tutorial](getting-started-tutorial.md).</span></span> <span data-ttu-id="71735-178">Varsa <xref:System.Activities.WorkflowApplication.Idle%2A> işleyici bu adımda, bu örnekteki kod içerecek şekilde değiştirildiğinde, aşağıdaki çıktısı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="71735-178">If the <xref:System.Activities.WorkflowApplication.Idle%2A> handler in that step is modified to contain the code from this example, the following output is displayed.</span></span>  
  
 <span data-ttu-id="71735-179">**YerİşaretiAdı: EnterGuess - OwnerDisplayName: ReadInt**</span><span class="sxs-lookup"><span data-stu-id="71735-179">**BookmarkName: EnterGuess - OwnerDisplayName: ReadInt**</span></span>
 
 [!code-csharp[CFX_WorkflowApplicationExample#2](~/samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#2)]  
  
## <a name="summary"></a><span data-ttu-id="71735-180">Özet</span><span class="sxs-lookup"><span data-stu-id="71735-180">Summary</span></span>  
 <span data-ttu-id="71735-181"><xref:System.Activities.WorkflowInvoker> İş akışları çağırmak için basit bir yol sağlar ve bir iş akışının başlangıcında verileri geçirme ve tamamlanan bir iş akışından veri ayıklamak için yöntemler sağlar, ancak bu daha karmaşık senaryolarda nerede olduğu sağlamaz <xref:System.Activities.WorkflowApplication> kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="71735-181"><xref:System.Activities.WorkflowInvoker> provides a lightweight way to invoke workflows, and although it provides methods for passing data in at the start of a workflow and extracting data from a completed workflow, it does not provide for more complex scenarios which is where <xref:System.Activities.WorkflowApplication> can be used.</span></span>
