---
title: Kod Erişimi Güvenliği Temelleri
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- security [.NET Framework], code access security
ms.assetid: 4eaa6535-d9fe-41a1-91d8-b437cfc16921
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 49c6d62490ab45e90be758e539599ce5149da22b
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54671206"
---
# <a name="code-access-security-basics"></a><span data-ttu-id="f48c0-102">Kod Erişimi Güvenliği Temelleri</span><span class="sxs-lookup"><span data-stu-id="f48c0-102">Code Access Security Basics</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="f48c0-103">Ortak dil çalışma zamanı (diğer bir deyişle, her yönetilen uygulamanın) hedefleyen her uygulama, çalışma zamanının güvenlik sistemi ile etkileşim gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-103">Every application that targets the common language runtime (that is, every managed application) must interact with the runtime's security system.</span></span> <span data-ttu-id="f48c0-104">Bir yönetilen uygulamayı yüklendiğinde, ana bilgisayar bir izin kümesi otomatik olarak verir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-104">When a managed application is loaded, its host automatically grants it a set of permissions.</span></span> <span data-ttu-id="f48c0-105">Bu izinler, uygulamanın bulunduğu bir korumalı alan veya ana bilgisayarın yerel güvenlik ayarları tarafından belirlenir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-105">These permissions are determined by the host's local security settings or by the sandbox the application is in.</span></span> <span data-ttu-id="f48c0-106">Bu izinlere bağlı olarak uygulama düzgün çalışmasına veya bir güvenlik özel durumu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="f48c0-106">Depending on these permissions, the application either runs properly or generates a security exception.</span></span>  
  
 <span data-ttu-id="f48c0-107">Masaüstü uygulamaları için varsayılan ana bilgisayar tam güvende çalıştırmak için kod sağlar.</span><span class="sxs-lookup"><span data-stu-id="f48c0-107">The default host for desktop applications allows code to run in full trust.</span></span> <span data-ttu-id="f48c0-108">Masaüstü uygulamanızın olmasını istiyorsanız, bu nedenle, bunu bir Kısıtlanmamış izni ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="f48c0-108">Therefore, if your application targets the desktop, it has an unrestricted permission set.</span></span> <span data-ttu-id="f48c0-109">Diğer konaklar veya sanal uygulamaları için sınırlı bir izni sağlar.</span><span class="sxs-lookup"><span data-stu-id="f48c0-109">Other hosts or sandboxes provide a limited permission set for applications.</span></span> <span data-ttu-id="f48c0-110">İzin kümesi ana bilgisayardan diğerine değişebileceği için uygulamanızı hedef ana sağlayan izinleri kullanacak şekilde tasarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-110">Because the permission set can change from host to host, you must design your application to use only the permissions that your target host allows.</span></span>  
  
 <span data-ttu-id="f48c0-111">Ortak dil çalışma zamanını hedefleyen etkili uygulamalar yazmak üzere aşağıdaki kod erişim güvenlik kavramlarına alışık olmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="f48c0-111">You must be familiar with the following code access security concepts in order to write effective applications that target the common language runtime:</span></span>  
  
-   <span data-ttu-id="f48c0-112">**Tür kullanımı uyumlu kod**: Tür kullanımı uyumlu kod türleri yalnızca iyi tanımlanmış, izin verilen şekilde erişen kodudur.</span><span class="sxs-lookup"><span data-stu-id="f48c0-112">**Type-safe code**: Type-safe code is code that accesses types only in well-defined, allowable ways.</span></span> <span data-ttu-id="f48c0-113">Örneğin, geçerli nesne başvurusu göz önünde bulundurulduğunda, tür kullanımı uyumlu kod karşılık gelen gerçek alan üyelerine sabit uzaklıkları bellek erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-113">For example, given a valid object reference, type-safe code can access memory at fixed offsets that correspond to actual field members.</span></span> <span data-ttu-id="f48c0-114">Kod rastgele uzaklıkları bellek erişirse, o nesnenin genel olarak ait bellek aralığının dışında alanları kullanıma sunulan, tür kullanımı uyumlu değil.</span><span class="sxs-lookup"><span data-stu-id="f48c0-114">If the code accesses memory at arbitrary offsets outside the range of memory that belongs to that object's publicly exposed fields, it is not type-safe.</span></span> <span data-ttu-id="f48c0-115">Kod erişim güvenlik kodu etkinleştirmek için doğrulanabilir şekilde tür kullanımı uyumlu kod oluşturur bir derleyici kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-115">To enable code to benefit from code access security, you must use a compiler that generates verifiably type-safe code.</span></span> <span data-ttu-id="f48c0-116">Daha fazla bilgi için [doğrulanabilir şekilde tür kullanımı uyumlu kod yazma](#typesafe_code) bu konunun ilerleyen bölümlerinde.</span><span class="sxs-lookup"><span data-stu-id="f48c0-116">For more information, see the [Writing Verifiably Type-Safe Code](#typesafe_code) section later in this topic.</span></span>  
  
-   <span data-ttu-id="f48c0-117">**Kesinlik temelli ve bildirim temelli söz dizimi**: Çağıranlar izinleri belirttiğiniz yoğun ve (yeterli ayrıcalıklar verilir) bazı güvenlik ayarlarını geçersiz kılma izinler isteyen tarafından ortak dil çalışma zamanı güvenlik sistemi ile etkileşim kurabilir hedefleyen kod.</span><span class="sxs-lookup"><span data-stu-id="f48c0-117">**Imperative and declarative syntax**: Code that targets the common language runtime can interact with the security system by requesting permissions, demanding that callers have specified permissions, and overriding certain security settings (given enough privileges).</span></span> <span data-ttu-id="f48c0-118">Program aracılığıyla .NET Framework güvenlik sistemini ile etkileşim kurmak için iki sözdizimi biçimi kullanın: bildirim temelli söz dizimi ve kesinlik temelli sözdizimi.</span><span class="sxs-lookup"><span data-stu-id="f48c0-118">You use two forms of syntax to programmatically interact with the .NET Framework security system: declarative syntax and imperative syntax.</span></span> <span data-ttu-id="f48c0-119">Bildirim temelli çağrı, öznitelikleri kullanarak gerçekleştirilir; kesinlik temelli çağrı, yeni kod içindeki sınıf örnekleri kullanılarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-119">Declarative calls are performed using attributes; imperative calls are performed using new instances of classes within your code.</span></span> <span data-ttu-id="f48c0-120">Bazı çağrıları yalnızca kesin gerçekleştirilebilir, diğerleri yalnızca bildirimli olarak gerçekleştirilebilir ve bazı çağrıları her iki şekilde gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-120">Some calls can be performed only imperatively, others can be performed only declaratively, and some calls can be performed in either manner.</span></span>  
  
-   <span data-ttu-id="f48c0-121">**Güvenli sınıf kitaplıkları**: Güvenli sınıf kitaplığı, kitaplık çağıranlar kitaplığı kullanan kaynaklara erişim izni sağlamak için güvenlik taleplerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-121">**Secure class libraries**: A secure class library uses security demands to ensure that the library's callers have permission to access the resources that the library exposes.</span></span> <span data-ttu-id="f48c0-122">Örneğin, bir güvenli sınıf kitaplığı çağıranlarını dosyaları oluşturmak için izinlere sahip isteğe bağlı dosyaları oluşturmak için bir yöntem olabilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-122">For example, a secure class library might have a method for creating files that would demand that its callers have permissions to create files.</span></span> <span data-ttu-id="f48c0-123">Güvenli sınıf kitaplıkları .NET Framework oluşur.</span><span class="sxs-lookup"><span data-stu-id="f48c0-123">The .NET Framework consists of secure class libraries.</span></span> <span data-ttu-id="f48c0-124">Kodunuzun kullandığı herhangi bir kitaplığı erişmek için gerekli izinleri farkında olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-124">You should be aware of the permissions required to access any library that your code uses.</span></span> <span data-ttu-id="f48c0-125">Daha fazla bilgi için [güvenli sınıf kitaplıkları kullanarak](#secure_library) bu konunun ilerleyen bölümlerinde.</span><span class="sxs-lookup"><span data-stu-id="f48c0-125">For more information, see the [Using Secure Class Libraries](#secure_library) section later in this topic.</span></span>  
  
-   <span data-ttu-id="f48c0-126">**Saydam kod**: İle başlayarak [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], özel izinler belirlemeye ek olarak, ayrıca kodunuz gibi güvenlik saydam çalıştırılması gerekip gerekmediğini belirlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-126">**Transparent code**: Starting with the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], in addition to identifying specific permissions, you must also determine whether your code should run as security-transparent.</span></span> <span data-ttu-id="f48c0-127">Güvenliği saydam kod türleri veya üyeleri tanımlanmış olarak güvenlik kritik çağrılamıyor.</span><span class="sxs-lookup"><span data-stu-id="f48c0-127">Security-transparent code cannot call types or members that are identified as security-critical.</span></span> <span data-ttu-id="f48c0-128">Bu kural, kısmen güvenilir uygulamaların yanı sıra tam güven uygulamaları için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-128">This rule applies to full-trust applications as well as partially trusted applications.</span></span> <span data-ttu-id="f48c0-129">Daha fazla bilgi için [güvenliği saydam kod](../../../docs/framework/misc/security-transparent-code.md).</span><span class="sxs-lookup"><span data-stu-id="f48c0-129">For more information, see [Security-Transparent Code](../../../docs/framework/misc/security-transparent-code.md).</span></span>  
  
<a name="typesafe_code"></a>   
## <a name="writing-verifiably-type-safe-code"></a><span data-ttu-id="f48c0-130">Doğrulanabilir şekilde tür kullanımı uyumlu kod yazma</span><span class="sxs-lookup"><span data-stu-id="f48c0-130">Writing Verifiably Type-Safe Code</span></span>  
 <span data-ttu-id="f48c0-131">Just-in-time (JIT) derleme kodu inceler ve kod tür kullanımı uyumlu olup olmadığını belirlemeye çalışır bir doğrulama işlemi gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-131">Just-in-time (JIT) compilation performs a verification process that examines code and tries to determine whether the code is type-safe.</span></span> <span data-ttu-id="f48c0-132">Tür kullanımı uyumlu olacak şekilde, doğrulama sırasında kanıtlanmış bir kodu çağrılır *doğrulanabilir şekilde tür kullanımı uyumlu kod*.</span><span class="sxs-lookup"><span data-stu-id="f48c0-132">Code that is proven during verification to be type-safe is called *verifiably type-safe code*.</span></span> <span data-ttu-id="f48c0-133">Kod tür kullanımı uyumlu olabilir, henüz sınırlamaları doğrulama işlemi veya derleme nedeniyle doğrulanabilir şekilde tür kullanımı uyumlu olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-133">Code can be type-safe, yet might not be verifiably type-safe because of the limitations of the verification process or of the compiler.</span></span> <span data-ttu-id="f48c0-134">Tür kullanımı uyumlu tüm dillerde ve Microsoft Visual C++ gibi bazı dil derleyicileri doğrulanabilir şekilde tür kullanımı uyumlu yönetilen kod üretilemiyor.</span><span class="sxs-lookup"><span data-stu-id="f48c0-134">Not all languages are type-safe, and some language compilers, such as Microsoft Visual C++, cannot generate verifiably type-safe managed code.</span></span> <span data-ttu-id="f48c0-135">Kullandığınız dil derleyicisi doğrulanabilir şekilde tür kullanımı uyumlu kod üretir olup olmadığını belirlemek için derleyicinin belgelerine bakın.</span><span class="sxs-lookup"><span data-stu-id="f48c0-135">To determine whether the language compiler you use generates verifiably type-safe code, consult the compiler's documentation.</span></span> <span data-ttu-id="f48c0-136">Yalnızca belirli dil yapılarını kaçınırsınız yükleyen doğrulanabilir şekilde tür kullanımı uyumlu kod oluşturur bir dil derleyicisi kullanıyorsanız kullanmak isteyebilirsiniz [PEVerify aracı](../../../docs/framework/tools/peverify-exe-peverify-tool.md) kodunuzu doğrulanabilir şekilde tür kullanımı uyumlu olup olmadığını belirlemek için.</span><span class="sxs-lookup"><span data-stu-id="f48c0-136">If you use a language compiler that generates verifiably type-safe code only when you avoid certain language constructs, you might want to use the [PEVerify tool](../../../docs/framework/tools/peverify-exe-peverify-tool.md) to determine whether your code is verifiably type-safe.</span></span>  
  
 <span data-ttu-id="f48c0-137">Doğrulanabilir şekilde tür kullanımı uyumlu olmayan kodu doğrulamasını atlamak kodun güvenlik ilkesi izin veriyorsa yürütülecek deneyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-137">Code that is not verifiably type-safe can attempt to execute if security policy allows the code to bypass verification.</span></span> <span data-ttu-id="f48c0-138">Ancak, tür güvenliği yalıtmak derlemeleri için çalışma zamanının mekanizması önemli bir parçası olduğundan, kod tür güvenliği kurallarını ihlal ediyorsa güvenlik güvenilir bir şekilde zorlanamaz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-138">However, because type safety is an essential part of the runtime's mechanism for isolating assemblies, security cannot be reliably enforced if code violates the rules of type safety.</span></span> <span data-ttu-id="f48c0-139">Varsayılan olarak, yalnızca yerel bilgisayardan geliyorsa çalıştırmak için tür açısından güvenli olmayan kodu izin verilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-139">By default, code that is not type-safe is allowed to run only if it originates from the local computer.</span></span> <span data-ttu-id="f48c0-140">Bu nedenle, mobil kod tür kullanımı uyumlu olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-140">Therefore, mobile code should be type-safe.</span></span>  
  
<a name="secure_library"></a>   
## <a name="using-secure-class-libraries"></a><span data-ttu-id="f48c0-141">Güvenli sınıf kitaplıklarını kullanma</span><span class="sxs-lookup"><span data-stu-id="f48c0-141">Using Secure Class Libraries</span></span>  
 <span data-ttu-id="f48c0-142">Kodunuz ister ve sınıf kitaplığının gerekli izinlerin, kitaplığınıza erişmesine izin verilir ve kitaplık sunan kaynakların yetkisiz erişime karşı korunur.</span><span class="sxs-lookup"><span data-stu-id="f48c0-142">If your code requests and is granted the permissions required by the class library, it will be allowed to access the library and the resources that the library exposes will be protected from unauthorized access.</span></span> <span data-ttu-id="f48c0-143">Kodunuzu uygun izinlere sahip değilse, sınıf kitaplığınıza erişmesine izin verilmez ve kötü amaçlı kod dolaylı olarak korunan kaynaklara erişim için kodunuzu kullanmanız mümkün olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-143">If your code does not have the appropriate permissions, it will not be allowed to access the class library, and malicious code will not be able to use your code to indirectly access protected resources.</span></span> <span data-ttu-id="f48c0-144">Kodunuzu çağıran başka bir kod kitaplığı erişim izni de olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-144">Other code that calls your code must also have permission to access the library.</span></span> <span data-ttu-id="f48c0-145">Kullanmıyorsa, kodunuzu da çalışıyor sınırlanır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-145">If it does not, your code will be restricted from running as well.</span></span>  
  
 <span data-ttu-id="f48c0-146">Kod erişimi güvenliği, kod yazma İnsan hatası olasılığını ortadan kaldırmaz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-146">Code access security does not eliminate the possibility of human error in writing code.</span></span> <span data-ttu-id="f48c0-147">Uygulamanız, korunan kaynaklara erişim için güvenli sınıf kitaplıkları kullanıyorsa, sınıf kitaplıkları yakından için olası güvenlik sorunlarını scrutinized çünkü ancak uygulama kodu için güvenlik riski, azalır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-147">However, if your application uses secure class libraries to access protected resources, the security risk for application code is decreased, because class libraries are closely scrutinized for potential security problems.</span></span>  
  
## <a name="declarative-security"></a><span data-ttu-id="f48c0-148">Bildirim Temelli Güvenlik</span><span class="sxs-lookup"><span data-stu-id="f48c0-148">Declarative Security</span></span>  
 <span data-ttu-id="f48c0-149">Bildirim temelli güvenlik sözdizimi kullanan [öznitelikleri](../../../docs/standard/attributes/index.md) güvenlik bilgileri yerleştirmek için [meta verileri](../../../docs/standard/metadata-and-self-describing-components.md) kodunuzun.</span><span class="sxs-lookup"><span data-stu-id="f48c0-149">Declarative security syntax uses [attributes](../../../docs/standard/attributes/index.md) to place security information into the [metadata](../../../docs/standard/metadata-and-self-describing-components.md) of your code.</span></span> <span data-ttu-id="f48c0-150">İstek, isteğe bağlı veya kullanmak istediğiniz geçersiz kılma türünü belirtmek için derleme, sınıf veya üye düzeyinde öznitelikler yerleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-150">Attributes can be placed at the assembly, class, or member level, to indicate the type of request, demand, or override you want to use.</span></span> <span data-ttu-id="f48c0-151">İstekleri, çalışma zamanı güvenlik sistemi uygulamanız gereken veya istediğiniz izinleri hakkında bilgilendirmek için ortak dil çalışma zamanını hedefleyen uygulamalarda kullanılır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-151">Requests are used in applications that target the common language runtime to inform the runtime security system about the permissions that your application needs or does not want.</span></span> <span data-ttu-id="f48c0-152">Talepleri ve geçersiz kılmalar kitaplıklarında çağrı yapanlardan kaynaklarını korumak için veya varsayılan güvenlik davranışı geçersiz kılmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-152">Demands and overrides are used in libraries to help protect resources from callers or to override default security behavior.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f48c0-153">İçinde [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], terminolojisi ve .NET Framework güvenlik modelinin önemli değişiklikler olmuştur.</span><span class="sxs-lookup"><span data-stu-id="f48c0-153">In the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], there have been important changes to the .NET Framework security model and terminology.</span></span> <span data-ttu-id="f48c0-154">Bu değişiklikler hakkında daha fazla bilgi için bkz. [güvenlik değişiklikleri](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="f48c0-154">For more information about these changes, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
 <span data-ttu-id="f48c0-155">Bildirim temelli güvenlik çağrıları kullanmak için izne ihtiyacınız belirli şeklinde gösterir böylece izni nesne durumu verilerini başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-155">In order to use declarative security calls, you must initialize the state data of the permission object so that it represents the particular form of permission you need.</span></span> <span data-ttu-id="f48c0-156">Geçirilen bir öznitelik her yerleşik izni bir <xref:System.Security.Permissions.SecurityAction> uygulamak istediğiniz güvenlik işleminin türünü açıklayan sabit listesi.</span><span class="sxs-lookup"><span data-stu-id="f48c0-156">Every built-in permission has an attribute that is passed a <xref:System.Security.Permissions.SecurityAction> enumeration to describe the type of security operation you want to perform.</span></span> <span data-ttu-id="f48c0-157">Ancak, izinleri de bunları dışlar kendi parametreleri kabul eder.</span><span class="sxs-lookup"><span data-stu-id="f48c0-157">However, permissions also accept their own parameters that are exclusive to them.</span></span>  
  
 <span data-ttu-id="f48c0-158">Aşağıdaki kod parçası kodunuzun çağıranlar adlı bir özel izni olduğunu istemeye ilişkin bildirim temelli söz dizimi görülmektedir `MyPermission`.</span><span class="sxs-lookup"><span data-stu-id="f48c0-158">The following code fragment shows declarative syntax for requesting that your code's callers have a custom permission called `MyPermission`.</span></span> <span data-ttu-id="f48c0-159">Bu izin, kuramsal bir özel izni ve .NET Framework'teki yok.</span><span class="sxs-lookup"><span data-stu-id="f48c0-159">This permission is a hypothetical custom permission and does not exist in the .NET Framework.</span></span> <span data-ttu-id="f48c0-160">Bu örnekte, bildirim temelli çağrı, doğrudan sınıf tanımı, bu izin için sınıf düzeyinde uygulanacağını belirleme önce yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-160">In this example, the declarative call is placed directly before the class definition, specifying that this permission be applied to the class level.</span></span> <span data-ttu-id="f48c0-161">Öznitelik geçirilen bir **SecurityAction.Demand** çağıranlar çalıştırmak için bu izne sahip olması gerektiğini belirtmenize yapısı.</span><span class="sxs-lookup"><span data-stu-id="f48c0-161">The attribute is passed a **SecurityAction.Demand** structure to specify that callers must have this permission in order to run.</span></span>  
  
```vb  
<MyPermission(SecurityAction.Demand, Unrestricted = True)> Public Class MyClass1  
  
   Public Sub New()  
      'The constructor is protected by the security call.  
   End Sub  
  
   Public Sub MyMethod()  
      'This method is protected by the security call.  
   End Sub  
  
   Public Sub YourMethod()  
      'This method is protected by the security call.  
   End Sub  
End Class  
```  
  
```csharp  
[MyPermission(SecurityAction.Demand, Unrestricted = true)]  
public class MyClass  
{  
   public MyClass()  
   {  
      //The constructor is protected by the security call.  
   }  
  
   public void MyMethod()  
   {  
      //This method is protected by the security call.  
   }  
  
   public void YourMethod()  
   {  
      //This method is protected by the security call.  
   }  
}  
```  
  
## <a name="imperative-security"></a><span data-ttu-id="f48c0-162">Kesin Temelli Güvenlik</span><span class="sxs-lookup"><span data-stu-id="f48c0-162">Imperative Security</span></span>  
 <span data-ttu-id="f48c0-163">Kesinlik temelli güvenlik sözdizimi, çağırmak istediğiniz izin nesnesi yeni bir örneğini oluşturarak güvenlik çağrısı verir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-163">Imperative security syntax issues a security call by creating a new instance of the permission object you want to invoke.</span></span> <span data-ttu-id="f48c0-164">Kesinlik temelli sözdizimi, talepleri ve geçersiz kılmalar, ancak değil isteklerini gerçekleştirmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-164">You can use imperative syntax to perform demands and overrides, but not requests.</span></span>  
  
 <span data-ttu-id="f48c0-165">Güvenlik çağrı yapmadan önce böylece belirli formun ihtiyacınız iznin temsil ettiği izni nesne durumu verilerini başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-165">Before you make the security call, you must initialize the state data of the permission object so that it represents the particular form of the permission you need.</span></span> <span data-ttu-id="f48c0-166">Örneğin, oluşturulurken bir <xref:System.Security.Permissions.FileIOPermission> nesnesini başlatmak için oluşturucu kullanabilirsiniz **FileIOPermission** böylece tüm dosyalara veya dosyaları erişim yok ya da sınırsız erişim gösteren nesne.</span><span class="sxs-lookup"><span data-stu-id="f48c0-166">For example, when creating a <xref:System.Security.Permissions.FileIOPermission> object, you can use the constructor to initialize the **FileIOPermission** object so that it represents either unrestricted access to all files or no access to files.</span></span> <span data-ttu-id="f48c0-167">Ya da farklı bir kullanabilirsiniz **FileIOPermission** (diğer bir deyişle, okuma, ekleme veya yazma) temsil eder ve dosyaları korumak için nesne istediğiniz nesneyi istediğiniz erişim türünü belirten parametreleri geçirme nesnesi.</span><span class="sxs-lookup"><span data-stu-id="f48c0-167">Or, you can use a different **FileIOPermission** object, passing parameters that indicate the type of access you want the object to represent (that is, read, append, or write) and what files you want the object to protect.</span></span>  
  
 <span data-ttu-id="f48c0-168">Kesinlik temelli güvenlik sözdizimi tek güvenlik nesnesi çağırmak için kullanmanın yanı sıra, bir grup bir izin kümesindeki izinlerin başlatmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-168">In addition to using imperative security syntax to invoke a single security object, you can use it to initialize a group of permissions in a permission set.</span></span> <span data-ttu-id="f48c0-169">Örneğin, bu tekniği güvenilir bir şekilde gerçekleştirmek için tek yoludur [assert](../../../docs/framework/misc/using-the-assert-method.md) birden fazla izinleri bir yöntemi çağırır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-169">For example, this technique is the only way to reliably perform [assert](../../../docs/framework/misc/using-the-assert-method.md) calls on multiple permissions in one method.</span></span> <span data-ttu-id="f48c0-170">Kullanım <xref:System.Security.PermissionSet> ve <xref:System.Security.NamedPermissionSet> izinlerine oluşturun ve ardından istenen güvenlik arama çağırmak için uygun yöntem çağırmak için sınıflar.</span><span class="sxs-lookup"><span data-stu-id="f48c0-170">Use the <xref:System.Security.PermissionSet> and <xref:System.Security.NamedPermissionSet> classes to create a group of permissions and then call the appropriate method to invoke the desired security call.</span></span>  
  
 <span data-ttu-id="f48c0-171">Kesinlik temelli sözdizimi, talepleri ve geçersiz kılmalar, ancak değil isteklerini gerçekleştirmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-171">You can use imperative syntax to perform demands and overrides, but not requests.</span></span> <span data-ttu-id="f48c0-172">Kesinlik temelli sözdizimi talepleri için kullanabilir ve izin durumu başlatmak için gereken bilgileri yalnızca çalışma zamanında bildiği etkinleştirildiğinde yerine bildirim temelli söz dizimi geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="f48c0-172">You might use imperative syntax for demands and overrides instead of declarative syntax when information that you need in order to initialize the permission state becomes known only at run time.</span></span> <span data-ttu-id="f48c0-173">Örneğin, Arayanların belirli bir dosyayı okuma izniniz yok, ancak çalışma zamanına kadar bu dosyanın adını bilmiyorsanız emin olmak istiyorsanız, kesinlik temelli bir isteğe bağlı kullanın.</span><span class="sxs-lookup"><span data-stu-id="f48c0-173">For example, if you want to ensure that callers have permission to read a certain file, but you do not know the name of that file until run time, use an imperative demand.</span></span> <span data-ttu-id="f48c0-174">Ayrıca, çalışma zamanında koşul tutan olup olmadığını belirlemek gerektiğinde kesinlik temelli denetimleri yerine bildirim temelli denetimlerini kullanın ve test sonucuna göre bir güvenlik talebi yapmak (veya etkinleştirmezsiniz) tercih.</span><span class="sxs-lookup"><span data-stu-id="f48c0-174">You might also choose to use imperative checks instead of declarative checks when you need to determine at run time whether a condition holds and, based on the result of the test, make a security demand (or not).</span></span>  
  
 <span data-ttu-id="f48c0-175">Aşağıdaki kod parçası isteyen kodunuzun çağıranlar adlı bir özel izni olduğunu kesinlik temelli sözdizimi gösterilmektedir `MyPermission`.</span><span class="sxs-lookup"><span data-stu-id="f48c0-175">The following code fragment shows imperative syntax for requesting that your code's callers have a custom permission called `MyPermission`.</span></span> <span data-ttu-id="f48c0-176">Bu izin, kuramsal bir özel izni ve .NET Framework'teki yok.</span><span class="sxs-lookup"><span data-stu-id="f48c0-176">This permission is a hypothetical custom permission and does not exist in the .NET Framework.</span></span> <span data-ttu-id="f48c0-177">Yeni bir örneğini `MyPermision` oluşturulur `MyMethod`, bu yöntem yalnızca güvenlik çağrısı ile kullanılan koruyarak.</span><span class="sxs-lookup"><span data-stu-id="f48c0-177">A new instance of `MyPermision` is created in `MyMethod`, guarding only this method with the security call.</span></span>  
  
```vb  
Public Class MyClass1  
  
   Public Sub New()  
  
   End Sub  
  
   Public Sub MyMethod()  
      'MyPermission is demanded using imperative syntax.  
      Dim Perm As New MyPermission()  
      Perm.Demand()  
      'This method is protected by the security call.  
   End Sub  
  
   Public Sub YourMethod()  
      'YourMethod 'This method is not protected by the security call.  
   End Sub  
End Class  
```  
  
```csharp  
public class MyClass {  
   public MyClass(){  
  
   }  
  
   public void MyMethod() {  
       //MyPermission is demanded using imperative syntax.  
       MyPermission Perm = new MyPermission();  
       Perm.Demand();  
       //This method is protected by the security call.  
   }  
  
   public void YourMethod() {  
       //This method is not protected by the security call.  
   }  
}  
```  
  
## <a name="using-managed-wrapper-classes"></a><span data-ttu-id="f48c0-178">Yönetilen Sarmalayıcı Sınıflarını Kullanma</span><span class="sxs-lookup"><span data-stu-id="f48c0-178">Using Managed Wrapper Classes</span></span>  
 <span data-ttu-id="f48c0-179">Çoğu uygulamaları ve bileşenleri (dışında güvenli kitaplıklar) doğrudan yönetilmeyen kod çağırmamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-179">Most applications and components (except secure libraries) should not directly call unmanaged code.</span></span> <span data-ttu-id="f48c0-180">Bunun birkaç nedeni vardır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-180">There are several reasons for this.</span></span> <span data-ttu-id="f48c0-181">Kod yönetilmeyen kodu doğrudan çağırırsa, bu kod yüksek düzeyde yerel kod çağırmak için güven verilmesi gerekir çünkü birçok durumda çalıştırılacak verilmez.</span><span class="sxs-lookup"><span data-stu-id="f48c0-181">If code calls unmanaged code directly, it will not be allowed to run in many circumstances because code must be granted a high level of trust to call native code.</span></span> <span data-ttu-id="f48c0-182">İlke, bu tür bir uygulama çalıştırmasına izin verecek şekilde değiştirilirse, önemli ölçüde neredeyse tüm işlemi gerçekleştirmek ücretsiz uygulama bırakarak sistemin güvenlik zayıflatabilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-182">If policy is modified to allow such an application to run, it can significantly weaken the security of the system, leaving the application free to perform almost any operation.</span></span>  
  
 <span data-ttu-id="f48c0-183">Ayrıca, yönetilmeyen koda erişim iznine sahip kodu yönetilmeyen API çağırarak büyük olasılıkla neredeyse tüm işlemi gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-183">Additionally, code that has permission to access unmanaged code can probably perform almost any operation by calling into an unmanaged API.</span></span> <span data-ttu-id="f48c0-184">Örneğin, yönetilmeyen kod çağırmak için izni olan kod ihtiyaç duymadığı <xref:System.Security.Permissions.FileIOPermission> bir dosyaya erişmek için yalnızca bir yönetilmeyen (Win32) dosya API'si yönetilen dosya API'SİNİN atlayarak doğrudan çağırabilir **FileIOPermission**.</span><span class="sxs-lookup"><span data-stu-id="f48c0-184">For example, code that has permission to call unmanaged code does not need <xref:System.Security.Permissions.FileIOPermission> to access a file; it can just call an unmanaged (Win32) file API directly, bypassing the managed file API that requires **FileIOPermission**.</span></span> <span data-ttu-id="f48c0-185">Yönetilen kodun yönetilmeyen koda çağrı izni olan ve doğrudan yönetilmeyen koda çağrı, güvenlik sistem çalışma zamanı yönetilmeyen kod tür kısıtlamaları zorunlu kılamaz beri güvenlik kısıtlamaları, güvenilir bir şekilde uygulamak mümkün olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="f48c0-185">If managed code has permission to call into unmanaged code and does call directly into unmanaged code, the security system will be unable to reliably enforce security restrictions, since the runtime cannot enforce such restrictions on unmanaged code.</span></span>  
  
 <span data-ttu-id="f48c0-186">Yönetilmeyen kod erişim gerektiren bir işlem gerçekleştirmek için uygulamanızı isterseniz, bunu (böyle bir sınıfı varsa) gerekli işlevselliği sarmalayan güvenilen bir yönetilen sınıf ile yapmalısınız.</span><span class="sxs-lookup"><span data-stu-id="f48c0-186">If you want your application to perform an operation that requires accessing unmanaged code, it should do so through a trusted managed class that wraps the required functionality (if such a class exists).</span></span> <span data-ttu-id="f48c0-187">Güvenli sınıf kitaplığında zaten varsa, bir sarmalayıcı sınıfı kendiniz oluşturmayın.</span><span class="sxs-lookup"><span data-stu-id="f48c0-187">Do not create a wrapper class yourself if one already exists in a secure class library.</span></span> <span data-ttu-id="f48c0-188">Yüksek derecede güven yönetilmeyen koda çağrı yapmak için izin verilmesi gerekir, sarmalayıcı sınıfı çağıranlarını uygun izinlere sahip zorlu için sorumludur.</span><span class="sxs-lookup"><span data-stu-id="f48c0-188">The wrapper class, which must be granted a high degree of trust to be allowed to make the call into unmanaged code, is responsible for demanding that its callers have the appropriate permissions.</span></span> <span data-ttu-id="f48c0-189">Sarmalayıcı sınıfı kullanırsanız, kodunuzun yalnızca istek ve sarmalayıcı sınıfı talepleri izinlerinin verilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="f48c0-189">If you use the wrapper class, your code only needs to request and be granted the permissions that the wrapper class demands.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f48c0-190">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="f48c0-190">See also</span></span>
- <xref:System.Security.PermissionSet>
- <xref:System.Security.Permissions.FileIOPermission>
- <xref:System.Security.NamedPermissionSet>
- <xref:System.Security.Permissions.SecurityAction>
- [<span data-ttu-id="f48c0-191">Assert</span><span class="sxs-lookup"><span data-stu-id="f48c0-191">Assert</span></span>](../../../docs/framework/misc/using-the-assert-method.md)
- [<span data-ttu-id="f48c0-192">Kod erişimi güvenliği</span><span class="sxs-lookup"><span data-stu-id="f48c0-192">Code Access Security</span></span>](../../../docs/framework/misc/code-access-security.md)
- [<span data-ttu-id="f48c0-193">Kod erişimi güvenliği temelleri</span><span class="sxs-lookup"><span data-stu-id="f48c0-193">Code Access Security Basics</span></span>](../../../docs/framework/misc/code-access-security-basics.md)
- [<span data-ttu-id="f48c0-194">Öznitelikler</span><span class="sxs-lookup"><span data-stu-id="f48c0-194">Attributes</span></span>](../../../docs/standard/attributes/index.md)
- [<span data-ttu-id="f48c0-195">Meta Veriler ve Kendiliğinden Açıklayıcı Bileşenler</span><span class="sxs-lookup"><span data-stu-id="f48c0-195">Metadata and Self-Describing Components</span></span>](../../../docs/standard/metadata-and-self-describing-components.md)
