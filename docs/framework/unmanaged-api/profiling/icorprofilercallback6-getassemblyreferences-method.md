---
title: ICorProfilerCallback6::GetAssemblyReferences Yöntemi
ms.date: 03/30/2017
dev_langs:
- cpp
api_name:
- ICorProfilerCallback6.GetAssemblyReferences
api_location:
- mscorwks.dll
- corprof.idl
api_type:
- COM
ms.assetid: 8b391afb-d79f-41bd-94ce-43ce62c6b5fc
topic_type:
- apiref
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 2c5296fbab71c67572718a58fedb9f89b064f816
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59214695"
---
# <a name="icorprofilercallback6getassemblyreferences-method"></a><span data-ttu-id="0023f-102">ICorProfilerCallback6::GetAssemblyReferences Yöntemi</span><span class="sxs-lookup"><span data-stu-id="0023f-102">ICorProfilerCallback6::GetAssemblyReferences Method</span></span>
<span data-ttu-id="0023f-103">[.NET Framework 4.5.2 ve sonraki sürümlerinde desteklenen]</span><span class="sxs-lookup"><span data-stu-id="0023f-103">[Supported in the .NET Framework 4.5.2 and later versions]</span></span>  
  
 <span data-ttu-id="0023f-104">Profil Oluşturucu, ortak dil çalışma zamanı bir bütünleştirilmiş kod başvurusu kapanış Yürüme gerçekleştirirken bir derleme bir çok erken aşama, yükleniyor olduğunu bildirir.</span><span class="sxs-lookup"><span data-stu-id="0023f-104">Notifies the profiler that an assembly is in a very early loading stage, when the common language runtime performs an assembly reference closure walk.</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="0023f-105">Sözdizimi</span><span class="sxs-lookup"><span data-stu-id="0023f-105">Syntax</span></span>  
  
```cpp
HRESULT GetAssemblyReferences(        [in, string] const WCHAR* wszAssemblyPath,  
        [in] ICorProfilerAssemblyReferenceProvider* pAsmRefProvider  
);  
```  
  
## <a name="parameters"></a><span data-ttu-id="0023f-106">Parametreler</span><span class="sxs-lookup"><span data-stu-id="0023f-106">Parameters</span></span>  
 `wszAssemblyPath`  
 <span data-ttu-id="0023f-107">[in] Olan meta veri değiştirilecek derlemenin adı ve yolu.</span><span class="sxs-lookup"><span data-stu-id="0023f-107">[in] The path and name of the assembly whose metadata will be modified.</span></span>  
  
 `pAsmRefProvider`  
 <span data-ttu-id="0023f-108">[in] Adresine bir işaretçi bir [Icorprofilerassemblyreferenceprovider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) derlemeyi belirtir arabirimi başvuruları ekleyin.</span><span class="sxs-lookup"><span data-stu-id="0023f-108">[in] A pointer to the address of an [ICorProfilerAssemblyReferenceProvider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) interface that specifies the assembly references to add.</span></span>  
  
## <a name="return-value"></a><span data-ttu-id="0023f-109">Dönüş Değeri</span><span class="sxs-lookup"><span data-stu-id="0023f-109">Return Value</span></span>  
 <span data-ttu-id="0023f-110">Bu geri arama dönüş değerleri yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="0023f-110">Return values from this callback are ignored.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="0023f-111">Açıklamalar</span><span class="sxs-lookup"><span data-stu-id="0023f-111">Remarks</span></span>  
 <span data-ttu-id="0023f-112">Bu geri çağırma ayarlanmasıyla denetlenir [COR_PRF_HIGH_ADD_ASSEMBLY_REFERENCES](../../../../docs/framework/unmanaged-api/profiling/cor-prf-high-monitor-enumeration.md) çağırırken olay maskesini bayrağı [ICorProfilerCallback5::SetEventMask2](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo5-seteventmask2-method.md) yöntemi.</span><span class="sxs-lookup"><span data-stu-id="0023f-112">This callback is controlled by setting the [COR_PRF_HIGH_ADD_ASSEMBLY_REFERENCES](../../../../docs/framework/unmanaged-api/profiling/cor-prf-high-monitor-enumeration.md) event mask flag when calling the [ICorProfilerCallback5::SetEventMask2](../../../../docs/framework/unmanaged-api/profiling/icorprofilerinfo5-seteventmask2-method.md) method.</span></span> <span data-ttu-id="0023f-113">Profil Oluşturucu kayıtlıysa [Icorprofilercallback6::getassemblyreferences](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback6-getassemblyreferences-method.md) geri çağırma yöntemi, çalışma zamanı geçirir, bir işaretçi ile birlikte yüklenecek derlemenin adı ve yolunu bir [ Icorprofilerassemblyreferenceprovider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) bu yönteme arabirimi nesnesi.</span><span class="sxs-lookup"><span data-stu-id="0023f-113">If the profiler registers for the [ICorProfilerCallback6::GetAssemblyReferences](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback6-getassemblyreferences-method.md) callback method, the runtime passes the path and name of the assembly to be loaded, along with a pointer to an [ICorProfilerAssemblyReferenceProvider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) interface object to that method.</span></span> <span data-ttu-id="0023f-114">Profil Oluşturucu ardından çağırabilirsiniz [Icorprofilerassemblyreferenceprovider::addassemblyreference](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md) yöntemi ile bir `COR_PRF_ASSEMBLY_REFERENCE_INFO` her hedef derleme planları içinde belirtilen derleme başvuru yapmak için nesne `GetAssemblyReferences` geri çağırma.</span><span class="sxs-lookup"><span data-stu-id="0023f-114">The profiler can then call the [ICorProfilerAssemblyReferenceProvider::AddAssemblyReference](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md) method with a `COR_PRF_ASSEMBLY_REFERENCE_INFO` object for each target assembly it plans to reference from the assembly specified in the `GetAssemblyReferences` callback.</span></span>  
  
 <span data-ttu-id="0023f-115">Kullanım `GetAssemblyReferences` yalnızca derleme başvuruları eklemek için bir derlemenin meta verilerini değiştirmek profil oluşturucu sahipse, geri çağırma.</span><span class="sxs-lookup"><span data-stu-id="0023f-115">Use the `GetAssemblyReferences` callback only if the profiler has to modify an assembly's metadata to add assembly references.</span></span> <span data-ttu-id="0023f-116">(Ancak gerçek bir derlemenin meta verilerini değiştirilmesini yapılır Not [Icorprofilercallback::moduleloadfinished](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-moduleloadfinished-method.md)geri çağırma yöntemi.) Profil Oluşturucu uygulamalıdır `GetAssemblyReferences` modül yüklendiğinde derleme başvurularını eklenecek ortak dil çalışma zamanı (CLR) bildirmek için geri çağırma yöntemi.</span><span class="sxs-lookup"><span data-stu-id="0023f-116">(But note that the actual modification of an assembly's metadata is done in the [ICorProfilerCallback::ModuleLoadFinished](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-moduleloadfinished-method.md)callback method.) The profiler should implement the `GetAssemblyReferences` callback method to inform the common language runtime (CLR) that assembly references will be added when the module has been loaded.</span></span>  <span data-ttu-id="0023f-117">Bu meta veri bütünleştirilmiş kod başvuruları daha sonra değiştirmek profil oluşturucu planları olsa da, bu erken bir aşamasında CLR tarafından alınan derleme paylaşım kararları geçerli kaldığından emin olun yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="0023f-117">This helps ensure that assembly sharing decisions made by the CLR during this early stage remain valid although the profiler plans to modify the metadata assembly references later.</span></span>  <span data-ttu-id="0023f-118">Bu meta veri değişiklikleri hangi Profil Oluşturucusu'nda neden bazı örnekleri kaçınabilirsiniz bir `SECURITY_E_INCOMPATIBLE_SHARE` hata.</span><span class="sxs-lookup"><span data-stu-id="0023f-118">This can avoid some instances in which profiler metadata modifications cause an `SECURITY_E_INCOMPATIBLE_SHARE` error.</span></span>  
  
 <span data-ttu-id="0023f-119">Profil Oluşturucu kullanan [Icorprofilerassemblyreferenceprovider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) CLR bütünleştirilmiş kod başvurusu kapanış walker bütünleştirilmiş kod başvuruları eklemek için bu yöntem tarafından sağlanan nesne.</span><span class="sxs-lookup"><span data-stu-id="0023f-119">The profiler uses the [ICorProfilerAssemblyReferenceProvider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) object provided by this method to add assembly references to the CLR assembly reference closure walker.</span></span>  <span data-ttu-id="0023f-120">[Icorprofilerassemblyreferenceprovider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) nesne kullanılmalıdır yalnızca içinde bu geri çağırma.</span><span class="sxs-lookup"><span data-stu-id="0023f-120">The [ICorProfilerAssemblyReferenceProvider](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md) object should be used only from within this callback.</span></span> <span data-ttu-id="0023f-121">Çağrılar [Icorprofilerassemblyreferenceprovider::addassemblyreference](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md) bu geri çağırma yöntemi yok değiştirilmiş meta verilerde, ancak yalnızca değiştirilen derleme başvurusu kapanış Yürüme neden.</span><span class="sxs-lookup"><span data-stu-id="0023f-121">Calls to the [ICorProfilerAssemblyReferenceProvider::AddAssemblyReference](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md) method from this callback don't result in modified metadata, but only in a modified assembly reference closure walk.</span></span> <span data-ttu-id="0023f-122">Profil Oluşturucu hala kullanması gerekir bir [Imetadataassemblyemit](../../../../docs/framework/unmanaged-api/metadata/imetadataassemblyemit-interface.md) açıkça içinde derleme başvuruları eklemek için nesne [Icorprofilercallback::moduleloadfinished](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-moduleloadfinished-method.md) başvuru için geri çağırma derleme, onu uygulayan olsa bile `GetAssemblyReferences` geri çağırma.</span><span class="sxs-lookup"><span data-stu-id="0023f-122">The profiler will still have to use an [IMetaDataAssemblyEmit](../../../../docs/framework/unmanaged-api/metadata/imetadataassemblyemit-interface.md) object to explicitly add assembly references from within the [ICorProfilerCallback::ModuleLoadFinished](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-moduleloadfinished-method.md) callback for the referencing assembly, even if it implements the `GetAssemblyReferences` callback.</span></span>  
  
 <span data-ttu-id="0023f-123">Profil Oluşturucu aynı derleme için bu geri çağırma yinelenen çağrıları almak hazırlıklı olmalıdır ve her tür yinelenen çağrısı için aynı şekilde yanıt vermesi gerekir (aynı yaparak [Icorprofilerassemblyreferenceprovider:: AddAssemblyReference](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md) çağırır).</span><span class="sxs-lookup"><span data-stu-id="0023f-123">The profiler should be prepared to receive duplicate calls to this callback for the same assembly, and should respond identically for each such duplicate call (by making the same set of [ICorProfilerAssemblyReferenceProvider::AddAssemblyReference](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md) calls).</span></span>  
  
## <a name="requirements"></a><span data-ttu-id="0023f-124">Gereksinimler</span><span class="sxs-lookup"><span data-stu-id="0023f-124">Requirements</span></span>  
 <span data-ttu-id="0023f-125">**Platformlar:** Bkz: [sistem gereksinimleri](../../../../docs/framework/get-started/system-requirements.md).</span><span class="sxs-lookup"><span data-stu-id="0023f-125">**Platforms:** See [System Requirements](../../../../docs/framework/get-started/system-requirements.md).</span></span>  
  
 <span data-ttu-id="0023f-126">**Üst bilgi:** CorProf.idl, CorProf.h</span><span class="sxs-lookup"><span data-stu-id="0023f-126">**Header:** CorProf.idl, CorProf.h</span></span>  
  
 <span data-ttu-id="0023f-127">**Kitaplığı:** CorGuids.lib</span><span class="sxs-lookup"><span data-stu-id="0023f-127">**Library:** CorGuids.lib</span></span>  
  
 <span data-ttu-id="0023f-128">**.NET framework sürümleri:** [!INCLUDE[net_current_v452plus](../../../../includes/net-current-v452plus-md.md)]</span><span class="sxs-lookup"><span data-stu-id="0023f-128">**.NET Framework Versions:** [!INCLUDE[net_current_v452plus](../../../../includes/net-current-v452plus-md.md)]</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0023f-129">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="0023f-129">See also</span></span>

- [<span data-ttu-id="0023f-130">ICorProfilerCallback6 Arabirimi</span><span class="sxs-lookup"><span data-stu-id="0023f-130">ICorProfilerCallback6 Interface</span></span>](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback6-interface.md)
- [<span data-ttu-id="0023f-131">ModuleLoadFinished Yöntemi</span><span class="sxs-lookup"><span data-stu-id="0023f-131">ModuleLoadFinished Method</span></span>](../../../../docs/framework/unmanaged-api/profiling/icorprofilercallback-moduleloadfinished-method.md)
- [<span data-ttu-id="0023f-132">COR_PRF_ASSEMBLY_REFERENCE_INFO Yapısı</span><span class="sxs-lookup"><span data-stu-id="0023f-132">COR_PRF_ASSEMBLY_REFERENCE_INFO Structure</span></span>](../../../../docs/framework/unmanaged-api/profiling/cor-prf-assembly-reference-info-structure.md)
- [<span data-ttu-id="0023f-133">ICorProfilerAssemblyReferenceProvider Arabirimi</span><span class="sxs-lookup"><span data-stu-id="0023f-133">ICorProfilerAssemblyReferenceProvider Interface</span></span>](../../../../docs/framework/unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-interface.md)
