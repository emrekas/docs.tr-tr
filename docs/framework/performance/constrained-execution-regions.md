---
title: Kısıtlı Yürütme Bölgeleri
ms.date: 03/30/2017
helpviewer_keywords:
- constrained execution regions
- CERs
ms.assetid: 99354547-39c1-4b0b-8553-938e8f8d1808
author: mairaw
ms.author: mairaw
ms.openlocfilehash: d4c1d07e2469a36c4b8e1ef7b8d90a80a3530ae3
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61787978"
---
# <a name="constrained-execution-regions"></a><span data-ttu-id="26fa6-102">Kısıtlı Yürütme Bölgeleri</span><span class="sxs-lookup"><span data-stu-id="26fa6-102">Constrained Execution Regions</span></span>
<span data-ttu-id="26fa6-103">Kısıtlı yürütme bölge (CER) güvenilir yönetilen kod yazmak için bir mekanizma bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-103">A constrained execution region (CER) is part of a mechanism for authoring reliable managed code.</span></span> <span data-ttu-id="26fa6-104">Bir CER alanında kod tamamen yürütülmesini engelleyen bant dışı özel durumları atma gelen ortak dil çalışma zamanı (CLR) kısıtlı bir alan tanımlar.</span><span class="sxs-lookup"><span data-stu-id="26fa6-104">A CER defines an area in which the common language runtime (CLR) is constrained from throwing out-of-band exceptions that would prevent the code in the area from executing in its entirety.</span></span> <span data-ttu-id="26fa6-105">Bu bölge içinde kullanıcı kodu bant dışı özel durumları atma neden olan kod yürütülmesini sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-105">Within that region, user code is constrained from executing code that would result in the throwing of out-of-band exceptions.</span></span> <span data-ttu-id="26fa6-106"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> Yöntemi hemen gelmelidir bir `try` blok ve işaretleri `catch`, `finally`, ve `fault` kısıtlı yürütme bölgeleri olarak engeller.</span><span class="sxs-lookup"><span data-stu-id="26fa6-106">The <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> method must immediately precede a `try` block and marks `catch`, `finally`, and `fault` blocks as constrained execution regions.</span></span> <span data-ttu-id="26fa6-107">Kısıtlı bölge işaretlenmiş bir kez kod yalnızca diğer güçlü bir güvenilirlik sözleşmeleri koduyla çağırmanız gerekir ve kod ayırmak veya gerekir kod hatalarını işlemek için hazırlanan sürece hazırlıksız ya da güvenilir olmayan yöntemleri sanal çağrı yapmak.</span><span class="sxs-lookup"><span data-stu-id="26fa6-107">Once marked as a constrained region, code must only call other code with strong reliability contracts, and code should not allocate or make virtual calls to unprepared or unreliable methods unless the code is prepared to handle failures.</span></span> <span data-ttu-id="26fa6-108">İçinde bir CER yürütülmekte olan kod için CLR gecikmeler iş parçacığını durdurur.</span><span class="sxs-lookup"><span data-stu-id="26fa6-108">The CLR delays thread aborts for code that is executing in a CER.</span></span>  
  
 <span data-ttu-id="26fa6-109">Kısıtlı yürütme bölgeleri ek açıklamalı bir CLR farklı formlarında kullanılan `try` özellikle türetilen sınıflarda yürütme kritik sonlandırıcılar bloğunda <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> sınıfı ve kod kullanılarak yürütülen <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="26fa6-109">Constrained execution regions are used in different forms in the CLR in addition to an annotated `try` block, notably critical finalizers executing in classes derived from the <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> class and code executed using the <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> method.</span></span>  
  
## <a name="cer-advance-preparation"></a><span data-ttu-id="26fa6-110">CER ön hazırlık</span><span class="sxs-lookup"><span data-stu-id="26fa6-110">CER Advance Preparation</span></span>  
 <span data-ttu-id="26fa6-111">CLR CERs önceden bellek yetersiz koşullar önlemek için hazırlar.</span><span class="sxs-lookup"><span data-stu-id="26fa6-111">The CLR prepares CERs in advance to avoid out-of-memory conditions.</span></span> <span data-ttu-id="26fa6-112">Ön hazırlık gerekli olduğundan CLR tam zamanında derleme veya tür yükleme sırasında bir bellek yetersizliği koşulu neden olmaz.</span><span class="sxs-lookup"><span data-stu-id="26fa6-112">Advance preparation is required so the CLR does not cause an out of memory condition during just-in-time compilation or type loading.</span></span>  
  
 <span data-ttu-id="26fa6-113">Geliştirici kodu bölge bir CER olduğunu belirtmek için gereklidir:</span><span class="sxs-lookup"><span data-stu-id="26fa6-113">The developer is required to indicate that a code region is a CER:</span></span>  
  
- <span data-ttu-id="26fa6-114">Tam çağrı grafı sahip yöntemleri ve üst düzey CER bölge <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> uygulanan öznitelik hazır önceden.</span><span class="sxs-lookup"><span data-stu-id="26fa6-114">The top level CER region and methods in the full call graph that have the <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> attribute applied are prepared in advance.</span></span> <span data-ttu-id="26fa6-115"><xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> Garanti etmez. yalnızca durum <xref:System.Runtime.ConstrainedExecution.Cer.Success> veya <xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-115">The <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> can only state guarantees of <xref:System.Runtime.ConstrainedExecution.Cer.Success> or <xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span></span>  
  
- <span data-ttu-id="26fa6-116">Statik olarak, sanal gönderme gibi belirlenemiyor çağrıları için ön hazırlık gerçekleştirilemiyor.</span><span class="sxs-lookup"><span data-stu-id="26fa6-116">Advance preparation cannot be performed for calls that cannot be statically determined, such as virtual dispatch.</span></span> <span data-ttu-id="26fa6-117">Kullanım <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareMethod%2A> bu gibi durumlarda yöntemi.</span><span class="sxs-lookup"><span data-stu-id="26fa6-117">Use the <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareMethod%2A> method in these cases.</span></span> <span data-ttu-id="26fa6-118">Kullanırken <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> yöntemi <xref:System.Runtime.ConstrainedExecution.PrePrepareMethodAttribute> özniteliği için kod temizleme uygulanması.</span><span class="sxs-lookup"><span data-stu-id="26fa6-118">When using the <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> method, the <xref:System.Runtime.ConstrainedExecution.PrePrepareMethodAttribute> attribute should be applied to the clean up code.</span></span>  
  
## <a name="constraints"></a><span data-ttu-id="26fa6-119">Kısıtlamalar</span><span class="sxs-lookup"><span data-stu-id="26fa6-119">Constraints</span></span>  
 <span data-ttu-id="26fa6-120">Kullanıcılar, içinde bir CER yazmak kodun türünü kısıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-120">Users are constrained in the type of code they can write in a CER.</span></span> <span data-ttu-id="26fa6-121">Kod, bir bant dışı özel neden olamaz, aşağıdaki işlemlerinden gibi neden olabilir:</span><span class="sxs-lookup"><span data-stu-id="26fa6-121">The code cannot cause an out-of-band exception, such as might result from the following operations:</span></span>  
  
- <span data-ttu-id="26fa6-122">Açık ayırma.</span><span class="sxs-lookup"><span data-stu-id="26fa6-122">Explicit allocation.</span></span>  
  
- <span data-ttu-id="26fa6-123">Kutulama.</span><span class="sxs-lookup"><span data-stu-id="26fa6-123">Boxing.</span></span>  
  
- <span data-ttu-id="26fa6-124">Bir kilit alınırken.</span><span class="sxs-lookup"><span data-stu-id="26fa6-124">Acquiring a lock.</span></span>  
  
- <span data-ttu-id="26fa6-125">Neredeyse hazır değil yöntemleri çağırma.</span><span class="sxs-lookup"><span data-stu-id="26fa6-125">Calling unprepared methods virtually.</span></span>  
  
- <span data-ttu-id="26fa6-126">Zayıf ya da yok güvenilirlik sözleşme ile arama yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="26fa6-126">Calling methods with a weak or nonexistent reliability contract.</span></span>  
  
 <span data-ttu-id="26fa6-127">.NET Framework sürüm 2. 0'da, bu kısıtlamaları yönergelerdir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-127">In the .NET Framework version 2.0, these constraints are guidelines.</span></span> <span data-ttu-id="26fa6-128">Tanılama kod çözümleme araçları sağlanır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-128">Diagnostics are provided through code analysis tools.</span></span>  
  
## <a name="reliability-contracts"></a><span data-ttu-id="26fa6-129">Güvenilirlik sözleşmeleri</span><span class="sxs-lookup"><span data-stu-id="26fa6-129">Reliability Contracts</span></span>  
 <span data-ttu-id="26fa6-130"><xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> Güvenilirlik garantisi ve belirli bir yöntemin Bozulması durumunu belgeler özel bir özniteliktir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-130">The <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> is a custom attribute that documents the reliability guarantees and the corruption state of a given method.</span></span>  
  
### <a name="reliability-guarantees"></a><span data-ttu-id="26fa6-131">Güvenilirlik garantisi</span><span class="sxs-lookup"><span data-stu-id="26fa6-131">Reliability Guarantees</span></span>  
 <span data-ttu-id="26fa6-132">Güvenilirlik garantisi, tarafından temsil edilen <xref:System.Runtime.ConstrainedExecution.Cer> sabit listesi değerleri, belirli bir yöntemin güvenilirliğini derecesini gösterir:</span><span class="sxs-lookup"><span data-stu-id="26fa6-132">Reliability guarantees, represented by <xref:System.Runtime.ConstrainedExecution.Cer> enumeration values, indicate the degree of reliability of a given method:</span></span>  
  
- <span data-ttu-id="26fa6-133"><xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-133"><xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span></span> <span data-ttu-id="26fa6-134">Olağanüstü durumlarda, yöntem başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-134">Under exceptional conditions, the method might fail.</span></span> <span data-ttu-id="26fa6-135">Bu durumda, yöntem başarılı veya başarısız olmadığını çağıran Metoda bildirir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-135">In this case, the method reports back to the calling method whether it succeeded or failed.</span></span> <span data-ttu-id="26fa6-136">Yöntemin dönüş değeri bildirebilirsiniz emin olmak için bir CER yer almalıdır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-136">The method must be contained in a CER to ensure that it can report the return value.</span></span>  
  
- <span data-ttu-id="26fa6-137"><xref:System.Runtime.ConstrainedExecution.Cer.None>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-137"><xref:System.Runtime.ConstrainedExecution.Cer.None>.</span></span> <span data-ttu-id="26fa6-138">Yöntemi, türün veya derlemenin bir CER kavramı vardır ve en büyük olasılıkla önemli bir risk azaltma durumu Bozulması olmadan bir CER içinde çağırmak güvenli.</span><span class="sxs-lookup"><span data-stu-id="26fa6-138">The method, type, or assembly has no concept of a CER and is most likely not safe to call within a CER without substantial mitigation from state corruption.</span></span> <span data-ttu-id="26fa6-139">CER garanti avantajlarından almaz.</span><span class="sxs-lookup"><span data-stu-id="26fa6-139">It does not take advantage of CER guarantees.</span></span> <span data-ttu-id="26fa6-140">Bu, aşağıdaki gelir:</span><span class="sxs-lookup"><span data-stu-id="26fa6-140">This implies the following:</span></span>  
  
    1. <span data-ttu-id="26fa6-141">Olağanüstü durumlarda, yöntem başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-141">Under exceptional conditions the method might fail.</span></span>  
  
    2. <span data-ttu-id="26fa6-142">Yöntem olabilir veya başarısız olduğunu rapor edemeyebilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-142">The method might or might not report that it failed.</span></span>  
  
    3. <span data-ttu-id="26fa6-143">Yöntem bir CER en olası senaryo kullanılacak yazılmaz.</span><span class="sxs-lookup"><span data-stu-id="26fa6-143">The method is not written to use a CER, the most likely scenario.</span></span>  
  
    4. <span data-ttu-id="26fa6-144">Yöntemi, tür veya derleme açıkça başarılı olması için tanımlanmamışsa, örtük olarak tanımlandığını <xref:System.Runtime.ConstrainedExecution.Cer.None>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-144">If a method, type, or assembly is not explicitly identified to succeed, it is implicitly identified as <xref:System.Runtime.ConstrainedExecution.Cer.None>.</span></span>  
  
- <span data-ttu-id="26fa6-145"><xref:System.Runtime.ConstrainedExecution.Cer.Success>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-145"><xref:System.Runtime.ConstrainedExecution.Cer.Success>.</span></span> <span data-ttu-id="26fa6-146">Olağanüstü durumlarda, yöntem başarılı olması garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-146">Under exceptional conditions, the method is guaranteed to succeed.</span></span> <span data-ttu-id="26fa6-147">Bu düzeyde güvenilirlik elde etmek için her zaman, hatta zaman bunu CER olmayan bölge içinde çağrılır çağrılan yöntem etrafında bir CER oluşturmak.</span><span class="sxs-lookup"><span data-stu-id="26fa6-147">To achieve this level of reliability you should always construct a CER around the method that is called, even when it is called from within a non-CER region.</span></span> <span data-ttu-id="26fa6-148">Bir yöntem başarı subjectively görüntülenebilir ancak amaçlanan, gerçekleştirir başarılı olur.</span><span class="sxs-lookup"><span data-stu-id="26fa6-148">A method is successful if it accomplishes what is intended, although success can be viewed subjectively.</span></span> <span data-ttu-id="26fa6-149">Örneğin, sayısı ile işaretlemeyi `ReliabilityContractAttribute(Cer.Success)` bir CER altında çalışırken, her zaman öğelerin sayısını döndürür, gelir <xref:System.Collections.ArrayList> ve hiçbir zaman iç alanların belirsiz bir durumda bırakılabilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-149">For example, marking Count with `ReliabilityContractAttribute(Cer.Success)` implies that when it is run under a CER, it always returns a count of the number of elements in the <xref:System.Collections.ArrayList> and it can never leave the internal fields in an undetermined state.</span></span>  <span data-ttu-id="26fa6-150">Ancak, <xref:System.Threading.Interlocked.CompareExchange%2A> yöntemi başarı değeri değil yerine bir yarış durumu nedeniyle yeni bir değerle gelebilir anlama ile de başarılı işaretlenir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-150">However, the <xref:System.Threading.Interlocked.CompareExchange%2A> method is marked as success as well, with the understanding that success may mean the value could not be replaced with a new value due to a race condition.</span></span>  <span data-ttu-id="26fa6-151">Anahtar yöntemi davranmaya belirtildiği şekilde davranan ve CER kodu, doğru ancak güvenilir olmayan kod gibi görünür ötesinde herhangi bir olağan dışı davranış beklenir yazılması gerekmez. noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-151">The key point is that the method behaves in the way it is documented to behave, and CER code does not need to be written to expect any unusual behavior beyond what correct but unreliable code would look like.</span></span>  
  
### <a name="corruption-levels"></a><span data-ttu-id="26fa6-152">Bozulma düzeyleri</span><span class="sxs-lookup"><span data-stu-id="26fa6-152">Corruption levels</span></span>  
 <span data-ttu-id="26fa6-153">Bozulma düzeyi temsil ettiği <xref:System.Runtime.ConstrainedExecution.Consistency> numaralandırma değerlerini göstermek verilen ortamda ne kadar durumu bozulmuş olabilir:</span><span class="sxs-lookup"><span data-stu-id="26fa6-153">Corruption levels, represented by <xref:System.Runtime.ConstrainedExecution.Consistency> enumeration values, indicate how much state may be corrupted in a given environment:</span></span>  
  
- <span data-ttu-id="26fa6-154"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptAppDomain>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-154"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptAppDomain>.</span></span> <span data-ttu-id="26fa6-155">Olağanüstü durumlarda, ortak dil çalışma zamanı (CLR) geçerli uygulama etki alanında ilgili durum tutarlılık garantisi sağlar.</span><span class="sxs-lookup"><span data-stu-id="26fa6-155">Under exceptional conditions, the common language runtime (CLR) makes no guarantees regarding state consistency in the current application domain.</span></span>  
  
- <span data-ttu-id="26fa6-156"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptInstance>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-156"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptInstance>.</span></span> <span data-ttu-id="26fa6-157">Olağanüstü durumlarda yöntem geçerli örneğe durumu Bozulması sınırlamak için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-157">Under exceptional conditions, the method is guaranteed to limit state corruption to the current instance.</span></span>  
  
- <span data-ttu-id="26fa6-158"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptProcess>, Özel koşullar altında CLR durumu tutarlılık; ilgili garanti sağlar. diğer bir deyişle, koşul, işlemin bozulmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-158"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptProcess>, Under exceptional conditions, the CLR makes no guarantees regarding state consistency; that is, the condition might corrupt the process.</span></span>  
  
- <span data-ttu-id="26fa6-159"><xref:System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-159"><xref:System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState>.</span></span> <span data-ttu-id="26fa6-160">Olağanüstü durumlarda, yöntem durumunun bozulmasına neden olmayan garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-160">Under exceptional conditions, the method is guaranteed not to corrupt state.</span></span>  
  
## <a name="reliability-trycatchfinally"></a><span data-ttu-id="26fa6-161">Güvenilirlik try/catch/finally</span><span class="sxs-lookup"><span data-stu-id="26fa6-161">Reliability try/catch/finally</span></span>  
 <span data-ttu-id="26fa6-162">Güvenilirlik `try/catch/finally` olan bir özel durum işleme mekanizmasını ile yönetilmeyen sürümü aynı düzeyde öngörülebilirlik garanti eder.</span><span class="sxs-lookup"><span data-stu-id="26fa6-162">The reliability `try/catch/finally` is an exception handling mechanism with the same level of predictability guarantees as the unmanaged version.</span></span> <span data-ttu-id="26fa6-163">`catch/finally` CER bloğudur.</span><span class="sxs-lookup"><span data-stu-id="26fa6-163">The `catch/finally` block is the CER.</span></span> <span data-ttu-id="26fa6-164">Yöntem bloğunda ön hazırlık gerektirir ve noninterruptible olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-164">Methods in the block require advance preparation and must be noninterruptible.</span></span>  
  
 <span data-ttu-id="26fa6-165">.NET Framework 2.0 sürümünde, kodu çalışma zamanı çağırarak bir try güvenilir olduğunu bildirir <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> try bloğunun hemen öncesindeki.</span><span class="sxs-lookup"><span data-stu-id="26fa6-165">In the .NET Framework version 2.0, code informs the runtime that a try is reliable by calling <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> immediately preceding a try block.</span></span> <span data-ttu-id="26fa6-166"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> bir üyesidir <xref:System.Runtime.CompilerServices.RuntimeHelpers>, derleyici desteği sınıfı.</span><span class="sxs-lookup"><span data-stu-id="26fa6-166"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> is a member of <xref:System.Runtime.CompilerServices.RuntimeHelpers>, a compiler support class.</span></span> <span data-ttu-id="26fa6-167">Çağrı <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> kullanılabilirliğini derleyiciler aracılığıyla doğrudan bekliyor.</span><span class="sxs-lookup"><span data-stu-id="26fa6-167">Call <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> directly pending its availability through compilers.</span></span>  
  
## <a name="noninterruptible-regions"></a><span data-ttu-id="26fa6-168">Noninterruptible bölgeleri</span><span class="sxs-lookup"><span data-stu-id="26fa6-168">Noninterruptible Regions</span></span>  
 <span data-ttu-id="26fa6-169">Noninterruptible bölge yönergeleri bir CER içine kümesini gruplar.</span><span class="sxs-lookup"><span data-stu-id="26fa6-169">A noninterruptible region groups a set of instructions into a CER.</span></span>  
  
 <span data-ttu-id="26fa6-170">.NET Framework sürüm 2.0, derleyici desteği aracılığıyla kullanılabilirlik bekleyen bir güvenilir try/catch/öncesinde boş bir try/catch bloğu içeren finally ile kesilebilir olmayan bölgeleri kullanıcı kod oluşturur bir <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> yöntem çağrısı.</span><span class="sxs-lookup"><span data-stu-id="26fa6-170">In .NET Framework version 2.0, pending availability through compiler support, user code creates non-interruptible regions with a reliable try/catch/finally that contains an empty try/catch block preceded by a <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> method call.</span></span>  
  
## <a name="critical-finalizer-object"></a><span data-ttu-id="26fa6-171">Kritik bir sonlandırıcı nesnesi</span><span class="sxs-lookup"><span data-stu-id="26fa6-171">Critical Finalizer Object</span></span>  
 <span data-ttu-id="26fa6-172">A <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> çöp toplama Sonlandırıcı yürütecek garanti eder.</span><span class="sxs-lookup"><span data-stu-id="26fa6-172">A <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> guarantees that garbage collection will execute the finalizer.</span></span> <span data-ttu-id="26fa6-173">Ayırma sırasında Sonlandırıcı ve kendi çağrı grafı önceden hazırlanır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-173">Upon allocation, the finalizer and its call graph are prepared in advance.</span></span> <span data-ttu-id="26fa6-174">Sonlandırıcı yöntemi içinde bir CER yürütür ve CERs ve sonlandırıcılar tüm kısıtlamalar uyma gerekir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-174">The finalizer method executes in a CER, and must obey all the constraints on CERs and finalizers.</span></span>  
  
 <span data-ttu-id="26fa6-175">Öğesinden devralan tüm türleri <xref:System.Runtime.InteropServices.SafeHandle> ve <xref:System.Runtime.InteropServices.CriticalHandle> içinde bir CER yürütme kendi Sonlandırıcı sahip olacağı garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="26fa6-175">Any types inheriting from <xref:System.Runtime.InteropServices.SafeHandle> and <xref:System.Runtime.InteropServices.CriticalHandle> are guaranteed to have their finalizer execute within a CER.</span></span> <span data-ttu-id="26fa6-176">Uygulama <xref:System.Runtime.InteropServices.SafeHandle.ReleaseHandle%2A> içinde <xref:System.Runtime.InteropServices.SafeHandle> türetilmiş sınıfları, tanıtıcı boşaltmak için gerekli herhangi bir kod yürütmek için.</span><span class="sxs-lookup"><span data-stu-id="26fa6-176">Implement <xref:System.Runtime.InteropServices.SafeHandle.ReleaseHandle%2A> in <xref:System.Runtime.InteropServices.SafeHandle> derived classes to execute any code that is required to free the handle.</span></span>  
  
## <a name="code-not-permitted-in-cers"></a><span data-ttu-id="26fa6-177">Kod içinde CERs izin verilmez</span><span class="sxs-lookup"><span data-stu-id="26fa6-177">Code Not Permitted in CERs</span></span>  
 <span data-ttu-id="26fa6-178">Aşağıdaki işlemleri CERs içinde izin verilmez:</span><span class="sxs-lookup"><span data-stu-id="26fa6-178">The following operations are not permitted in CERs:</span></span>  
  
- <span data-ttu-id="26fa6-179">Açık ayırmalar.</span><span class="sxs-lookup"><span data-stu-id="26fa6-179">Explicit allocations.</span></span>  
  
- <span data-ttu-id="26fa6-180">Bir kilit alınırken.</span><span class="sxs-lookup"><span data-stu-id="26fa6-180">Acquiring a lock.</span></span>  
  
- <span data-ttu-id="26fa6-181">Kutulama.</span><span class="sxs-lookup"><span data-stu-id="26fa6-181">Boxing.</span></span>  
  
- <span data-ttu-id="26fa6-182">Çok boyutlu bir dizi erişim.</span><span class="sxs-lookup"><span data-stu-id="26fa6-182">Multidimensional array access.</span></span>  
  
- <span data-ttu-id="26fa6-183">Yansıma yoluyla yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="26fa6-183">Method calls through reflection.</span></span>  
  
- <span data-ttu-id="26fa6-184"><xref:System.Threading.Monitor.Enter%2A> veya <xref:System.IO.FileStream.Lock%2A>.</span><span class="sxs-lookup"><span data-stu-id="26fa6-184"><xref:System.Threading.Monitor.Enter%2A> or <xref:System.IO.FileStream.Lock%2A>.</span></span>  
  
- <span data-ttu-id="26fa6-185">Güvenlik denetimleri.</span><span class="sxs-lookup"><span data-stu-id="26fa6-185">Security checks.</span></span> <span data-ttu-id="26fa6-186">Talepleri gerçekleştirmek değil, yalnızca taleplerini bağlantı.</span><span class="sxs-lookup"><span data-stu-id="26fa6-186">Do not perform demands, only link demands.</span></span>  
  
- <span data-ttu-id="26fa6-187"><xref:System.Reflection.Emit.OpCodes.Isinst> ve <xref:System.Reflection.Emit.OpCodes.Castclass> COM nesneleri ve proxy'ler</span><span class="sxs-lookup"><span data-stu-id="26fa6-187"><xref:System.Reflection.Emit.OpCodes.Isinst> and <xref:System.Reflection.Emit.OpCodes.Castclass> for COM objects and proxies</span></span>  
  
- <span data-ttu-id="26fa6-188">Alma veya saydam bir proxy alanlarını ayarlama.</span><span class="sxs-lookup"><span data-stu-id="26fa6-188">Getting or setting fields on a transparent proxy.</span></span>  
  
- <span data-ttu-id="26fa6-189">Seri hale getirme.</span><span class="sxs-lookup"><span data-stu-id="26fa6-189">Serialization.</span></span>  
  
- <span data-ttu-id="26fa6-190">İşlev işaretçileri ve temsilciler.</span><span class="sxs-lookup"><span data-stu-id="26fa6-190">Function pointers and delegates.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="26fa6-191">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="26fa6-191">See also</span></span>

- [<span data-ttu-id="26fa6-192">Güvenilirlik En İyi Yöntemleri</span><span class="sxs-lookup"><span data-stu-id="26fa6-192">Reliability Best Practices</span></span>](../../../docs/framework/performance/reliability-best-practices.md)
