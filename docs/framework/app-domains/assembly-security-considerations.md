---
title: Derleme Güvenliği Konuları
ms.date: 03/30/2017
helpviewer_keywords:
- assemblies [.NET Framework], security
- signcodes
- names [.NET Framework], assemblies
- strong-named assemblies, security considerations
- signing assemblies
- assemblies [.NET Framework], signing
- granting permissions, assemblies
- assemblies [.NET Framework], strong-named
- names [.NET Framework], strong names
- permissions [.NET Framework], assemblies
- security [.NET Framework], assemblies
- integrity with assemblies
ms.assetid: 1b5439c1-f3d5-4529-bd69-01814703d067
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: e74d7a4a72b9595d6a280a16ad9bbc4118648404
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61705707"
---
# <a name="assembly-security-considerations"></a><span data-ttu-id="c6bd7-102">Derleme Güvenliği Konuları</span><span class="sxs-lookup"><span data-stu-id="c6bd7-102">Assembly Security Considerations</span></span>
<a name="top"></a> <span data-ttu-id="c6bd7-103">Bir derleme oluşturduğunuzda, derlemenin çalışması için gerekli izinler kümesi belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-103">When you build an assembly, you can specify a set of permissions that the assembly requires to run.</span></span> <span data-ttu-id="c6bd7-104">Bir derlemeye belirli izinlerin verilip verilmediği kanıta göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-104">Whether certain permissions are granted or not granted to an assembly is based on evidence.</span></span>  
  
 <span data-ttu-id="c6bd7-105">Kanıtın kullanıldığı iki farklı yol vardır:</span><span class="sxs-lookup"><span data-stu-id="c6bd7-105">There are two distinct ways evidence is used:</span></span>  
  
- <span data-ttu-id="c6bd7-106">Giriş kanıtı yükleyici tarafından toplanan kanıtla birleştirilerek ilke çözümlemesi için kullanılacak olan son kanıt kümesini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-106">The input evidence is merged with the evidence gathered by the loader to create a final set of evidence used for policy resolution.</span></span> <span data-ttu-id="c6bd7-107">Bu semantiği kullanan yöntemlerden **Assembly.Load**, **Assembly.LoadFrom**, ve **Activator.CreateInstance**.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-107">The methods that use this semantic include **Assembly.Load**, **Assembly.LoadFrom**, and **Activator.CreateInstance**.</span></span>  
  
- <span data-ttu-id="c6bd7-108">Giriş kanıtı, ilke çözümlemesi için kullanılan son kanıt kümesi olarak değiştirilmeden kullanılır.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-108">The input evidence is used unaltered as the final set of evidence used for policy resolution.</span></span> <span data-ttu-id="c6bd7-109">Bu semantiği kullanan yöntemlerden **Assembly.Load(byte[])** ve **AppDomain.DefineDynamicAssembly()**.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-109">The methods that use this semantic include **Assembly.Load(byte[])** and **AppDomain.DefineDynamicAssembly()**.</span></span>  
  
 <span data-ttu-id="c6bd7-110">Tarafından isteğe bağlı izinler verilebilir [Güvenlik İlkesi](../../../docs/framework/misc/code-access-security-basics.md) derlemenin çalışacağı bilgisayarda ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-110">Optional permissions can be granted by the [security policy](../../../docs/framework/misc/code-access-security-basics.md) set on the computer where the assembly will run.</span></span> <span data-ttu-id="c6bd7-111">Kodunuzun tüm olası güvenlik özel durumlarını işlemesini istiyorsanız, aşağıdakilerden birini yapabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="c6bd7-111">If you want your code to handle all potential security exceptions, you can do one of the following:</span></span>  
  
- <span data-ttu-id="c6bd7-112">Kodunuzun sahip olması gereken tüm izinler için bir izin isteği ekleyin ve izinler verilmezse gerçekleşecek yükleme zamanı hatasını önden işleyin.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-112">Insert a permission request for all the permissions your code must have, and handle up front the load-time failure that occurs if the permissions are not granted.</span></span>  
  
- <span data-ttu-id="c6bd7-113">Kodunuzun ihtiyacı olabilecek izinleri almak için bir izin isteği kullanmayın, ancak izinler verilmezse oluşacak güvenlik özel durumlarını işlemeye hazır olun.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-113">Do not use a permission request to obtain permissions your code might need, but be prepared to handle security exceptions if permissions are not granted.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="c6bd7-114">Güvenlik karmaşık bir alandır ve pek çok seçeneğiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-114">Security is a complex area, and you have many options to choose from.</span></span> <span data-ttu-id="c6bd7-115">Daha fazla bilgi için [temel güvenlik kavramları](../../../docs/standard/security/key-security-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd7-115">For more information, see [Key Security Concepts](../../../docs/standard/security/key-security-concepts.md).</span></span>  
  
 <span data-ttu-id="c6bd7-116">Yükleme zamanında derlemenin kanıtı güvenlik ilkesine giriş olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-116">At load time, the assembly's evidence is used as input to security policy.</span></span> <span data-ttu-id="c6bd7-117">Güvenlik ilkesi, kuruluş ve bilgisayar yöneticisinin yanı sıra kullanıcı ilke ayarları tarafından belirlenir ve yürütüldüklerinde tüm yönetilen kodlara verilen izinler kümesini belirler.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-117">Security policy is established by the enterprise and the computer's administrator as well as by user policy settings, and determines the set of permissions that is granted to all managed code when executed.</span></span> <span data-ttu-id="c6bd7-118">Güvenlik ilkesi derlemenin yayımcısı için (imzalama aracıyla oluşturulmuş bir imzaya sahipse), derlemenin indirildiği Web sitesi ve bölge için (Internet Explorer terimiyle) veya derlemenin tanımlayıcı adı için belirlenebilir.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-118">Security policy can be established for the publisher of the assembly (if it has a signing tool generated signature), for the Web site and zone (in Internet Explorer terms) the assembly was downloaded from, or for the assembly's strong name.</span></span> <span data-ttu-id="c6bd7-119">Örneğin bir bilgisayarın yöneticisi, bir Web sitesinden indirilen ve belirli bir yazılım şirketi tarafından imzalanan tüm kodların bir bilgisayardaki veritabanına erişmesine izin veren, ancak bilgisayarın diskine yazmasına izin vermeyen bir güvenlik ilkesi belirleyebilir.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-119">For example, a computer's administrator can establish security policy that allows all code downloaded from a Web site and signed by a given software company to access a database on a computer, but does not grant access to write to the computer's disk.</span></span>  
  
## <a name="strong-named-assemblies-and-signing-tools"></a><span data-ttu-id="c6bd7-120">Katı Ada Sahip Derlemeler ve İmzalama Araçları</span><span class="sxs-lookup"><span data-stu-id="c6bd7-120">Strong-Named Assemblies and Signing Tools</span></span>  

 > [!WARNING]
 > <span data-ttu-id="c6bd7-121">Güvenlik için tanımlayıcı adlar güvenmeyin.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-121">Do not rely on strong names for security.</span></span> <span data-ttu-id="c6bd7-122">Benzersiz bir kimliğe sağlarlar.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-122">They provide a unique identity only.</span></span>

 <span data-ttu-id="c6bd7-123">Bir derlemeyi iki farklı ancak tamamlayıcı şekilde imzalayabilirsiniz: katı bir adla veya kullanarak [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd7-123">You can sign an assembly in two different but complementary ways: with a strong name or by using  [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md).</span></span> <span data-ttu-id="c6bd7-124">Bir derlemeyi katı bir adla imzalamak, dosyaya derleme bildirimini içeren ortak anahtar şifrelemesi ekler.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-124">Signing an assembly with a strong name adds public key encryption to the file containing the assembly manifest.</span></span> <span data-ttu-id="c6bd7-125">Tanımlayıcı ad imzalaması ad benzersizliğini doğrulamaya, ad sahtekarlığını önlemeye ve bir referans çözüldüğünde çağıranlara kimlik sağlamaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-125">Strong name signing helps to verify name uniqueness, prevent name spoofing, and provide callers with some identity when a reference is resolved.</span></span>  
  
 <span data-ttu-id="c6bd7-126">Hiçbir güven düzeyi sağlayan bir tanımlayıcı ad ile ilişkilendirilen [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md) önemli.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-126">No level of trust is associated with a strong name, which makes [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md) important.</span></span> <span data-ttu-id="c6bd7-127">İki imzalama aracı, bir yayımcının kimliğini üçüncü taraf bir yetkiliye kanıtlamasını ve bir sertifika almasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-127">The two signing tools require a publisher to prove its identity to a third-party authority and obtain a certificate.</span></span> <span data-ttu-id="c6bd7-128">Bu sertifika ardından dosyanıza katıştırılır ve bir yönetici tarafından kodunuzun orijinalliğine güvenip güvenmemeye karar vermek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-128">This certificate is then embedded in your file and can be used by an administrator to decide whether to trust the code's authenticity.</span></span>  
  
 <span data-ttu-id="c6bd7-129">Hem bir tanımlayıcı ad hem de kullanılarak oluşturulan bir dijital imza verebilirsiniz [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md) bir derlemeye veya kullanabilirsiniz tek başına.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-129">You can give both a strong name and a digital signature created using [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md) to an assembly, or you can use either alone.</span></span> <span data-ttu-id="c6bd7-130">İki imzalama aracı aynı anda yalnızca tek bir dosya imzalayabilir; bir çoklu dosya derlemesi için derleme bildirimini içeren dosyayı imzalarsınız.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-130">The two signing tools can sign only one file at a time; for a multifile assembly, you sign the file that contains the assembly manifest.</span></span> <span data-ttu-id="c6bd7-131">Tanımlayıcı ad derleme bildirimini içeren dosyada saklanır, ancak kullanarak oluşturulan bir imza [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md) derleme bildirimini içeren taşınabilir yürütülebilir (PE) dosyanın içinde ayrılmış bir bölümde depolanır.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-131">A strong name is stored in the file containing the assembly manifest, but a signature created using [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md) is stored in a reserved slot in the portable executable (PE) file containing the assembly manifest.</span></span> <span data-ttu-id="c6bd7-132">Kullanarak bir derlemeyi imzalamak [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md) (ile veya bir tanımlayıcı ad olmadan) kullanılabilir dayanan bir güven hiyerarşisine zaten varsa[SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md) üretilen imzaları veya ne zaman ilkeniz yalnızca anahtar bölümünü kullanıp güven zinciri denetlemez.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-132">Signing of an assembly using [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md) can be used (with or without a strong name) when you already have a trust hierarchy that relies on[SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md) generated signatures, or when your policy uses only the key portion and does not check a chain of trust.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c6bd7-133">Bir derleme üzerinde hem tanımlayıcı ad hem de bir imzalama aracı imzası kullanırken, tanımlayıcı ad önce atanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-133">When using both a strong name and a signing tool signature on an assembly, the strong name must be assigned first.</span></span>  
  
 <span data-ttu-id="c6bd7-134">Ortak dil çalışma zamanı bir karma doğrulaması da gerçekleştirir; derleme bildirimi derlemeyi oluşturan tüm dosyaların listesini, her dosyanın bildirim oluşturulduğu zamanki karması ile birlikte içerir.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-134">The common language runtime also performs a hash verification; the assembly manifest contains a list of all files that make up the assembly, including a hash of each file as it existed when the manifest was built.</span></span> <span data-ttu-id="c6bd7-135">Dosyaların her biri yüklenirken, içindekilerin karması alınır ve bildirimde saklanan karma değeriyle karşılaştırılır.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-135">As each file is loaded, its contents are hashed and compared with the hash value stored in the manifest.</span></span> <span data-ttu-id="c6bd7-136">Eğer iki karma eşleşmezse, derleme yüklemesi başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-136">If the two hashes do not match, the assembly fails to load.</span></span>  
  
 <span data-ttu-id="c6bd7-137">Strong adlandırma ve kullanarak imzalama çünkü [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md) bütünlüğü bu iki derleme kanıtı üzerinde kod erişim güvenlik ilkesini temel alabilir.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-137">Because strong naming and signing using [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md) guarantee integrity, you can base code access security policy on these two forms of assembly evidence.</span></span> <span data-ttu-id="c6bd7-138">Tanımlayıcı adlandırma ve kullanarak imzalama [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md) dijital imzalar ve sertifikalar aracılığıyla bütünlüğü garanti.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-138">Strong naming and signing using [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md) guarantee integrity through digital signatures and certificates.</span></span> <span data-ttu-id="c6bd7-139">Bahsedilen tüm teknolojiler — karma doğrulama, tanımlayıcı adlandırma ve kullanarak imzalama [SignTool.exe (imza aracı)](../../../docs/framework/tools/signtool-exe.md)— birlikte derlemenin hiçbir şekilde değiştirilmediğinden emin olmak için iş.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-139">All the technologies mentioned—hash verification, strong naming, and signing using [SignTool.exe (Sign Tool)](../../../docs/framework/tools/signtool-exe.md)—work together to ensure that the assembly has not been altered in any way.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c6bd7-140">Ayrıca bkz.</span><span class="sxs-lookup"><span data-stu-id="c6bd7-140">See also</span></span>

- [<span data-ttu-id="c6bd7-141">Kesin Adlandırılmış Bütünleştirilmiş Kodlar</span><span class="sxs-lookup"><span data-stu-id="c6bd7-141">Strong-Named Assemblies</span></span>](../../../docs/framework/app-domains/strong-named-assemblies.md)
- [<span data-ttu-id="c6bd7-142">Ortak Dil Çalışma Zamanı Modülündeki Bütünleştirilmiş Kodlar</span><span class="sxs-lookup"><span data-stu-id="c6bd7-142">Assemblies in the Common Language Runtime</span></span>](../../../docs/framework/app-domains/assemblies-in-the-common-language-runtime.md)
- [<span data-ttu-id="c6bd7-143">SignTool.exe (İmza Aracı)</span><span class="sxs-lookup"><span data-stu-id="c6bd7-143">SignTool.exe (Sign Tool)</span></span>](../../../docs/framework/tools/signtool-exe.md)
