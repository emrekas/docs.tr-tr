---
title: .NET derleyici Platformu SDK'sı kavramları ve nesne modeli
description: .NET derleyici SDK'sı ile etkili bir şekilde çalışması için gereken arka plan bu genel bakış sağlar. API katmanları, ilgili önemli türleri ve genel nesne modeli öğreneceksiniz.
ms.date: 10/10/2017
ms.custom: mvc
ms.openlocfilehash: ee8f902bf1df8b63e229fd518e7a0c592fcd47ca
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61706707"
---
# <a name="understand-the-net-compiler-platform-sdk-model"></a><span data-ttu-id="7341b-104">.NET derleyici Platformu SDK'sı modelini anlama</span><span class="sxs-lookup"><span data-stu-id="7341b-104">Understand the .NET Compiler Platform SDK model</span></span>

<span data-ttu-id="7341b-105">Derleyiciler, şekilde insanlar genellikle farklı aşağıdaki yapılandırılmış kuralları okuma ve kod anlama yazdığınız kod işleyin.</span><span class="sxs-lookup"><span data-stu-id="7341b-105">Compilers process the code you write following structured rules that often differ from the way humans read and understand code.</span></span> <span data-ttu-id="7341b-106">Derleyiciler tarafından kullanılan modelini temel bir anlayış, Roslyn tabanlı araçlar oluştururken kullandığınız API'leri anlamak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="7341b-106">A basic understanding of the model used by compilers is essential to understanding the APIs you use when building Roslyn-based tools.</span></span> 

## <a name="compiler-pipeline-functional-areas"></a><span data-ttu-id="7341b-107">Derleme işlem hattı işlevsel alanları</span><span class="sxs-lookup"><span data-stu-id="7341b-107">Compiler pipeline functional areas</span></span>

<span data-ttu-id="7341b-108">.NET derleyici Platformu SDK'sı sunan C# ve Visual Basic derleyicileri, geleneksel derleme işlem hattı yansıtan bir API katmanı sağlayarak kullanıcı olarak analysis size kod.</span><span class="sxs-lookup"><span data-stu-id="7341b-108">The .NET Compiler Platform SDK exposes the C# and Visual Basic compilers' code analysis to you as a consumer by providing an API layer that mirrors a traditional compiler pipeline.</span></span>

![nesne kodu için kaynak kodu işleme derleyici Ardışık düzenin adımları](media/compiler-api-model/compiler-pipeline.png)

<span data-ttu-id="7341b-110">Bu Ardışık düzenin her aşaması ayrı bir bileşendir.</span><span class="sxs-lookup"><span data-stu-id="7341b-110">Each phase of this pipeline is a separate component.</span></span> <span data-ttu-id="7341b-111">İlk olarak, ayrıştırma aşaması tokenizes ve kaynak metni dil dilbilgisi aşağıdaki sözdizimine ayrıştırır.</span><span class="sxs-lookup"><span data-stu-id="7341b-111">First, the parse phase tokenizes and parses source text into syntax that follows the language grammar.</span></span> <span data-ttu-id="7341b-112">İkinci olarak, bildirimi aşaması, kaynak ve simgeleri adlı forma alınan meta verileri analiz eder.</span><span class="sxs-lookup"><span data-stu-id="7341b-112">Second, the declaration phase analyzes source and imported metadata to form named symbols.</span></span> <span data-ttu-id="7341b-113">Ardından, bağlama aşaması kodu sembol tanımlayıcıları eşleşir.</span><span class="sxs-lookup"><span data-stu-id="7341b-113">Next, the bind phase matches identifiers in the code to symbols.</span></span> <span data-ttu-id="7341b-114">Son olarak, emit aşaması derleyicisi tarafından derlenen tüm bilgileri içeren bir bütünleştirilmiş kod yayar.</span><span class="sxs-lookup"><span data-stu-id="7341b-114">Finally, the emit phase emits an assembly with all the information built up by the compiler.</span></span>

![derleme işlem hattı API derleyici işlem hattının bir parçası olan her adım için erişim sağlar](media/compiler-api-model/compiler-pipeline-api.png)

<span data-ttu-id="7341b-116">.NET derleyici Platformu SDK'sı, bu aşamaların her birine karşılık gelen, bu aşamada bilgilerine erişmesine izin veren bir nesne modeli sunar.</span><span class="sxs-lookup"><span data-stu-id="7341b-116">Corresponding to each of those phases, the .NET Compiler Platform SDK exposes an object model that allows access to the information at that phase.</span></span> <span data-ttu-id="7341b-117">Ayrıştırma aşaması söz dizimi ağacı kullanıma sunar, bildirimi aşaması hiyerarşik sembol tablosu kullanıma sunar, bağlama aşaması, derleyicinin anlam çözümleme sonucu kullanıma sunar ve emit aşaması IL bayt kodları üreten bir API'dir.</span><span class="sxs-lookup"><span data-stu-id="7341b-117">The parsing phase exposes a syntax tree, the declaration phase exposes a hierarchical symbol table, the binding phase exposes the result of the compiler’s semantic analysis, and the emit phase is an API that produces IL byte codes.</span></span>

![Derleyiciden kullanılabilir dil Hizmetleri API derleyici işlem hattının her bir adımı](media/compiler-api-model/compiler-pipeline-lang-svc.png)

<span data-ttu-id="7341b-119">Her derleyici bu bileşenlerin tek uçtan uca bir bütün olarak birleştirir.</span><span class="sxs-lookup"><span data-stu-id="7341b-119">Each compiler combines these components together as a single end-to-end whole.</span></span>

<span data-ttu-id="7341b-120">Bu API'ler, Visual Studio tarafından kullanılan aynı olanlardır.</span><span class="sxs-lookup"><span data-stu-id="7341b-120">These APIs are the same ones used by Visual Studio.</span></span> <span data-ttu-id="7341b-121">Örneği için anahat oluşturma ve biçimlendirme özellikleri kod söz dizimi ağacı kullanın, sembol tablosu, yeniden düzenlemeler Nesne Tarayıcısı ve gezinti özelliklerini kullanmak ve Tanıma Git anlam modeli kullanın ve Düzenle ve devam et kullanır yayma API dahil olmak üzere bunların tümü.</span><span class="sxs-lookup"><span data-stu-id="7341b-121">For instance, the code outlining and formatting features use the syntax trees, the Object Browser and navigation features use the symbol table, refactorings and Go to Definition use the semantic model, and Edit and Continue uses all of these, including the Emit API.</span></span> 

## <a name="api-layers"></a><span data-ttu-id="7341b-122">API katmanları</span><span class="sxs-lookup"><span data-stu-id="7341b-122">API layers</span></span>

<span data-ttu-id="7341b-123">.NET derleyici SDK'sı API'leri iki ana katman oluşur: derleyici API'leri ve çalışma alanları API'leri.</span><span class="sxs-lookup"><span data-stu-id="7341b-123">The .NET compiler SDK consists of two main layers of APIs: compiler APIs and workspaces APIs.</span></span>

![Derleyici tarafından temsil edilen API katmanları API'leri işlem hattı](media/compiler-api-model/api-layers.png)

### <a name="compiler-apis"></a><span data-ttu-id="7341b-125">Derleyici API'leri</span><span class="sxs-lookup"><span data-stu-id="7341b-125">Compiler APIs</span></span>

<span data-ttu-id="7341b-126">Derleyici katman sözdizimsel ve semantik derleyici işlem hattının her aşamada kullanıma sunulan bilgilere karşılık gelen nesne modellerini içerir.</span><span class="sxs-lookup"><span data-stu-id="7341b-126">The compiler layer contains the object models that correspond to information exposed at each phase of the compiler pipeline, both syntactic and semantic.</span></span> <span data-ttu-id="7341b-127">Derleyici katmanın, tek bir çağrı derleme başvuruları, derleyici seçenekleri ve kaynak kodu dosyaları gibi bir derleyici değişmez bir anlık görüntüsünü de içerir.</span><span class="sxs-lookup"><span data-stu-id="7341b-127">The compiler layer also contains an immutable snapshot of a single invocation of a compiler, including assembly references, compiler options, and source code files.</span></span> <span data-ttu-id="7341b-128">Temsil eden iki ayrı API vardır C# dil ve Visual Basic dili.</span><span class="sxs-lookup"><span data-stu-id="7341b-128">There are two distinct APIs that represent the C# language and the Visual Basic language.</span></span> <span data-ttu-id="7341b-129">Bu iki API şeklinde benzerdir ancak her dil için yüksek kaliteli için uyarlanmış.</span><span class="sxs-lookup"><span data-stu-id="7341b-129">These two APIs are similar in shape but tailored for high-fidelity to each individual language.</span></span> <span data-ttu-id="7341b-130">Bu katman, Visual Studio bileşenlerini bağımlılık yok.</span><span class="sxs-lookup"><span data-stu-id="7341b-130">This layer has no dependencies on Visual Studio components.</span></span>

### <a name="diagnostic-apis"></a><span data-ttu-id="7341b-131">Tanılama API'leri</span><span class="sxs-lookup"><span data-stu-id="7341b-131">Diagnostic APIs</span></span>

<span data-ttu-id="7341b-132">Kendi analiz bir parçası olarak, derleyici tanılama söz dizimi, semantik, kadar her şeyi ve çeşitli uyarılar ve bilgilendirici tanılama kesin atama hataları kapsayan bir dizi üretebilir.</span><span class="sxs-lookup"><span data-stu-id="7341b-132">As part of its analysis the compiler may produce a set of diagnostics covering everything from syntax, semantic, and definite assignment errors to various warnings and informational diagnostics.</span></span> <span data-ttu-id="7341b-133">Derleyici API katmanı Tanılama kullanıcı tanımlı Çözümleyicileri derleme işlemine takılı sağlayan genişletilebilir bir API aracılığıyla sunar.</span><span class="sxs-lookup"><span data-stu-id="7341b-133">The Compiler API layer exposes diagnostics through an extensible API that allows user-defined analyzers to be plugged into the compilation process.</span></span> <span data-ttu-id="7341b-134">Kullanıcı tanımlı StyleCop ya da FxCop, derleyici tarafından tanımlanan tanılama yanı sıra üretilecek gibi araçlar tarafından üretilen olanlar gibi tanılama sağlar.</span><span class="sxs-lookup"><span data-stu-id="7341b-134">It allows user-defined diagnostics, such as those produced by tools like StyleCop or FxCop, to be produced alongside compiler-defined diagnostics.</span></span> <span data-ttu-id="7341b-135">Bu şekilde tanılama üretme doğal olarak MSBuild gibi araçlarla tümleştirme avantajına sahiptir ve tanılama için bir yapıyı durdurma gibi deneyimleri bağımlı Visual Studio İlkesi ve düzenleyicide Canlı dalgalı çizgiler gösteren kod önerme tabanlı ve düzeltir.</span><span class="sxs-lookup"><span data-stu-id="7341b-135">Producing diagnostics in this way has the benefit of integrating naturally with tools such as MSBuild and Visual Studio which depend on diagnostics for experiences such as halting a build based on policy and showing live squiggles in the editor and suggesting code fixes.</span></span>

### <a name="scripting-apis"></a><span data-ttu-id="7341b-136">Betik yazma API'leri</span><span class="sxs-lookup"><span data-stu-id="7341b-136">Scripting APIs</span></span>

<span data-ttu-id="7341b-137">Barındırma ve betik yazma API'leri derleyici katman parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="7341b-137">Hosting and scripting APIs are part of the compiler layer.</span></span> <span data-ttu-id="7341b-138">Kod parçacıkları yürütülüyor ve bir çalışma zamanı yürütme bağlamı biriktirme için bunları kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7341b-138">You can use them for executing code snippets and accumulating a runtime execution context.</span></span>
<span data-ttu-id="7341b-139">C# Etkileşimli REPL (okuma değerlendirmek yazdırma döngü) bu API'lerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="7341b-139">The C# interactive REPL (Read-Evaluate-Print Loop) uses these APIs.</span></span> <span data-ttu-id="7341b-140">REPL kullanmanızı sağlayan C# yazmanız gibi bir komut dosyası dili kod etkileşimli olarak çalıştırmak.</span><span class="sxs-lookup"><span data-stu-id="7341b-140">The REPL enables you to use C# as a scripting language, executing the code interactively as you write it.</span></span>

### <a name="workspaces-apis"></a><span data-ttu-id="7341b-141">Çalışma alanları API'leri</span><span class="sxs-lookup"><span data-stu-id="7341b-141">Workspaces APIs</span></span>

<span data-ttu-id="7341b-142">Çalışma alanları katman tüm çözümleri yeniden düzenleme ve kod analizi yapmak için başlangıç noktası olan çalışma API içerir.</span><span class="sxs-lookup"><span data-stu-id="7341b-142">The Workspaces layer contains the Workspace API, which is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="7341b-143">Tek nesne modeline gerek kalmadan seçeneklerini yapılandırma dosyalarını ayrıştırmak derleyici katman nesnesi modellerini doğrudan erişim sunan bir çözüm içindeki projeleri hakkındaki tüm bilgileri düzenleme yönetmenize yardımcı olan veya projeden projeye bağımlılıkları yönetin .</span><span class="sxs-lookup"><span data-stu-id="7341b-143">It assists you in organizing all the information about the projects in a solution into single object model, offering you direct access to the compiler layer object models without needing to parse files, configure options, or manage project-to-project dependencies.</span></span>

<span data-ttu-id="7341b-144">Ayrıca, çalışma alanlarını Kod Analizi uygulaması ve bir ana bilgisayar ortamının içinde işlev araçları yeniden düzenleme, Visual Studio IDE gibi bir API kümesi kullanılan yüzeyleri katman.</span><span class="sxs-lookup"><span data-stu-id="7341b-144">In addition, the Workspaces layer surfaces a set of APIs used when implementing code analysis and refactoring tools that function within a host environment like the Visual Studio IDE.</span></span> <span data-ttu-id="7341b-145">Tüm başvuruları Bul, biçimlendirme ve kod oluşturma API'ları verilebilir.</span><span class="sxs-lookup"><span data-stu-id="7341b-145">Examples include the Find All References, Formatting, and Code Generation APIs.</span></span>

<span data-ttu-id="7341b-146">Bu katman, Visual Studio bileşenlerini bağımlılık yok.</span><span class="sxs-lookup"><span data-stu-id="7341b-146">This layer has no dependencies on Visual Studio components.</span></span>
