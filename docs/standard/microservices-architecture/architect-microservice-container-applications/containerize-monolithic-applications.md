---
title: Tek Yapılı Uygulamaları Kapsayıcıya Alma
description: Tek yapılı uygulamaları rağmen kapsayıcılı hale getirmek, mikro hizmetler mimarisi tüm avantajlarını elde edemez, hemen dağıtılabilecek dağıtım önemli faydası vardır.
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/20/2018
ms.openlocfilehash: d1de4c4beb8c60aa543e5c71243d93b83fe52072
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61910863"
---
# <a name="containerizing-monolithic-applications"></a><span data-ttu-id="d325d-103">Tek Yapılı Uygulamaları Kapsayıcıya Alma</span><span class="sxs-lookup"><span data-stu-id="d325d-103">Containerizing monolithic applications</span></span>

<span data-ttu-id="d325d-104">Tek ve monolithically dağıtılan web uygulaması veya hizmeti oluşturma ve kapsayıcı olarak dağıtmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d325d-104">You might want to build a single, monolithically deployed web application or service and deploy it as a container.</span></span> <span data-ttu-id="d325d-105">Uygulama dahili olarak tek parça olmayabilir, ancak birkaç kitaplıklar, bileşenler veya hatta katmanları (uygulama katmanı, etki alanı katmanı, veri erişim katmanı, vb.) yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="d325d-105">The application itself might not be internally monolithic, but structured as several libraries, components, or even layers (application layer, domain layer, data-access layer, etc.).</span></span> <span data-ttu-id="d325d-106">Dışarıdan, ancak tek bir kapsayıcıya olur — tek bir işlem, tek bir web uygulaması veya tek bir hizmet.</span><span class="sxs-lookup"><span data-stu-id="d325d-106">Externally, however, it's a single container—a single process, a single web application, or a single service.</span></span>

<span data-ttu-id="d325d-107">Bu model yönetmek için uygulamayı temsil etmek için tek bir kapsayıcı dağıtırsınız.</span><span class="sxs-lookup"><span data-stu-id="d325d-107">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="d325d-108">Kapasiteyi artırmak için ölçek genişletme, diğer bir deyişle, eklemeniz yeterlidir önde gelen bir yük dengeleyici ile daha fazla kopyalar.</span><span class="sxs-lookup"><span data-stu-id="d325d-108">To increase capacity, you scale out, that is, just add more copies with a load balancer in front.</span></span> <span data-ttu-id="d325d-109">Basitlik, tek bir dağıtım bir çoklu kapsayıcı veya VM yönetmesini gelir.</span><span class="sxs-lookup"><span data-stu-id="d325d-109">The simplicity comes from managing a single deployment in a single container or VM.</span></span>

![Tek parça kapsayıcılı bir uygulama işlevselliğini iç katmanları veya kitaplıkları, birden çok VM'de sunucuları/kapsayıcı kopyalayarak ans ölçekler kullanıma sahip tek bir kapsayıcı içinde çoğu sahip](./media/image1.png)

<span data-ttu-id="d325d-111">**Şekil 4-1**.</span><span class="sxs-lookup"><span data-stu-id="d325d-111">**Figure 4-1**.</span></span> <span data-ttu-id="d325d-112">Tek parça bir uygulamayı kapsayıcılı mimarisi örneği</span><span class="sxs-lookup"><span data-stu-id="d325d-112">Example of the architecture of a containerized monolithic application</span></span>

<span data-ttu-id="d325d-113">Şekil 4-1'de gösterildiği gibi her bir kapsayıcı içinde birden çok bileşenleri, kitaplıkları veya iç Katmanlar içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-113">You can include multiple components, libraries, or internal layers in each container, as illustrated in Figure 4-1.</span></span> <span data-ttu-id="d325d-114">Bu tek parçalı bir düzen "kapsayıcı bir şeyi yapar ve tek bir işlemde yok" olabilir, ancak kapsayıcı ilke çakışması ancak bazı durumlarda için Tamam'ı olabilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-114">However, this monolithic pattern might conflict with the container principle "a container does one thing, and does it in one process", but might be ok for some cases.</span></span>

<span data-ttu-id="d325d-115">Bu yaklaşımın bir dezavantajı, ölçeklendirme gerektiren uygulama büyürse değiştirmeye karşı korumalı hale gelir.</span><span class="sxs-lookup"><span data-stu-id="d325d-115">The downside of this approach becomes evident if the application grows, requiring it to scale.</span></span> <span data-ttu-id="d325d-116">Uygulamanın tamamı ölçeklendirilebilir, gerçekten bir sorun değildir.</span><span class="sxs-lookup"><span data-stu-id="d325d-116">If the entire application can scale, it isn't really a problem.</span></span> <span data-ttu-id="d325d-117">Ancak, çoğu durumda, uygulamanın yalnızca birkaç parçaları sıkıştırma diğer bileşenleri çalışırken ölçeklendirme gerektiren daha az kullanılan noktalarıdır.</span><span class="sxs-lookup"><span data-stu-id="d325d-117">However, in most cases, just a few parts of the application are the choke points that requiring scaling, while other components are used less.</span></span>

<span data-ttu-id="d325d-118">Çok daha fazla müşteriye ürünleri satın daha Gözat çünkü Örneğin, bir normal e-ticaret uygulamasında, büyük olasılıkla ürün bilgi alt ölçeklendirmeniz mi gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="d325d-118">For example, in a typical e-commerce application, you likely need to scale the product information subsystem, because many more customers browse products than purchase them.</span></span> <span data-ttu-id="d325d-119">Daha fazla müşteriye kendi Sepeti ödeme işlem hattını kullanma daha kullanın.</span><span class="sxs-lookup"><span data-stu-id="d325d-119">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="d325d-120">Daha az müşteriler, yorum eklemek veya satın alma geçmişlerini görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="d325d-120">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="d325d-121">Ve içeriği ve pazarlama kampanyaları yönetmesi gereken çalışanlar, olması olabilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-121">And you might have only a handful of employees, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="d325d-122">Tek yapılı tasarım ölçeklendirirseniz, bu farklı görevler için tüm kod birden çok kez dağıtılan ve aynı düzeyde ölçeklendirilebilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-122">If you scale the monolithic design, all the code for these different tasks is deployed multiple times and scaled at the same grade.</span></span>

<span data-ttu-id="d325d-123">Bir uygulama yatay bölme farklı alanlarını uygulama ve bölümleme benzer iş kavramlarını veya veri çoğaltma, ölçeği birden çok yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="d325d-123">There are multiple ways to scale an application-horizontal duplication, splitting different areas of the application, and partitioning similar business concepts or data.</span></span> <span data-ttu-id="d325d-124">Ancak, tüm bileşenlerini ölçeklendirirken sorununu ek olarak, tüm uygulama ve tam yeniden dağıtma işlemi tüm örneklerin tam çözülüp değişiklikleri tek bir bileşene gerektirir.</span><span class="sxs-lookup"><span data-stu-id="d325d-124">But, in addition to the problem of scaling all components, changes to a single component require complete retesting of the entire application, and a complete redeployment of all the instances.</span></span>

<span data-ttu-id="d325d-125">Ancak, uygulama geliştirme mikro hizmetler yaklaşım için başlangıçta daha kolay olduğundan tek parçalı bir yaklaşım ortak değildir.</span><span class="sxs-lookup"><span data-stu-id="d325d-125">However, the monolithic approach is common, because the development of the application is initially easier than for microservices approaches.</span></span> <span data-ttu-id="d325d-126">Bu nedenle, birçok kuruluş bu mimari yaklaşım kullanarak geliştirin.</span><span class="sxs-lookup"><span data-stu-id="d325d-126">Thus, many organizations develop using this architectural approach.</span></span> <span data-ttu-id="d325d-127">Bazı kuruluşların iyi yeterli sonuçları alırken, diğerleri sınırları karşılaşırsınız.</span><span class="sxs-lookup"><span data-stu-id="d325d-127">While some organizations have had good enough results, others are hitting limits.</span></span> <span data-ttu-id="d325d-128">Birçok kuruluş uygulamalarına araçları ve altyapı yaptığı çok zor yıl önce hizmet odaklı mimarilerin (SOA) oluşturun ve gereken listelenmiyor çünkü bu modeli kullanarak tasarlanmış-kadar uygulama büyüdü.</span><span class="sxs-lookup"><span data-stu-id="d325d-128">Many organizations designed their applications using this model because tools and infrastructure made it too difficult to build service-oriented architectures (SOA) years ago, and they did not see the need-until the application grew.</span></span>

<span data-ttu-id="d325d-129">Altyapı açısından bakıldığında, her sunucu aynı konak içindeki birçok uygulama çalıştırabilir ve Şekil 4-2'de gösterildiği gibi kaynak kullanımı verimliliği kabul edilebilir bir oranı sahip.</span><span class="sxs-lookup"><span data-stu-id="d325d-129">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in resources usage, as shown in Figure 4-2.</span></span>

![Bir konak, birkaç tek yapılı uygulamalar, her biri ayrı bir kapsayıcı üzerinde çalıştırabilirsiniz.](./media/image2.png)

<span data-ttu-id="d325d-131">**Şekil 4-2**.</span><span class="sxs-lookup"><span data-stu-id="d325d-131">**Figure 4-2**.</span></span> <span data-ttu-id="d325d-132">Tek parçalı bir yaklaşım: Bir kapsayıcı olarak çalışan her bir uygulamada birden fazla uygulama çalıştıran konak</span><span class="sxs-lookup"><span data-stu-id="d325d-132">Monolithic approach: Host running multiple apps, each app running as a container</span></span>

<span data-ttu-id="d325d-133">Microsoft azure'da tek yapılı uygulamalar her örneği için özel VM'ler kullanılarak dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-133">Monolithic applications in Microsoft Azure can be deployed using dedicated VMs for each instance.</span></span> <span data-ttu-id="d325d-134">Ayrıca, kullanarak [Azure sanal makine ölçek kümeleri](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/), sanal makineleri kolayca ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d325d-134">Additionally, using [Azure virtual machine scale sets](https://azure.microsoft.com/documentation/services/virtual-machine-scale-sets/), you can easily scale the VMs.</span></span> <span data-ttu-id="d325d-135">[Azure App Service](https://azure.microsoft.com/services/app-service/) ayrıca tek yapılı uygulamaları çalıştırabilir ve sanal makineleri yönetmenize gerek kalmadan örneklerini kolayca ölçeklendirin.</span><span class="sxs-lookup"><span data-stu-id="d325d-135">[Azure App Service](https://azure.microsoft.com/services/app-service/) can also run monolithic applications and easily scale instances without requiring you to manage the VMs.</span></span> <span data-ttu-id="d325d-136">2016 tarihinden beri Azure uygulama hizmetleri dağıtımını basitleştirme amacıyla da Docker kapsayıcıları'nın tek örneklerine çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d325d-136">Since 2016, Azure App Services can run single instances of Docker containers as well, simplifying deployment.</span></span>

<span data-ttu-id="d325d-137">QA ortamında veya sınırlı üretim ortamında olarak birden fazla Docker konağı Vm'leri dağıtma ve Şekil 4-3'te gösterilen şekilde Azure dengeleyicisi kullanarak Dengeleme.</span><span class="sxs-lookup"><span data-stu-id="d325d-137">As a QA environment or a limited production environment, you can deploy multiple Docker host VMs and balance them using the Azure balancer, as shown in Figure 4-3.</span></span> <span data-ttu-id="d325d-138">Tüm uygulama tek bir kapsayıcıda yer alan çünkü bu, bir dilimi kaba yaklaşım ile ölçeklendirme yönetmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d325d-138">This lets you manage scaling with a coarse-grain approach, because the whole application lives within a single container.</span></span>

![Birden çok ana bilgisayar, her biri tek parçalı uygulama ile kapsayıcı çalıştırma.](./media/image3.png)

<span data-ttu-id="d325d-140">**Şekil 4-3**.</span><span class="sxs-lookup"><span data-stu-id="d325d-140">**Figure 4-3**.</span></span> <span data-ttu-id="d325d-141">Bir çoklu kapsayıcı uygulaması ölçeklendirme birden çok konak örneği</span><span class="sxs-lookup"><span data-stu-id="d325d-141">Example of multiple hosts scaling up a single container application</span></span>

<span data-ttu-id="d325d-142">Çeşitli konaklarına dağıtım geleneksel dağıtım teknikleri ile yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-142">Deployment to the various hosts can be managed with traditional deployment techniques.</span></span> <span data-ttu-id="d325d-143">Docker ana bilgisayarları gibi komutlarla yönetilebilir `docker run` veya `docker-compose` el ile veya sürekli teslim (CD) işlem hatlarından gibi Otomasyon aracılığıyla gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-143">Docker hosts can be managed with commands like `docker run` or `docker-compose` performed manually, or through automation such as continuous delivery (CD) pipelines.</span></span>

## <a name="deploying-a-monolithic-application-as-a-container"></a><span data-ttu-id="d325d-144">Bir kapsayıcı olarak tek parça bir uygulamayı dağıtma</span><span class="sxs-lookup"><span data-stu-id="d325d-144">Deploying a monolithic application as a container</span></span>

<span data-ttu-id="d325d-145">Tek parçalı uygulama dağıtımlarını yönetmek için kapsayıcılar'ı kullanmanın avantajları vardır.</span><span class="sxs-lookup"><span data-stu-id="d325d-145">There are benefits to using containers to manage monolithic application deployments.</span></span> <span data-ttu-id="d325d-146">Container Instances ölçeklendirme, çok daha hızlı ve ek sanal makineleri dağıtma kolaydır.</span><span class="sxs-lookup"><span data-stu-id="d325d-146">Scaling container instances is far faster and easier than deploying additional VMs.</span></span> <span data-ttu-id="d325d-147">Sanal makine ölçek kümeleri kullansanız bile VM başlatmak için zaman ayırın.</span><span class="sxs-lookup"><span data-stu-id="d325d-147">Even if you use virtual machine scale sets, VMs take time to start.</span></span> <span data-ttu-id="d325d-148">Geleneksel uygulama örnekleri kapsayıcılar yerine olarak dağıtıldığında, uygulama yapılandırmasını, ideal olmayan VM bir parçası olarak yönetilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-148">When deployed as traditional application instances instead of containers, the configuration of the application is managed as part of the VM, which isn't ideal.</span></span>

<span data-ttu-id="d325d-149">Docker görüntülerini çok daha hızlı olduğundan, güncelleştirmeleri dağıtmak ve etkili ağ.</span><span class="sxs-lookup"><span data-stu-id="d325d-149">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="d325d-150">Docker görüntülerini genellikle piyasaya çıkarma hızlandırır, saniyeler içinde çalışmaya başlayın.</span><span class="sxs-lookup"><span data-stu-id="d325d-150">Docker images typically start in seconds, which speeds rollouts.</span></span> <span data-ttu-id="d325d-151">Bir Docker görüntüsü örneğini bozmadan verme olarak kadar kolay bir `docker stop` komutunu ve genellikle bir saniye içinde tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="d325d-151">Tearing down a Docker image instance is as easy as issuing a `docker stop` command, and typically completes in less than a second.</span></span>

<span data-ttu-id="d325d-152">Kapsayıcılar, tasarımı gereği sabit olduğundan, hiçbir zaman bozuk VM'ler hakkında endişelenmeniz gerekmiyor.</span><span class="sxs-lookup"><span data-stu-id="d325d-152">Because containers are immutable by design, you never need to worry about corrupted VMs.</span></span> <span data-ttu-id="d325d-153">Buna karşılık, bir VM için güncelleştirme betikleri bazı belirli bir yapılandırma veya dosya diskte hesabı Unut.</span><span class="sxs-lookup"><span data-stu-id="d325d-153">In contrast, update scripts for a VM might forget to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="d325d-154">Tek yapılı uygulamalar Docker yararlanabilir, ancak biz yalnızca avantajlarına temas.</span><span class="sxs-lookup"><span data-stu-id="d325d-154">While monolithic applications can benefit from Docker, we're touching only on the benefits.</span></span> <span data-ttu-id="d325d-155">Kapsayıcıları yönetme ek avantajlar, çeşitli örnekleri ve her kapsayıcı örneği ömrünü yönetmek kapsayıcı düzenleyicileri ile dağıtması gelir.</span><span class="sxs-lookup"><span data-stu-id="d325d-155">Additional benefits of managing containers come from deploying with container orchestrators, which manage the various instances and lifecycle of each container instance.</span></span> <span data-ttu-id="d325d-156">Ölçeği, geliştirilen ve dağıtılan ayrı ayrı alt sistemler tek parça uygulamasına'kurmak bozucu, mikro hizmetlerin bölge içinde giriş noktası niteliğindedir.</span><span class="sxs-lookup"><span data-stu-id="d325d-156">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

## <a name="publishing-a-single-container-based-application-to-azure-app-service"></a><span data-ttu-id="d325d-157">Tek kapsayıcı tabanlı bir uygulamayı Azure App Service'e yayımlama</span><span class="sxs-lookup"><span data-stu-id="d325d-157">Publishing a single-container-based application to Azure App Service</span></span>

<span data-ttu-id="d325d-158">Azure'a dağıtılan bir kapsayıcının doğrulama almak isteyip istemediğinizi veya uygulamanın yalnızca bir tek kapsayıcı uygulama olduğunda, Azure App Service ölçeklenebilir tek kapsayıcı tabanlı hizmetleri sağlamak için harika bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="d325d-158">Whether you want to get validation of a container deployed to Azure or when an application is simply a single-container application, Azure App Service provides a great way to provide scalable single-container-based services.</span></span> <span data-ttu-id="d325d-159">Azure App Service kullanarak basit bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="d325d-159">Using Azure App Service is simple.</span></span> <span data-ttu-id="d325d-160">Bu, kodunuzu alın, Visual Studio'da derleyin ve doğrudan Azure'a dağıtmak kolay hale getirmek için Git ile harika tümleştirme sağlar.</span><span class="sxs-lookup"><span data-stu-id="d325d-160">It provides great integration with Git to make it easy to take your code, build it in Visual Studio, and deploy it directly to Azure.</span></span>

![Visual Studio'dan Azure App Service için bir çoklu kapsayıcı uygulaması Yayımlama Sihirbazı](./media/image4.png)

<span data-ttu-id="d325d-162">**Şekil 4-4**.</span><span class="sxs-lookup"><span data-stu-id="d325d-162">**Figure 4-4**.</span></span> <span data-ttu-id="d325d-163">Bir tek kapsayıcı uygulamasını Azure App Service'e Visual Studio'dan yayımlama</span><span class="sxs-lookup"><span data-stu-id="d325d-163">Publishing a single-container application to Azure App Service from Visual Studio</span></span>

<span data-ttu-id="d325d-164">Docker, diğer özellikleri, çerçeveleri veya Azure App Service'te desteklenmeyen bağımlılıkları gerekirse bu bağımlılıkların App Service'te Azure ekibi güncelleştirilmiş bekleyin gerekiyordu.</span><span class="sxs-lookup"><span data-stu-id="d325d-164">Without Docker, if you needed other capabilities, frameworks, or dependencies that aren't supported in Azure App Service, you had to wait until the Azure team updated those dependencies in App Service.</span></span> <span data-ttu-id="d325d-165">Veya Azure Service Fabric, Azure bulut Hizmetleri veya burada daha fazla denetim sahipti ve uygulamanız için gerekli bileşen veya framework yükleyebilir Vm'leri bile, gibi diğer hizmetlere geçiş gerekiyordu.</span><span class="sxs-lookup"><span data-stu-id="d325d-165">Or you had to switch to other services like Azure Service Fabric, Azure Cloud Services, or even VMs, where you had further control and you could install a required component or framework for your application.</span></span>

<span data-ttu-id="d325d-166">Kapsayıcı desteği Visual Studio 2017'de, Şekil 4-4'te gösterildiği gibi uygulama ortamınızda istediğiniz ekleme olanağı sağlar.</span><span class="sxs-lookup"><span data-stu-id="d325d-166">Container support in Visual Studio 2017 gives you the ability to include whatever you want in your application environment, as shown in Figure 4-4.</span></span> <span data-ttu-id="d325d-167">Uygulamanıza bir bağımlılık eklerseniz, bir kapsayıcıdaki çalıştırıyorsanız bu yana Dockerfile ya da Docker görüntünüzü bağımlılık içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-167">Since you're running it in a container, if you add a dependency to your application, you can include the dependency in your Dockerfile or Docker image.</span></span>

<span data-ttu-id="d325d-168">Yayımlama akışı da görüldüğü gibi Şekil 4-4'te, görüntüyü bir kapsayıcı kayıt defteri iter.</span><span class="sxs-lookup"><span data-stu-id="d325d-168">As also shown in Figure 4-4, the publish flow pushes an image through a container registry.</span></span> <span data-ttu-id="d325d-169">Bu, Azure Container Registry (bir kayıt defteri için Azure dağıtımlarınızda kapatın ve Azure Active Directory'de gruplar ve hesaplar tarafından güvenli) veya tüm diğer Docker kayıt defteri, Docker Hub veya bir şirket içi kayıt defteri gibi olabilir.</span><span class="sxs-lookup"><span data-stu-id="d325d-169">This can be the Azure Container Registry (a registry close to your deployments in Azure and secured by Azure Active Directory groups and accounts), or any other Docker registry, like Docker Hub or an on-premises registry.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="d325d-170">[Önceki](index.md)
>[İleri](docker-application-state-data.md)</span><span class="sxs-lookup"><span data-stu-id="d325d-170">[Previous](index.md)
[Next](docker-application-state-data.md)</span></span>