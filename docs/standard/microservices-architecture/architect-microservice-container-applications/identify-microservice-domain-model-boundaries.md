---
title: Her mikro hizmet için etki alanı modeli sınırlarını tanımlama
description: Ses Mimarisi elde etmek için büyük bir uygulama mikro hizmetler halinde bölümleme essence keşfedin.
ms.date: 09/20/2018
ms.openlocfilehash: aa903e13b20be1084fad60e6fb7bbb1c61403deb
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/15/2019
ms.locfileid: "65644401"
---
# <a name="identify-domain-model-boundaries-for-each-microservice"></a><span data-ttu-id="7056d-103">Her mikro hizmet etki alanı modeli sınırlarını tanımlama</span><span class="sxs-lookup"><span data-stu-id="7056d-103">Identify domain-model boundaries for each microservice</span></span>

<span data-ttu-id="7056d-104">Mümkünse küçük mikro hizmetler doğru eğilimli ancak en ayrıntılı ayrım mümkün almak için modeli sınırlarını ve her bir mikro hizmetin boyutu tanımlamak için kullanıldığında hedefi değil.</span><span class="sxs-lookup"><span data-stu-id="7056d-104">The goal when identifying model boundaries and size for each microservice isn't to get to the most granular separation possible, although you should tend toward small microservices if possible.</span></span> <span data-ttu-id="7056d-105">Bunun yerine, etki alanı bilginizi destekli en anlamlı ayrımı almak için amacınız olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7056d-105">Instead, your goal should be to get to the most meaningful separation guided by your domain knowledge.</span></span> <span data-ttu-id="7056d-106">Vurgu boyutuna, ancak bunun yerine iş özellikleri değildir.</span><span class="sxs-lookup"><span data-stu-id="7056d-106">The emphasis isn't on the size, but instead on business capabilities.</span></span> <span data-ttu-id="7056d-107">Yüksek bir bağımlılıklar sayısına göre uygulamanın belirli bir alanı gerekli Temizle uyumda varsa, ek olarak, tek bir mikro hizmet gereksinimi çok gösterir.</span><span class="sxs-lookup"><span data-stu-id="7056d-107">In addition, if there's clear cohesion needed for a certain area of the application based on a high number of dependencies, that indicates the need for a single microservice, too.</span></span> <span data-ttu-id="7056d-108">Uyuma nasıl parçalayın veya grup birlikte mikro hizmetleri tanımlamak için bir yoldur.</span><span class="sxs-lookup"><span data-stu-id="7056d-108">Cohesion is a way to identify how to break apart or group together microservices.</span></span> <span data-ttu-id="7056d-109">Sonuç olarak, etki alanı hakkında daha fazla bilgi sahibi olabilirsiniz, ancak boyutu, mikro hizmet çalıştırmalarınızı uyarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7056d-109">Ultimately, while you gain more knowledge about the domain, you should adapt the size of your microservice, iteratively.</span></span> <span data-ttu-id="7056d-110">Doğru boyutta bulma kesin bir işlem değildir.</span><span class="sxs-lookup"><span data-stu-id="7056d-110">Finding the right size isn't a one-shot process.</span></span>

<span data-ttu-id="7056d-111">[SAM Newman](https://samnewman.io/), mikro hizmetler ve kitabı yazarı tanınan bir promoter [mikro hizmetler oluşturma](https://samnewman.io/books/building_microservices/), mikro hizmetlerin (parçası sınırlanmış bağlam (BC) deseni temel alınarak tasarlamanız gerekir, vurgular etki alanı Odaklı Tasarım), daha önce sunulan gibi.</span><span class="sxs-lookup"><span data-stu-id="7056d-111">[Sam Newman](https://samnewman.io/), a recognized promoter of microservices and author of the book [Building Microservices](https://samnewman.io/books/building_microservices/), highlights that you should design your microservices based on the Bounded Context (BC) pattern (part of domain-driven design), as introduced earlier.</span></span> <span data-ttu-id="7056d-112">Bazı durumlarda, bir BC birden fazla fiziksel Hizmetleri ancak bunun tam tersinin oluşan.</span><span class="sxs-lookup"><span data-stu-id="7056d-112">Sometimes, a BC could be composed of several physical services, but not vice versa.</span></span>

<span data-ttu-id="7056d-113">Belirli bir etki alanı varlıklarının ile etki alanı modeli içinde bir somut BC uygulanır veya mikro hizmet.</span><span class="sxs-lookup"><span data-stu-id="7056d-113">A domain model with specific domain entities applies within a concrete BC or microservice.</span></span> <span data-ttu-id="7056d-114">Bir etki alanı modeli uygulanabilirliğini bir BC sınırlandırır ve hangi cohesive ve hangi bağımsız olarak geliştirilebilir NET ve paylaşılan anlayış verir Geliştirici ekip üyeleri.</span><span class="sxs-lookup"><span data-stu-id="7056d-114">A BC delimits the applicability of a domain model and gives developer team members a clear and shared understanding of what must be cohesive and what can be developed independently.</span></span> <span data-ttu-id="7056d-115">Bu, aynı hedef mikro hizmetlere yönelik ücretlerdir.</span><span class="sxs-lookup"><span data-stu-id="7056d-115">These are the same goals for microservices.</span></span>

<span data-ttu-id="7056d-116">Tasarım seçtiğiniz bildiren başka bir aracı [Conway'in Yasası](https://en.wikipedia.org/wiki/Conway%27s_law), hangi bildiren bir uygulamanın sosyal bunu üreten kuruluş sınırları yansıtır.</span><span class="sxs-lookup"><span data-stu-id="7056d-116">Another tool that informs your design choice is [Conway's law](https://en.wikipedia.org/wiki/Conway%27s_law), which states that an application will reflect the social boundaries of the organization that produced it.</span></span> <span data-ttu-id="7056d-117">Ancak bazen true - şirketinizin yazılım tarafından oluşturulmuş tersidir.</span><span class="sxs-lookup"><span data-stu-id="7056d-117">But sometimes the opposite is true -the company's organization is formed by the software.</span></span> <span data-ttu-id="7056d-118">Conway'in Yasası ters ve düzenlenmesine olanak şirket istediğiniz şekilde sınırları oluşturmak, işlem iş danışmanlık doğru leaning gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="7056d-118">You might need to reverse Conway's law and build the boundaries the way you want the company to be organized, leaning toward business process consulting.</span></span>

<span data-ttu-id="7056d-119">Sınırlanmış Bağlamlar tanımlamak için adlandırılan bir DDD deseni kullanabilirsiniz [bağlam eşleme düzeni](https://www.infoq.com/articles/ddd-contextmapping).</span><span class="sxs-lookup"><span data-stu-id="7056d-119">To identify bounded contexts, you can use a DDD pattern called the [Context Mapping pattern](https://www.infoq.com/articles/ddd-contextmapping).</span></span> <span data-ttu-id="7056d-120">İçerik eşleme ile uygulama ve sınırlarının çeşitli bağlamlarda belirleyin.</span><span class="sxs-lookup"><span data-stu-id="7056d-120">With Context Mapping, you identify the various contexts in the application and their boundaries.</span></span> <span data-ttu-id="7056d-121">Farklı bir bağlama ve her küçük bir alt sınırı örneği için çok yaygındır.</span><span class="sxs-lookup"><span data-stu-id="7056d-121">It's common to have a different context and boundary for each small subsystem, for instance.</span></span> <span data-ttu-id="7056d-122">İçerik haritası tanımlayan ve bu sınırlar etki alanları arasında açık bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="7056d-122">The Context Map is a way to define and make explicit those boundaries between domains.</span></span> <span data-ttu-id="7056d-123">Bir BC otonom ve tek bir etki alanı - etki alanı varlıklarının gibi ayrıntılar - ayrıntılarını içerir ve diğer BCs tümleştirme sözleşmeleriyle tanımlar.</span><span class="sxs-lookup"><span data-stu-id="7056d-123">A BC is autonomous and includes the details of a single domain -details like the domain entities- and defines integration contracts with other BCs.</span></span> <span data-ttu-id="7056d-124">Bir mikro hizmet tanımına benzer budur: otonom, belirli bir etki alanı özelliği uygular ve arabirimleri sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="7056d-124">This is similar to the definition of a microservice: it's autonomous, it implements certain domain capability, and it must provide interfaces.</span></span> <span data-ttu-id="7056d-125">Eşleme içeriği ve içerik sınırlanmış deseni mikro hizmetlerin etki alanı modeli sınırlarını tanımlamak için iyi bir yaklaşım olan nedeni budur.</span><span class="sxs-lookup"><span data-stu-id="7056d-125">This is why Context Mapping and the Bounded Context pattern are good approaches for identifying the domain model boundaries of your microservices.</span></span>

<span data-ttu-id="7056d-126">Büyük bir uygulama tasarlarken, nasıl kendi etki alanı modeli parçalanmış göreceğiniz - bir etki alanı uzmanı Kataloğu etki alanındaki varlıklar farklı etki alanlarında katalog ve envanter sevkiyat etki alanı uzmanı, daha örneği için adı.</span><span class="sxs-lookup"><span data-stu-id="7056d-126">When designing a large application, you'll see how its domain model can be fragmented - a domain expert from the catalog domain will name entities differently in the catalog and inventory domains than a shipping domain expert, for instance.</span></span> <span data-ttu-id="7056d-127">Ya da yeni müşteri hakkındaki verilerin bir kısmını gereksinim duyan sıralama bir etki alanı uzmanı için müşteri hakkındaki ayrıntıları depolamak isteyen bir CRM Uzman ile ilgilenirken kullanıcı etki alanı varlığı boyut ve öznitelikler sayısı bakımından farklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="7056d-127">Or the user domain entity might be different in size and number of attributes when dealing with a CRM expert who wants to store every detail about the customer than for an ordering domain expert who just needs partial data about the customer.</span></span> <span data-ttu-id="7056d-128">Büyük bir uygulamayla ilgili tüm etki alanları genelinde tüm etki alanı koşullarını ayırt etmek çok güçtür.</span><span class="sxs-lookup"><span data-stu-id="7056d-128">It's very hard to disambiguate all domain terms across all the domains related to a large application.</span></span> <span data-ttu-id="7056d-129">Ancak en önemli şey koşulları buluşturulan çalışmaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7056d-129">But the most important thing is that you shouldn't try to unify the terms.</span></span> <span data-ttu-id="7056d-130">Bunun yerine, her etki alanı tarafından sağlanan zenginlik ve farkları kabul edin.</span><span class="sxs-lookup"><span data-stu-id="7056d-130">Instead, accept the differences and richness provided by each domain.</span></span> <span data-ttu-id="7056d-131">Tüm uygulama için birleştirilmiş bir veritabanı çalışırsanız, birleştirilmiş sözlük girişimleri garip olacak ve birden çok etki alanı uzmanları birine sağ ses olmaz.</span><span class="sxs-lookup"><span data-stu-id="7056d-131">If you try to have a unified database for the whole application, attempts at a unified vocabulary will be awkward and won't sound right to any of the multiple domain experts.</span></span> <span data-ttu-id="7056d-132">Bu nedenle, BCs (mikro hizmetler uygulanmış), belirli bir etki alanı terimleri burada kullanabilirsiniz ve burada sistem bölme ve farklı etki alanları ile ek BCs oluşturmak ihtiyacınız olacak açıklamak için yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="7056d-132">Therefore, BCs (implemented as microservices) will help you to clarify where you can use certain domain terms and where you'll need to split the system and create additional BCs with different domains.</span></span>

<span data-ttu-id="7056d-133">Sağ sınırları ve her BC boyutlarını alındı ve etki alanı modeli gerekir tipik uygulama işlemleri gerçekleştirirken birden çok etki alanı modelleri bilgileri birleştirmek, etki alanı modelleri arasında birkaç güçlü ilişkiler varsa ve genellikle bunu anlarsınız .</span><span class="sxs-lookup"><span data-stu-id="7056d-133">You'll know that you got the right boundaries and sizes of each BC and domain model if you have few strong relationships between domain models, and you do not usually need to merge information from multiple domain models when performing typical application operations.</span></span>

<span data-ttu-id="7056d-134">Belki de en iyi cevabı ne kadar büyük bir etki alanı modeli için her bir mikro hizmetin olması gerektiği sorusunun yanıtını şudur: otonom bir BC olması gereken diğer bağlamları (diğer sürekli geçiş yapmak zorunda kalmadan çalışmanıza olanak sağlayan mümkün olduğunca yalıtılmış mikro hizmet'ın modeller).</span><span class="sxs-lookup"><span data-stu-id="7056d-134">Perhaps the best answer to the question of how large a domain model for each microservice should be is the following: it should have an autonomous BC, as isolated as possible, that enables you to work without having to constantly switch to other contexts (other microservice's models).</span></span> <span data-ttu-id="7056d-135">Şekil 4-10'da gördüğünüz birden fazla mikro hizmetler (birden çok İBH) her biri kendi modeli ve nasıl kendi varlıklar, uygulamanızda tanımlanan etki alanlarının her biri için belirli gereksinimlerine bağlı olarak tanımlanabilir değişti.</span><span class="sxs-lookup"><span data-stu-id="7056d-135">In Figure 4-10, you can see how multiple microservices (multiple BCs) each has their own model and how their entities can be defined, depending on the specific requirements for each of the identified domains in your application.</span></span>

![Aynı varlık "Kullanıcılar", "Alıcıların", "Ödeyen" ve "Müşteri" sınırlanmış bağlam bağlı olarak göründüğü çeşitli varlıklarda sınırları (sınırlanmış Bağlamlar) modeli](./media/image10.png)

<span data-ttu-id="7056d-137">**Şekil 4-10**.</span><span class="sxs-lookup"><span data-stu-id="7056d-137">**Figure 4-10**.</span></span> <span data-ttu-id="7056d-138">Varlıklar ve mikro hizmet modeli sınırlarını tanımlama</span><span class="sxs-lookup"><span data-stu-id="7056d-138">Identifying entities and microservice model boundaries</span></span>

<span data-ttu-id="7056d-139">Şekil 4-10 çevrimiçi bir konferans yönetim sistemiyle ilgili bir örnek senaryo gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="7056d-139">Figure 4-10 illustrates a sample scenario related to an online conference management system.</span></span> <span data-ttu-id="7056d-140">Mikro hizmetler, etki alanı uzmanları tanımladığınız etki alanları dayalı olarak uygulanması birkaç BCs tespit ettik.</span><span class="sxs-lookup"><span data-stu-id="7056d-140">You've identified several BCs that could be implemented as microservices, based on domains that domain experts defined for you.</span></span> <span data-ttu-id="7056d-141">Gördüğünüz gibi mevcut ödeme mikro hizmet ödemeler gibi bir tek bir mikro hizmet modelinde yalnızca varlık vardır.</span><span class="sxs-lookup"><span data-stu-id="7056d-141">As you can see, there are entities that are present just in a single microservice model, like Payments in the Payment microservice.</span></span> <span data-ttu-id="7056d-142">Bu, uygulaması kolay olacaktır.</span><span class="sxs-lookup"><span data-stu-id="7056d-142">Those will be easy to implement.</span></span>

<span data-ttu-id="7056d-143">Ancak, farklı olan, ancak aynı kimlik birden fazla mikro Hizmetleri birden çok etki alanı modellerden paylaşılmasını varlıkları olabilir.</span><span class="sxs-lookup"><span data-stu-id="7056d-143">However, you might also have entities that have a different shape but share the same identity across the multiple domain models from the multiple microservices.</span></span> <span data-ttu-id="7056d-144">Örneğin, kullanıcı varlığı konferans yönetim mikro hizmet içinde tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="7056d-144">For example, the User entity is identified in the Conferences Management microservice.</span></span> <span data-ttu-id="7056d-145">Bu aynı kullanıcı, aynı kimliğe sahip bir sipariş mikro eğilimlerinden adlı veya bir ödeme mikro hizmet ve hatta bir adlandırılmış Müşteri Müşteri Hizmetleri mikro hizmet ödeyen kişi adlı olur.</span><span class="sxs-lookup"><span data-stu-id="7056d-145">That same user, with the same identity, is the one named Buyers in the Ordering microservice, or the one named Payer in the Payment microservice, and even the one named Customer in the Customer Service microservice.</span></span> <span data-ttu-id="7056d-146">Bu ayarlara bağlı olarak, çünkü [bulunabilen dil](https://martinfowler.com/bliki/UbiquitousLanguage.html) her etki alanı uzmanı kullanarak, bir kullanıcı farklı bir perspektif bile farklı özniteliklere sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="7056d-146">This is because, depending on the [ubiquitous language](https://martinfowler.com/bliki/UbiquitousLanguage.html) that each domain expert is using, a user might have a different perspective even with different attributes.</span></span> <span data-ttu-id="7056d-147">Konferans yönetim adlı mikro hizmet modelinde kullanıcı varlığı kişisel veri özniteliklerini çoğunu olabilir.</span><span class="sxs-lookup"><span data-stu-id="7056d-147">The user entity in the microservice model named Conferences Management might have most of its personal data attributes.</span></span> <span data-ttu-id="7056d-148">Ancak, ödeme mikro hizmet veya müşteri hizmetleri mikro hizmet müşteri şeklinde ödeyen şeklinde, aynı kullanıcının aynı öznitelik listesine gerekmeyebilir.</span><span class="sxs-lookup"><span data-stu-id="7056d-148">However, that same user in the shape of Payer in the microservice Payment or in the shape of Customer in the microservice Customer Service might not need the same list of attributes.</span></span>

<span data-ttu-id="7056d-149">Benzer bir yaklaşım, Şekil 4-11'de gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="7056d-149">A similar approach is illustrated in Figure 4-11.</span></span>

![Geleneksel veri modeli sınırlanmış Bağlamlar arasında parçalama, sınırlanmış her bağlam içinde farklı özniteliklerle aynı kimliğe (bir alıcı da bir kullanıcıdır) paylaşan farklı varlıklar sahip olabilir.](./media/image11.png)

<span data-ttu-id="7056d-151">**Şekil 4-11**.</span><span class="sxs-lookup"><span data-stu-id="7056d-151">**Figure 4-11**.</span></span> <span data-ttu-id="7056d-152">Geleneksel veri modellerini parçalama birden çok etki alanı modeli</span><span class="sxs-lookup"><span data-stu-id="7056d-152">Decomposing traditional data models into multiple domain models</span></span>

<span data-ttu-id="7056d-153">Nasıl kullanıcı konferans yönetim mikro hizmet modelinde kullanıcı varlığı olarak mevcut olduğundan ve ayrıca formunda alıcı varlık başka öznitelikler veya aslında bir alıcı olduğunda kullanıcı hakkındaki ayrıntıları fiyatlandırma mikro hizmet içinde mevcut olduğundan görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7056d-153">You can see how the user is present in the Conferences Management microservice model as the User entity and is also present in the form of the Buyer entity in the Pricing microservice, with alternate attributes or details about the user when it's actually a buyer.</span></span> <span data-ttu-id="7056d-154">Sorunu çözmek için veya içeriği bağlı olarak bu, yalnızca bölüm, kullanıcı varlığı için ilgili tüm verileri, her bir mikro hizmet veya BC gerekmeyebilir.</span><span class="sxs-lookup"><span data-stu-id="7056d-154">Each microservice or BC might not need all the data related to a User entity, just part of it, depending on the problem to solve or the context.</span></span> <span data-ttu-id="7056d-155">Örneği için fiyatlandırma mikro hizmet modelinde, adres veya yalnızca kimliği (kimlik) ve bir indirimler zaman alıcı başına lisans fiyatlandırma etkisi durumu, kullanıcı adını ihtiyacınız yoktur.</span><span class="sxs-lookup"><span data-stu-id="7056d-155">For instance, in the Pricing microservice model, you do not need the address or the name of the user, just the ID (as identity) and Status, which will have an impact on discounts when pricing the seats per buyer.</span></span>

<span data-ttu-id="7056d-156">Bilgisayar varlık aynı olan ad ancak farklı öznitelikleri her etki alanı modeli.</span><span class="sxs-lookup"><span data-stu-id="7056d-156">The Seat entity has the same name but different attributes in each domain model.</span></span> <span data-ttu-id="7056d-157">Ancak, aynı kimliği temel alarak kimlik lisans paylaşan kullanıcı ve alıcı ile'olmuyor gibi.</span><span class="sxs-lookup"><span data-stu-id="7056d-157">However, Seat shares identity based on the same ID, as happens with User and Buyer.</span></span>

<span data-ttu-id="7056d-158">Temel olarak, tüm kullanıcı kimliğini paylaşan birden çok hizmetler (etki alanları), mevcut bir kullanıcının paylaşılan bir kavram yoktur.</span><span class="sxs-lookup"><span data-stu-id="7056d-158">Basically, there's a shared concept of a user that exists in multiple services (domains), which all share the identity of that user.</span></span> <span data-ttu-id="7056d-159">Her etki alanı modeli içinde olabilir ancak kullanıcı varlığı hakkındaki ek veya bunlardan farklı ayrıntıları.</span><span class="sxs-lookup"><span data-stu-id="7056d-159">But in each domain model there might be additional or different details about the user entity.</span></span> <span data-ttu-id="7056d-160">Bu nedenle, vardır (mikro) bir etki alanından kullanıcı varlığı için başka bir yolu olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7056d-160">Therefore, there needs to be a way to map a user entity from one domain (microservice) to another.</span></span>

<span data-ttu-id="7056d-161">Etki alanları arasında aynı kullanıcı varlığı öznitelikleri ile aynı sayıda kullanılmadığı için çeşitli avantajları vardır.</span><span class="sxs-lookup"><span data-stu-id="7056d-161">There are several benefits to not sharing the same user entity with the same number of attributes across domains.</span></span> <span data-ttu-id="7056d-162">Mikro hizmet modellerini ihtiyaç herhangi bir veri gerekmemesi yararlarından biri çoğaltma azaltmaktır.</span><span class="sxs-lookup"><span data-stu-id="7056d-162">One benefit is to reduce duplication, so that microservice models do not have any data that they do not need.</span></span> <span data-ttu-id="7056d-163">Başka bir avantajı, belirli bir tür varlık başına veri sahibi ve böylece güncelleştirmeler ve sorgular veri türü için yalnızca bu mikro hizmet tarafından yönlendirilen ana bir mikro hizmet yaşıyor.</span><span class="sxs-lookup"><span data-stu-id="7056d-163">Another benefit is having a master microservice that owns a certain type of data per entity so that updates and queries for that type of data are driven only by that microservice.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="7056d-164">[Önceki](distributed-data-management.md)
>[İleri](direct-client-to-microservice-communication-versus-the-api-gateway-pattern.md)</span><span class="sxs-lookup"><span data-stu-id="7056d-164">[Previous](distributed-data-management.md)
[Next](direct-client-to-microservice-communication-versus-the-api-gateway-pattern.md)</span></span>
