---
title: Kısmi hata işleme
description: Kısmi hataları işleyeceğinizi öğrenin. Bir mikro hizmet tam olarak işlevsel olmayabilir ancak yine de bazı faydalı bir iş yapmanız mümkün olabilir.
ms.date: 10/16/2018
ms.openlocfilehash: a667ad2e1456db7b5846023de27d3797dad58731
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/15/2019
ms.locfileid: "65640106"
---
# <a name="handle-partial-failure"></a><span data-ttu-id="13c86-104">Kısmi hata işleme</span><span class="sxs-lookup"><span data-stu-id="13c86-104">Handle partial failure</span></span>

<span data-ttu-id="13c86-105">Mikro hizmet tabanlı uygulamalar gibi dağıtılmış sistemlerde ardı arkası bir kısmi hata riskini yoktur.</span><span class="sxs-lookup"><span data-stu-id="13c86-105">In distributed systems like microservices-based applications, there's an ever-present risk of partial failure.</span></span> <span data-ttu-id="13c86-106">Örneği için tek bir mikro hizmet/kapsayıcı başarısız olabilir veya yanıtlamak için kısa bir süre kullanılamıyor olabilir veya tek bir VM veya sunucusuna çökebilir.</span><span class="sxs-lookup"><span data-stu-id="13c86-106">For instance, a single microservice/container can fail or might not be available to respond for a short time, or a single VM or server can crash.</span></span> <span data-ttu-id="13c86-107">İstemcileri ve Hizmetleri ayrı işlemler olduğundan, hizmet istemci isteğini zamanında bir şekilde yanıt vermesi mümkün olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="13c86-107">Since clients and services are separate processes, a service might not be able to respond in a timely way to a client’s request.</span></span> <span data-ttu-id="13c86-108">Hizmet aşırı yüklenmiş ve yanıt verdiğinden çok yavaş için istekleri olabilir veya yalnızca ağ sorunları nedeniyle kısa bir süre için erişilebilir olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="13c86-108">The service might be overloaded and responding very slowly to requests or might simply not be accessible for a short time because of network issues.</span></span>

<span data-ttu-id="13c86-109">Örneğin, Sipariş Ayrıntıları sayfasından hizmetine örnek uygulamayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="13c86-109">For example, consider the Order details page from the eShopOnContainers sample application.</span></span> <span data-ttu-id="13c86-110">Sıralama mikro hizmet yanıt vermiyorsa, kullanıcı çalışır (MVC web uygulaması) istemci işleminin hatalı bir uygulama bir sipariş göndermek — Örneğin, zaman uyumlu RPC hiçbir zaman aşımı ile kullanmak için istemci kodu oluşturduysanız — iş parçacıkları süresiz olarak engeller Yanıt bekleniyor.</span><span class="sxs-lookup"><span data-stu-id="13c86-110">If the ordering microservice is unresponsive when the user tries to submit an order, a bad implementation of the client process (the MVC web application)—for example, if the client code were to use synchronous RPCs with no timeout—would block threads indefinitely waiting for a response.</span></span> <span data-ttu-id="13c86-111">Olumsuz kullanıcı deneyiminden oluşturma, yanı sıra her yanıt bekleme kullanan veya bir iş parçacığını engeller ve iş parçacığı son derece yüksek oranda ölçeklenebilir uygulamalar değerlidir.</span><span class="sxs-lookup"><span data-stu-id="13c86-111">Besides creating a bad user experience, every unresponsive wait consumes or blocks a thread, and threads are extremely valuable in highly scalable applications.</span></span> <span data-ttu-id="13c86-112">Sonuçta pek çok engellenen iş parçacıkları varsa, uygulamanın çalışma zamanı iş parçacığı dışında çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="13c86-112">If there are many blocked threads, eventually the application’s runtime can run out of threads.</span></span> <span data-ttu-id="13c86-113">Bu durumda, uygulamanın genel yerine bırakabiliyor yalnızca kısmen yanıt Şekil 8-1'de gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="13c86-113">In that case, the application can become globally unresponsive instead of just partially unresponsive, as shown in Figure 8-1.</span></span>

![Önceki paragrafta gösteren diyagram](./media/image1.png)

<span data-ttu-id="13c86-115">**Şekil 8-1**.</span><span class="sxs-lookup"><span data-stu-id="13c86-115">**Figure 8-1**.</span></span> <span data-ttu-id="13c86-116">Hizmet iş parçacığı kullanılabilirliğini etkileyebilecek bağımlılıklar nedeniyle kısmi hataları</span><span class="sxs-lookup"><span data-stu-id="13c86-116">Partial failures because of dependencies that impact service thread availability</span></span>

<span data-ttu-id="13c86-117">Özellikle çoğu iç mikro hizmetler etkileşimi (Bu bir önleyici deseni olarak kabul edilir) zaman uyumlu HTTP çağrıları alıyorsa bir büyük mikro hizmet tabanlı uygulama içinde kısmi herhangi bir hata, yükseltilmiş.</span><span class="sxs-lookup"><span data-stu-id="13c86-117">In a large microservices-based application, any partial failure can be amplified, especially if most of the internal microservices interaction is based on synchronous HTTP calls (which is considered an anti-pattern).</span></span> <span data-ttu-id="13c86-118">Gelen çağrılar her gün milyonlarca alan bir sistem hakkında düşünün.</span><span class="sxs-lookup"><span data-stu-id="13c86-118">Think about a system that receives millions of incoming calls per day.</span></span> <span data-ttu-id="13c86-119">Zaman uyumlu HTTP çağrıları uzun zincirler dayalı olarak hatalı bir tasarım sisteminiz varsa bu gelen çağrıları giden aramaları (1:4 oranını varsayalım) zaman uyumlu bir bağımlılık olarak iç mikro hizmetler onlarca, pek çok daha fazla milyonlarca neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="13c86-119">If your system has a bad design that's based on long chains of synchronous HTTP calls, these incoming calls might result in many more millions of outgoing calls (let’s suppose a ratio of 1:4) to dozens of internal microservices as synchronous dependencies.</span></span> <span data-ttu-id="13c86-120">Bu durum, Şekil 8-2'de, özellikle bağımlılık gösterilen \#3.</span><span class="sxs-lookup"><span data-stu-id="13c86-120">This situation is shown in Figure 8-2, especially dependency \#3.</span></span>

![Bağımlı diğer mikro hizmetler zincirine bağlı olduğu web uygulama mikro hizmet için hatalı bir tasarım](./media/image2.png)

<span data-ttu-id="13c86-122">**Şekil 8-2**.</span><span class="sxs-lookup"><span data-stu-id="13c86-122">**Figure 8-2**.</span></span> <span data-ttu-id="13c86-123">HTTP isteklerini uzun zincirleri özelliklerine sahip hatalı bir tasarım sahip olmanın etkisi</span><span class="sxs-lookup"><span data-stu-id="13c86-123">The impact of having an incorrect design featuring long chains of HTTP requests</span></span>

<span data-ttu-id="13c86-124">Her bağımlılık mükemmel kullanılabilirlik olsa bile, aralıklı olarak ortaya çıkan hata dağıtılmış ve bulut tabanlı bir sistemde garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="13c86-124">Intermittent failure is guaranteed in a distributed and cloud-based system, even if every dependency itself has excellent availability.</span></span> <span data-ttu-id="13c86-125">Bunu göz önünde bulundurmanız gereken bir gerçeğidir.</span><span class="sxs-lookup"><span data-stu-id="13c86-125">It's a fact you need to consider.</span></span>

<span data-ttu-id="13c86-126">Daha küçük bir kapalı kalma süreleri, değil tasarlayıp teknikleri hataya dayanıklılık sağlamak için yükseltilmiş.</span><span class="sxs-lookup"><span data-stu-id="13c86-126">If you do not design and implement techniques to ensure fault tolerance, even small downtimes can be amplified.</span></span> <span data-ttu-id="13c86-127">Örneğin, 50 bağımlılıkları her olan % 99,99 oranında kullanılabilirlik birkaç saat kapalı kalma süresi içinde her ay nedeniyle bu dalgalanma etkisine neden olur.</span><span class="sxs-lookup"><span data-stu-id="13c86-127">As an example, 50 dependencies each with 99.99% of availability would result in several hours of downtime each month because of this ripple effect.</span></span> <span data-ttu-id="13c86-128">Yüksek hacimli istekleriniz işlerken bir mikro hizmet bağımlılık başarısız olduğunda, bu hata hızlı bir şekilde her hizmetin tüm kullanılabilir istek iş parçacıklarının saturate ve tüm uygulama kilitlenme.</span><span class="sxs-lookup"><span data-stu-id="13c86-128">When a microservice dependency fails while handling a high volume of requests, that failure can quickly saturate all available request threads in each service and crash the whole application.</span></span>

![Kısmi hatalar zincirleme bağımlılıklardır ciddi bir şekilde yükseltilmiş](./media/image3.png)

<span data-ttu-id="13c86-130">**Şekil 8-3**.</span><span class="sxs-lookup"><span data-stu-id="13c86-130">**Figure 8-3**.</span></span> <span data-ttu-id="13c86-131">Kısmi hata uzun zincirleri zaman uyumlu HTTP çağrıları ile mikro hizmetler tarafından yükseltilmiş</span><span class="sxs-lookup"><span data-stu-id="13c86-131">Partial failure amplified by microservices with long chains of synchronous HTTP calls</span></span>

<span data-ttu-id="13c86-132">Bölümünde, bu sorunu en aza indirmek için [zaman uyumsuz bir mikro hizmet tümleştirmesi zorunlu mikro hizmet'ın bağımsız çalışma sınırı](../architect-microservice-container-applications/communication-in-microservice-architecture.md#asynchronous-microservice-integration-enforces-microservices-autonomy), bu kılavuzda dahili mikro hizmetler arasında zaman uyumsuz iletişim kullanmanızı önerir.</span><span class="sxs-lookup"><span data-stu-id="13c86-132">To minimize this problem, in the section [Asynchronous microservice integration enforce microservice’s autonomy](../architect-microservice-container-applications/communication-in-microservice-architecture.md#asynchronous-microservice-integration-enforces-microservices-autonomy), this guide encourages you to use asynchronous communication across the internal microservices.</span></span>

<span data-ttu-id="13c86-133">Ayrıca, temel kısmi hatalarını işlemek için mikro Hizmetleri ve istemci uygulamalarınızı tasarlama — diğer bir deyişle, esnek bir mikro hizmet ve istemci uygulamaları oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="13c86-133">In addition, it's essential that you design your microservices and client applications to handle partial failures—that is, to build resilient microservices and client applications.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="13c86-134">[Önceki](index.md)
>[İleri](partial-failure-strategies.md)</span><span class="sxs-lookup"><span data-stu-id="13c86-134">[Previous](index.md)
[Next](partial-failure-strategies.md)</span></span>
