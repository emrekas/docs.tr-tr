---
ms.openlocfilehash: 8e75c60126abc2670053eba2c01e1fb36d1a93e8
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/23/2019
ms.locfileid: "61762646"
---
### <a name="wpf-appdomain-shutdown-handling-may-now-call-dispatcherinvoke-in-cleanup-of-weak-events"></a><span data-ttu-id="63e2b-101">Zayıf olay temizleme WPF AppDomain kapatma işleme artık Dispatcher.Invoke çağırabilir</span><span class="sxs-lookup"><span data-stu-id="63e2b-101">WPF AppDomain Shutdown Handling May Now Call Dispatcher.Invoke in Cleanup of Weak Events</span></span>

|   |   |
|---|---|
|<span data-ttu-id="63e2b-102">Ayrıntılar</span><span class="sxs-lookup"><span data-stu-id="63e2b-102">Details</span></span>|<span data-ttu-id="63e2b-103">.NET Framework 4.7.1 ve önceki sürümlerinde, WPF olası oluşturur bir <xref:System.Windows.Threading.Dispatcher?displayProperty=nameWithType> AppDomain kapatma sırasında .NET Sonlandırıcı iş parçacığında.</span><span class="sxs-lookup"><span data-stu-id="63e2b-103">In .NET Framework 4.7.1 and earlier versions, WPF potentially creates a <xref:System.Windows.Threading.Dispatcher?displayProperty=nameWithType> on the .NET finalizer thread during AppDomain shutdown.</span></span>  <span data-ttu-id="63e2b-104">Bu .NET Framework 4.7.2 ve sonraki sürümlerinde zayıf olayların temizleme iş parçacığı kullanan yaparak düzeltildi.</span><span class="sxs-lookup"><span data-stu-id="63e2b-104">This was fixed in .NET Framework 4.7.2 and later versions by making the cleanup of weak events thread-aware.</span></span>  <span data-ttu-id="63e2b-105">Bu nedenle, WPF çağırabilir <xref:System.Windows.Threading.Dispatcher.Invoke%2A?displayProperty=nameWithType> temizleme işlemini tamamlamak için. Bazı uygulamalarda, bu değişikliği zamanlama Sonlandırıcı olası AppDomain sırasında özel durumlarına neden veya kapatma işlemi.</span><span class="sxs-lookup"><span data-stu-id="63e2b-105">Due to this, WPF may call <xref:System.Windows.Threading.Dispatcher.Invoke%2A?displayProperty=nameWithType> to complete the cleanup process.In certain applications, this change in finalizer timing can potentially cause exceptions during AppDomain or process shutdown.</span></span>  <span data-ttu-id="63e2b-106">Bu genellikle, işlem veya AppDomain kapatmadan önce çalışan iş parçacıkları üzerinde çalışan dağıtıcıları aşağı doğru kapatmayın uygulamalarda görülür.</span><span class="sxs-lookup"><span data-stu-id="63e2b-106">This is generally seen in applications that do not correctly shut down dispatchers running on worker threads prior to process or AppDomain shutdown.</span></span>  <span data-ttu-id="63e2b-107">Bu tür uygulamaların düzgün bir şekilde dağıtıcıları ömrünü yönetmek için ilgileniriz.</span><span class="sxs-lookup"><span data-stu-id="63e2b-107">Such applications should take care to properly manage the lifetime of dispatchers.</span></span>|
|<span data-ttu-id="63e2b-108">Öneri</span><span class="sxs-lookup"><span data-stu-id="63e2b-108">Suggestion</span></span>|<span data-ttu-id="63e2b-109">.NET Framework 4.7.2 ve sonraki sürümlerinde, geliştiricilerin bu düzeltmenin yardımcı olmak için devre dışı bırakabilirsiniz temizleme değişikliği nedeniyle oluşabilir zamanlama sorunları hafifletmek (ancak değil ortadan). Temizleme değişiklik devre dışı bırakmak için aşağıdaki AppContext bayrağı kullanın.</span><span class="sxs-lookup"><span data-stu-id="63e2b-109">In .NET Framework 4.7.2 and later versions, developers can disable this fix in order to help alleviate (but not eliminate) timing issues that may occur due to the cleanup change.To disable the change in cleanup, use the following AppContext flag.</span></span><pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.MS.Internal.DoNotInvokeInWeakEventTableShutdownListener=true&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="63e2b-110">Kapsam</span><span class="sxs-lookup"><span data-stu-id="63e2b-110">Scope</span></span>|<span data-ttu-id="63e2b-111">Kenar</span><span class="sxs-lookup"><span data-stu-id="63e2b-111">Edge</span></span>|
|<span data-ttu-id="63e2b-112">Sürüm</span><span class="sxs-lookup"><span data-stu-id="63e2b-112">Version</span></span>|<span data-ttu-id="63e2b-113">4.7.2</span><span class="sxs-lookup"><span data-stu-id="63e2b-113">4.7.2</span></span>|
|<span data-ttu-id="63e2b-114">Tür</span><span class="sxs-lookup"><span data-stu-id="63e2b-114">Type</span></span>|<span data-ttu-id="63e2b-115">Yeniden Hedefleme</span><span class="sxs-lookup"><span data-stu-id="63e2b-115">Retargeting</span></span>|
